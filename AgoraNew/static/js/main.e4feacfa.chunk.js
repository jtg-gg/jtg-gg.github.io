/*! For license information please see main.e4feacfa.chunk.js.LICENSE.txt */
(this["webpackJsonpreact-demo"]=this["webpackJsonpreact-demo"]||[]).push([[0],[,,,,,function(e,t,r){var n=r(17);e.exports=n},,,,function(e,t,r){e.exports=r(19)},,,,,function(e,t,r){},,,function(e,t,r){(function(t){self,e.exports=function(){return r={2190:function(e){e.exports=function(e,r,n){if(e.filter)return e.filter(r,n);if(null==e)throw new TypeError;if("function"!=typeof r)throw new TypeError;for(var o,a=[],i=0;i<e.length;i++)t.call(e,i)&&(o=e[i],r.call(n,o,i,e)&&a.push(o));return a};var t=Object.prototype.hasOwnProperty},9282:function(e,r,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var a,i,s=(g=n(2136).codes).ERR_AMBIGUOUS_ARGUMENT,c=g.ERR_INVALID_ARG_TYPE,u=g.ERR_INVALID_ARG_VALUE,l=g.ERR_INVALID_RETURN_VALUE,f=g.ERR_MISSING_ARGS,d=n(5961),p=n(9539).inspect,h=(g=n(9539).types).isPromise,m=g.isRegExp,g=Object.assign||n(8091).assign,y=Object.is||n(609);function v(){var e=n(9158);a=e.isDeepEqual,i=e.isDeepStrictEqual}new Map;var w=!1,E=(e=e.exports=k,{});function b(e){if(e.message instanceof Error)throw e.message;throw new d(e)}function _(e,t,r,n){if(!r){var o=!1;if(0===t)o=!0,n="No value argument passed to `assert.ok()`";else if(n instanceof Error)throw n;throw(e=new d({actual:r,expected:!0,message:n,operator:"==",stackStartFn:e})).generatedMessage=o,e}}function k(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];_.apply(void 0,[k,t.length].concat(t))}e.fail=function e(r,n,o,a,i){var s,c=arguments.length;if(0===c?s="Failed":1===c?(o=r,r=void 0):(!1===w&&(w=!0,(t.emitWarning||console.warn.bind(console))("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")),2===c&&(a="!=")),o instanceof Error)throw o;throw i={actual:r,expected:n,operator:void 0===a?"fail":a,stackStartFn:i||e},void 0!==o&&(i.message=o),i=new d(i),s&&(i.message=s,i.generatedMessage=!0),i},e.AssertionError=d,e.ok=k,e.equal=function e(t,r,n){if(arguments.length<2)throw new f("actual","expected");t!=r&&b({actual:t,expected:r,message:n,operator:"==",stackStartFn:e})},e.notEqual=function e(t,r,n){if(arguments.length<2)throw new f("actual","expected");t==r&&b({actual:t,expected:r,message:n,operator:"!=",stackStartFn:e})},e.deepEqual=function e(t,r,n){if(arguments.length<2)throw new f("actual","expected");void 0===a&&v(),a(t,r)||b({actual:t,expected:r,message:n,operator:"deepEqual",stackStartFn:e})},e.notDeepEqual=function e(t,r,n){if(arguments.length<2)throw new f("actual","expected");void 0===a&&v(),a(t,r)&&b({actual:t,expected:r,message:n,operator:"notDeepEqual",stackStartFn:e})},e.deepStrictEqual=function e(t,r,n){if(arguments.length<2)throw new f("actual","expected");void 0===a&&v(),i(t,r)||b({actual:t,expected:r,message:n,operator:"deepStrictEqual",stackStartFn:e})},e.notDeepStrictEqual=function e(t,r,n){if(arguments.length<2)throw new f("actual","expected");void 0===a&&v(),i(t,r)&&b({actual:t,expected:r,message:n,operator:"notDeepStrictEqual",stackStartFn:e})},e.strictEqual=function e(t,r,n){if(arguments.length<2)throw new f("actual","expected");y(t,r)||b({actual:t,expected:r,message:n,operator:"strictEqual",stackStartFn:e})},e.notStrictEqual=function e(t,r,n){if(arguments.length<2)throw new f("actual","expected");y(t,r)&&b({actual:t,expected:r,message:n,operator:"notStrictEqual",stackStartFn:e})};var S=function e(t,r,n){var o=this;!function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),r.forEach((function(e){e in t&&(void 0!==n&&"string"==typeof n[e]&&m(t[e])&&t[e].test(n[e])?o[e]=n[e]:o[e]=t[e])}))};function D(e,t,r,n){if("function"==typeof t)return void 0!==t.prototype&&e instanceof t||!Error.isPrototypeOf(t)&&!0===t.call({},e);if(m(t))return t.test(e);if(2===arguments.length)throw new c("expected",["Function","RegExp"],t);if("object"!==o(e)||null===e){var s=new d({actual:e,expected:t,message:r,operator:"deepStrictEqual",stackStartFn:n});throw s.operator=n.name,s}var l=Object.keys(t);if(t instanceof Error)l.push("name","message");else if(0===l.length)throw new u("error",t,"may not be an empty object");return void 0===a&&v(),l.forEach((function(o){"string"==typeof e[o]&&m(t[o])&&t[o].test(e[o])||function(e,t,r,n,o,a){if(!(r in e)||!i(e[r],t[r])){if(!n)throw r=new S(e,o),o=new S(t,o,e),(o=new d({actual:r,expected:o,operator:"deepStrictEqual",stackStartFn:a})).actual=e,o.expected=t,o.operator=a.name,o;b({actual:e,expected:t,message:n,operator:a.name,stackStartFn:a})}}(e,t,o,r,l,n)})),1}function x(e){if("function"!=typeof e)throw new c("fn","Function",e);try{e()}catch(e){return e}return E}function A(e){return h(e)||null!==e&&"object"===o(e)&&"function"==typeof e.then&&"function"==typeof e.catch}function P(e){return Promise.resolve().then((function(){var t;if("function"==typeof e){if(!A(t=e()))throw new l("instance of Promise","promiseFn",t)}else{if(!A(e))throw new c("promiseFn",["Function","Promise"],e);t=e}return Promise.resolve().then((function(){return t})).then((function(){return E})).catch((function(e){return e}))}))}function F(e,t,r,n){if("string"==typeof r){if(4===arguments.length)throw new c("error",["Object","Error","Function","RegExp"],r);if("object"===o(t)&&null!==t){if(t.message===r)throw new s("error/message",'The error message "'.concat(t.message,'" is identical to the message.'))}else if(t===r)throw new s("error/message",'The error "'.concat(t,'" is identical to the message.'));n=r,r=void 0}else if(null!=r&&"object"!==o(r)&&"function"!=typeof r)throw new c("error",["Object","Error","Function","RegExp"],r);var a,i;if(t===E&&(a="",r&&r.name&&(a+=" (".concat(r.name,")")),a+=n?": ".concat(n):".",i="rejects"===e.name?"rejection":"exception",b({actual:void 0,expected:r,operator:e.name,message:"Missing expected ".concat(i).concat(a),stackStartFn:e})),r&&!D(t,r,n,e))throw t}function T(e,t,r,n){var o;if(t!==E)throw"string"==typeof r&&(n=r,r=void 0),r&&!D(t,r)||(o=n?": ".concat(n):".",n="doesNotReject"===e.name?"rejection":"exception",b({actual:t,expected:r,operator:e.name,message:"Got unwanted ".concat(n).concat(o,"\n")+'Actual message: "'.concat(t&&t.message,'"'),stackStartFn:e})),t}function R(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];_.apply(void 0,[R,t.length].concat(t))}e.throws=function e(t){for(var r=arguments.length,n=new Array(1<r?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];F.apply(void 0,[e,x(t)].concat(n))},e.rejects=function e(t){for(var r=arguments.length,n=new Array(1<r?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return P(t).then((function(t){return F.apply(void 0,[e,t].concat(n))}))},e.doesNotThrow=function e(t){for(var r=arguments.length,n=new Array(1<r?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];T.apply(void 0,[e,x(t)].concat(n))},e.doesNotReject=function e(t){for(var r=arguments.length,n=new Array(1<r?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return P(t).then((function(t){return T.apply(void 0,[e,t].concat(n))}))},e.ifError=function e(t){if(null!=t){var r="ifError got unwanted exception: ";if("object"===o(t)&&"string"==typeof t.message?0===t.message.length&&t.constructor?r+=t.constructor.name:r+=t.message:r+=p(t),r=new d({actual:t,expected:null,operator:"ifError",message:r,stackStartFn:e}),"string"==typeof(t=t.stack)){var n=t.split("\n");n.shift();for(var a=r.stack.split("\n"),i=0;i<n.length;i++){var s=a.indexOf(n[i]);if(-1!==s){a=a.slice(0,s);break}}r.stack="".concat(a.join("\n"),"\n").concat(n.join("\n"))}throw r}},e.strict=g(R,e,{equal:e.strictEqual,deepEqual:e.deepStrictEqual,notEqual:e.notStrictEqual,notDeepEqual:e.notDeepStrictEqual}),e.strict.strict=e.strict},5961:function(e,r,n){"use strict";function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?i(e):t}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e){var t="function"==typeof Map?new Map:void 0;return(s=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return c(e,arguments,l(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),u(n,e)})(e)}function c(e,t,r){return(c=function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),1}catch(e){return}}}()?Reflect.construct:function(e,t,r){var n=[null];return n.push.apply(n,t),n=new(Function.bind.apply(e,n)),r&&u(n,r.prototype),n}).apply(null,arguments)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var d=n(9539).inspect,p=n(2136).codes.ERR_INVALID_ARG_TYPE;function h(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}var m="",g="",y="",v="",w={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"};function E(e){var t=Object.keys(e),r=Object.create(Object.getPrototypeOf(e));return t.forEach((function(t){r[t]=e[t]})),Object.defineProperty(r,"message",{value:e.message}),r}function b(e){return d(e,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}n=function(){function e(r){var n;if(function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),"object"!==f(r)||null===r)throw new p("options","Object",r);var o=r.message,s=r.operator,c=r.stackStartFn,u=r.actual,d=r.expected,_=Error.stackTraceLimit;if(Error.stackTraceLimit=0,null!=o)n=a(this,l(e).call(this,String(o)));else if(t.stderr&&t.stderr.isTTY&&(y=t.stderr&&t.stderr.getColorDepth&&1!==t.stderr.getColorDepth()?(m="\x1b[34m",g="\x1b[32m",v="\x1b[39m","\x1b[31m"):v=g=m=""),"object"===f(u)&&null!==u&&"object"===f(d)&&null!==d&&"stack"in u&&u instanceof Error&&"stack"in d&&d instanceof Error&&(u=E(u),d=E(d)),"deepStrictEqual"===s||"strictEqual"===s)n=a(this,l(e).call(this,function(e,r,n){var o="",a="",i=0,s="",c=!1,u=b(e),l=u.split("\n"),d=b(r).split("\n"),p=0,E="";if("strictEqual"===n&&"object"===f(e)&&"object"===f(r)&&null!==e&&null!==r&&(n="strictEqualObject"),1===l.length&&1===d.length&&l[0]!==d[0]){var _=l[0].length+d[0].length;if(_<=10){if(!("object"===f(e)&&null!==e||"object"===f(r)&&null!==r||0===e&&0===r))return"".concat(w[n],"\n\n")+"".concat(l[0]," !== ").concat(d[0],"\n")}else if("strictEqualObject"!==n&&_<(t.stderr&&t.stderr.isTTY?t.stderr.columns:80)){for(;l[0][p]===d[0][p];)p++;2<p&&(E="\n  ".concat(function(e,t){if(t=Math.floor(t),0==e.length||0==t)return"";var r=e.length*t;for(t=Math.floor(Math.log(t)/Math.log(2));t;)e+=e,t--;return e+e.substring(0,r-e.length)}(" ",p),"^"),p=0)}}for(var k=l[l.length-1],S=d[d.length-1];k===S&&(p++<2?s="\n  ".concat(k).concat(s):o=k,l.pop(),d.pop(),0!==l.length&&0!==d.length);)k=l[l.length-1],S=d[d.length-1];var D=Math.max(l.length,d.length);if(0===D){var x=u.split("\n");if(30<x.length)for(x[26]="".concat(m,"...").concat(v);27<x.length;)x.pop();return"".concat(w.notIdentical,"\n\n").concat(x.join("\n"),"\n")}3<p&&(s="\n".concat(m,"...").concat(v).concat(s),c=!0),""!==o&&(s="\n  ".concat(o).concat(s),o="");var A=0,P=w[n]+"\n".concat(g,"+ actual").concat(v," ").concat(y,"- expected").concat(v),F=" ".concat(m,"...").concat(v," Lines skipped");for(p=0;p<D;p++){var T,R,O,j=p-i;if(l.length<p+1?(1<j&&2<p&&(4<j?(a+="\n".concat(m,"...").concat(v),c=!0):3<j&&(a+="\n  ".concat(d[p-2]),A++),a+="\n  ".concat(d[p-1]),A++),i=p,o+="\n".concat(y,"-").concat(v," ").concat(d[p]),A++):d.length<p+1?(1<j&&2<p&&(4<j?(a+="\n".concat(m,"...").concat(v),c=!0):3<j&&(a+="\n  ".concat(l[p-2]),A++),a+="\n  ".concat(l[p-1]),A++),i=p,a+="\n".concat(g,"+").concat(v," ").concat(l[p]),A++):(T=d[p],(O=(R=l[p])!==T&&(!h(R,",")||R.slice(0,-1)!==T))&&h(T,",")&&T.slice(0,-1)===R&&(O=!1,R+=","),O?(1<j&&2<p&&(4<j?(a+="\n".concat(m,"...").concat(v),c=!0):3<j&&(a+="\n  ".concat(l[p-2]),A++),a+="\n  ".concat(l[p-1]),A++),i=p,a+="\n".concat(g,"+").concat(v," ").concat(R),o+="\n".concat(y,"-").concat(v," ").concat(T),A+=2):(a+=o,o="",1!=j&&0!==p||(a+="\n  ".concat(R),A++))),20<A&&p<D-2)return"".concat(P).concat(F,"\n").concat(a,"\n").concat(m,"...").concat(v).concat(o,"\n")+"".concat(m,"...").concat(v)}return"".concat(P).concat(c?F:"","\n").concat(a).concat(o).concat(s).concat(E)}(u,d,s)));else if("notDeepStrictEqual"===s||"notStrictEqual"===s){var k=w[s],S=b(u).split("\n");if("notStrictEqual"===s&&"object"===f(u)&&null!==u&&(k=w.notStrictEqualObject),30<S.length)for(S[26]="".concat(m,"...").concat(v);27<S.length;)S.pop();n=1===S.length?a(this,l(e).call(this,"".concat(k," ").concat(S[0]))):a(this,l(e).call(this,"".concat(k,"\n\n").concat(S.join("\n"),"\n")))}else{var D=b(u);r="",k=w[s],"notDeepEqual"===s||"notEqual"===s?1024<(D="".concat(w[s],"\n\n").concat(D)).length&&(D="".concat(D.slice(0,1021),"...")):(r="".concat(b(d)),512<D.length&&(D="".concat(D.slice(0,509),"...")),512<r.length&&(r="".concat(r.slice(0,509),"...")),"deepEqual"===s||"equal"===s?D="".concat(k,"\n\n").concat(D,"\n\nshould equal\n\n"):r=" ".concat(s," ").concat(r)),n=a(this,l(e).call(this,"".concat(D).concat(r)))}return Error.stackTraceLimit=_,n.generatedMessage=!o,Object.defineProperty(i(n),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),n.code="ERR_ASSERTION",n.actual=u,n.expected=d,n.operator=s,Error.captureStackTrace&&Error.captureStackTrace(i(n),c),n.stack,n.name="AssertionError",a(n)}var r,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(e,s(Error)),r=e,(n=[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:d.custom,value:function(e,t){return d(this,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);(n="function"==typeof Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))):n).forEach((function(t){var n,o;n=e,t=r[o=t],o in n?Object.defineProperty(n,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[o]=t}))}return e}({},t,{customInspect:!1,depth:0}))}}])&&o(r.prototype,n),e}(),e.exports=n},2136:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var i,s,c={};function u(e,t,r){r=r||Error;var i=function(){function i(r,a,s){return function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this),(s=function(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}(this,o(i).call(this,(r=r,a=a,s=s,"string"==typeof t?t:t(r,a,s))))).code=e,s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(i,r),i}();c[e]=i}function l(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),2<r?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}u("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),u("ERR_INVALID_ARG_TYPE",(function(e,t,o){var a,s,c,u,f;return(i=void 0===i?r(9282):i)("string"==typeof e,"'name' must be a string"),"string"==typeof t&&(u="not ",t.substr(!c||c<0?0:+c,u.length)===u)?(a="must not be",t=t.replace(/^not /,"")):a="must be",c=e,u=" argument",(void 0===f||f>c.length)&&(f=c.length),(t=c.substring(f-u.length,f)===u?"The ".concat(e," ").concat(a," ").concat(l(t,"type")):(s=((s="number"!=typeof s?0:s)+(f=".").length>(u=e).length?void 0:-1!==u.indexOf(f,s))?"property":"argument",'The "'.concat(e,'" ').concat(s," ").concat(a," ").concat(l(t,"type"))))+". Received type ".concat(n(o))}),TypeError),u("ERR_INVALID_ARG_VALUE",(function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"is invalid";return 128<(t=(s=void 0===s?r(9539):s).inspect(t)).length&&(t="".concat(t.slice(0,128),"...")),"The argument '".concat(e,"' ").concat(n,". Received ").concat(t)}),TypeError,RangeError),u("ERR_INVALID_RETURN_VALUE",(function(e,t,r){return r=r&&r.constructor&&r.constructor.name?"instance of ".concat(r.constructor.name):"type ".concat(n(r)),"Expected ".concat(e,' to be returned from the "').concat(t,'"')+" function but got ".concat(r,".")}),TypeError),u("ERR_MISSING_ARGS",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];(i=void 0===i?r(9282):i)(0<t.length,"At least one arg needs to be specified");var o="The ",a=t.length;switch(t=t.map((function(e){return'"'.concat(e,'"')})),a){case 1:o+="".concat(t[0]," argument");break;case 2:o+="".concat(t[0]," and ").concat(t[1]," arguments");break;default:o+=t.slice(0,a-1).join(", "),o+=", and ".concat(t[a-1]," arguments")}return"".concat(o," must be specified")}),TypeError),e.exports.codes=c},9158:function(e,t,r){"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var a=void 0!==/a/g.flags,i=function(e){var t=[];return e.forEach((function(e){return t.push(e)})),t},s=function(e){var t=[];return e.forEach((function(e,r){return t.push([r,e])})),t},c=Object.is||r(609),u=Object.getOwnPropertySymbols||function(){return[]},l=Number.isNaN||r(360);function f(e){return e.call.bind(e)}var d=f(Object.prototype.hasOwnProperty),p=f(Object.prototype.propertyIsEnumerable),h=f(Object.prototype.toString),m=(r=r(9539).types).isAnyArrayBuffer,g=r.isArrayBufferView,y=r.isDate,v=r.isMap,w=r.isRegExp,E=r.isSet,b=r.isNativeError,_=r.isBoxedPrimitive,k=r.isNumberObject,S=r.isStringObject,D=r.isBooleanObject,x=r.isBigIntObject,A=r.isSymbolObject,P=r.isFloat32Array,F=r.isFloat64Array;function T(e){if(0===e.length||10<e.length)return!0;for(var t=0;t<e.length;t++){var r=e.charCodeAt(t);if(r<48||57<r)return!0}return 10===e.length&&e>=Math.pow(2,32)}function R(e){return Object.keys(e).filter(T).concat(u(e).filter(Object.prototype.propertyIsEnumerable.bind(e)))}function O(e,t){if(e===t)return 0;for(var r=e.length,n=t.length,o=0,a=Math.min(r,n);o<a;++o)if(e[o]!==t[o]){r=e[o],n=t[o];break}return r<n?-1:n<r?1:0}function j(e,t,r,n){if(e===t)return 0!==e||!r||c(e,t);if(r){if("object"!==o(e))return"number"==typeof e&&l(e)&&l(t);if("object"!==o(t)||null===e||null===t)return!1;if(Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1}else{if(null===e||"object"!==o(e))return(null===t||"object"!==o(t))&&e==t;if(null===t||"object"!==o(t))return!1}var i,s,u=h(e);if(u!==h(t))return!1;if(Array.isArray(e)){if(e.length!==t.length)return!1;var f=R(e),d=R(t);return f.length===d.length&&I(e,t,r,n,1,f)}if("[object Object]"===u&&(!v(e)&&v(t)||!E(e)&&E(t)))return!1;if(y(e)){if(!y(t)||Date.prototype.getTime.call(e)!==Date.prototype.getTime.call(t))return!1}else if(w(e)){if(!w(t)||(f=e,u=t,a?f.source!==u.source||f.flags!==u.flags:RegExp.prototype.toString.call(f)!==RegExp.prototype.toString.call(u)))return!1}else if(b(e)||e instanceof Error){if(e.message!==t.message||e.name!==t.name)return!1}else{if(g(e)){if(r||!P(e)&&!F(e)){if(T=t,(p=e).byteLength!==T.byteLength||0!==O(new Uint8Array(p.buffer,p.byteOffset,p.byteLength),new Uint8Array(T.buffer,T.byteOffset,T.byteLength)))return!1}else if(!function(e,t){if(e.byteLength===t.byteLength){for(var r=0;r<e.byteLength;r++)if(e[r]!==t[r])return;return 1}}(e,t))return!1;var p=R(e),T=R(t);return p.length===T.length&&I(e,t,r,n,0,p)}if(E(e))return!(!E(t)||e.size!==t.size)&&I(e,t,r,n,2);if(v(e))return!(!v(t)||e.size!==t.size)&&I(e,t,r,n,3);if(m(e)){if(s=t,(i=e).byteLength!==s.byteLength||0!==O(new Uint8Array(i),new Uint8Array(s)))return!1}else if(_(e)&&(i=t,!(k(s=e)?k(i)&&c(Number.prototype.valueOf.call(s),Number.prototype.valueOf.call(i)):S(s)?S(i)&&String.prototype.valueOf.call(s)===String.prototype.valueOf.call(i):D(s)?D(i)&&Boolean.prototype.valueOf.call(s)===Boolean.prototype.valueOf.call(i):x(s)?x(i)&&BigInt.prototype.valueOf.call(s)===BigInt.prototype.valueOf.call(i):A(i)&&Symbol.prototype.valueOf.call(s)===Symbol.prototype.valueOf.call(i))))return!1}return I(e,t,r,n,0)}function M(e,t){return t.filter((function(t){return p(e,t)}))}function I(e,t,r,a,c,l){if(5===arguments.length){l=Object.keys(e);var f=Object.keys(t);if(l.length!==f.length)return!1}for(var h=0;h<l.length;h++)if(!d(t,l[h]))return!1;if(r&&5===arguments.length){var m=u(e);if(0!==m.length){var g=0;for(h=0;h<m.length;h++){var y=m[h];if(p(e,y)){if(!p(t,y))return!1;l.push(y),g++}else if(p(t,y))return!1}var v=u(t);if(m.length!==v.length&&M(t,v).length!==g)return!1}else{var w=u(t);if(0!==w.length&&0!==M(t,w).length)return!1}}if(0===l.length&&(0===c||1===c&&0===e.length||0===e.size))return!0;if(void 0===a)a={val1:new Map,val2:new Map,position:0};else{if(void 0!==(v=a.val1.get(e))&&void 0!==(w=a.val2.get(t)))return v===w;a.position++}return a.val1.set(e,a.position),a.val2.set(t,a.position),c=function(e,t,r,a,c,u){var l=0;if(2===u){if(!function(e,t,r,n){for(var a=null,s=i(e),c=0;c<s.length;c++){var u=s[c];if("object"===o(u)&&null!==u)(a=null===a?new Set:a).add(u);else if(!t.has(u)){if(r)return!1;if(!function(e,t,r){return null!=(r=N(r))?r:t.has(r)&&!e.has(r)}(e,t,u))return!1;(a=null===a?new Set:a).add(u)}}if(null===a)return!0;for(var l=i(t),f=0;f<l.length;f++){var d=l[f];if("object"===o(d)&&null!==d){if(!B(a,d,r,n))return!1}else if(!r&&!e.has(d)&&!B(a,d,r,n))return!1}return 0===a.size}(e,t,r,c))return!1}else if(3===u){if(!function(e,t,r,a){for(var i=null,c=s(e),u=0;u<c.length;u++){var l=n(c[u],2),f=l[0],d=l[1];if("object"===o(f)&&null!==f)(i=null===i?new Set:i).add(f);else if(void 0===(l=t.get(f))&&!t.has(f)||!j(d,l,r,a)){if(r)return!1;if(!function(e,t,r,n,o){var a=N(r);return null!=a?a:!(void 0===(r=t.get(a))&&!t.has(a)||!j(n,r,!1,o))&&!e.has(a)&&j(n,r,!1,o)}(e,t,f,d,a))return!1;(i=null===i?new Set:i).add(f)}}if(null===i)return!0;for(var p=s(t),h=0;h<p.length;h++){f=(m=n(p[h],2))[0];var m=m[1];if("object"===o(f)&&null!==f){if(!L(i,e,f,m,r,a))return!1}else if(!(r||e.has(f)&&j(e.get(f),m,!1,a)||L(i,e,f,m,!1,a)))return!1}return 0===i.size}(e,t,r,c))return!1}else if(1===u)for(;l<e.length;l++){if(!d(e,l)){if(d(t,l))return!1;for(var f=Object.keys(e);l<f.length;l++){var p=f[l];if(!d(t,p)||!j(e[p],t[p],r,c))return!1}return f.length===Object.keys(t).length}if(!d(t,l)||!j(e[l],t[l],r,c))return!1}for(l=0;l<a.length;l++){var h=a[l];if(!j(e[h],t[h],r,c))return!1}return!0}(e,t,r,l,a,c),a.val1.delete(e),a.val2.delete(t),c}function B(e,t,r,n){for(var o=i(e),a=0;a<o.length;a++){var s=o[a];if(j(t,s,r,n))return e.delete(s),1}}function N(e){switch(o(e)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":e=+e;case"number":if(l(e))return!1}return!0}function L(e,t,r,n,o,a){for(var s=i(e),c=0;c<s.length;c++){var u=s[c];if(j(r,u,o,a)&&j(n,t.get(u),o,a))return e.delete(u),1}}e.exports={isDeepEqual:function(e,t){return j(e,t,!1)},isDeepStrictEqual:function(e,t){return j(e,t,!0)}}},6314:function(e,t,r){"use strict";var n=r(2190);e.exports=function(){return n(["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],(function(e){return"function"==typeof r.g[e]}))}},1924:function(e,t,r){"use strict";var n=r(210),o=r(5559),a=o(n("String.prototype.indexOf"));e.exports=function(e,t){return"function"==typeof(t=n(e,!!t))&&-1<a(e,".prototype.")?o(t):t}},5559:function(e,t,r){"use strict";var n=r(8612),o=(r=r(210))("%Function.prototype.apply%"),a=r("%Function.prototype.call%"),i=r("%Reflect.apply%",!0)||n.call(a,o),s=r("%Object.getOwnPropertyDescriptor%",!0),c=r("%Object.defineProperty%",!0),u=r("%Math.max%");if(c)try{c({},"a",{value:1})}catch(e){c=null}e.exports=function(e){var t=i(n,a,arguments);return s&&c&&s(t,"length").configurable&&c(t,"length",{value:1+u(0,e.length-(arguments.length-1))}),t},r=function(){return i(n,o,arguments)},c?c(e.exports,"apply",{value:r}):e.exports.apply=r},4289:function(e,t,r){"use strict";function n(e,t,r,n){var o;t in e&&("function"!=typeof(o=n)||"[object Function]"!==i.call(o)||!n())||(u?c(e,t,{configurable:!0,enumerable:!1,value:r,writable:!0}):e[t]=r)}var o=r(2215),a="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),i=Object.prototype.toString,s=Array.prototype.concat,c=Object.defineProperty,u=c&&function(){var e={};try{for(var t in c(e,"x",{enumerable:!1,value:e}),e)return!1;return e.x===e}catch(e){return!1}}();(r=function(e,t){var r=2<arguments.length?arguments[2]:{},i=o(t);a&&(i=s.call(i,Object.getOwnPropertySymbols(t)));for(var c=0;c<i.length;c+=1)n(e,i[c],t[i[c]],r[i[c]])}).supportsDescriptors=!!u,e.exports=r},4079:function(e,t,r){"use strict";var n=r(210)("%Object.getOwnPropertyDescriptor%");if(n)try{n([],"length")}catch(e){n=null}e.exports=n},8091:function(e){"use strict";function t(e,t){if(null==e)throw new TypeError("Cannot convert first argument to object");for(var r=Object(e),n=1;n<arguments.length;n++){var o=arguments[n];if(null!=o)for(var a=Object.keys(Object(o)),i=0,s=a.length;i<s;i++){var c=a[i],u=Object.getOwnPropertyDescriptor(o,c);void 0!==u&&u.enumerable&&(r[c]=o[c])}}return r}e.exports={assign:t,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:t})}}},9804:function(e){var t=Object.prototype.hasOwnProperty,r=Object.prototype.toString;e.exports=function(e,n,o){if("[object Function]"!==r.call(n))throw new TypeError("iterator must be a function");var a=e.length;if(a===+a)for(var i=0;i<a;i++)n.call(o,e[i],i,e);else for(var s in e)t.call(e,s)&&n.call(o,e[s],s,e)}},7648:function(e){"use strict";var t=Array.prototype.slice,r=Object.prototype.toString;e.exports=function(e){var n=this;if("function"!=typeof n||"[object Function]"!==r.call(n))throw new TypeError("Function.prototype.bind called on incompatible "+n);for(var o,a,i=t.call(arguments,1),s=Math.max(0,n.length-i.length),c=[],u=0;u<s;u++)c.push("$"+u);return o=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof o){var r=n.apply(this,i.concat(t.call(arguments)));return Object(r)===r?r:this}return n.apply(e,i.concat(t.call(arguments)))})),n.prototype&&((a=function(){}).prototype=n.prototype,o.prototype=new a,a.prototype=null),o}},8612:function(e,t,r){"use strict";r=r(7648),e.exports=Function.prototype.bind||r},210:function(e,t,r){"use strict";function n(e){try{return a('"use strict"; return ('+e+").constructor;")()}catch(e){}}var o=SyntaxError,a=Function,i=TypeError,s=Object.getOwnPropertyDescriptor;if(s)try{s({},"")}catch(e){s=null}function c(){throw new i}function u(e){var t,r;return"%AsyncFunction%"===e?t=n("async function () {}"):"%GeneratorFunction%"===e?t=n("function* () {}"):"%AsyncGeneratorFunction%"===e?t=n("async function* () {}"):"%AsyncGenerator%"===e?(r=u("%AsyncGeneratorFunction%"))&&(t=r.prototype):"%AsyncIteratorPrototype%"!==e||(r=u("%AsyncGenerator%"))&&(t=d(r.prototype)),m[e]=t}var l=s?function(){try{return c}catch(e){try{return s(arguments,"callee").get}catch(e){return c}}}():c,f=r(1405)(),d=Object.getPrototypeOf||function(e){return e.__proto__},p={},h="undefined"==typeof Uint8Array?y:d(Uint8Array),m={"%AggregateError%":"undefined"==typeof AggregateError?y:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?y:ArrayBuffer,"%ArrayIteratorPrototype%":f?d([][Symbol.iterator]()):y,"%AsyncFromSyncIteratorPrototype%":y,"%AsyncFunction%":p,"%AsyncGenerator%":p,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":p,"%Atomics%":"undefined"==typeof Atomics?y:Atomics,"%BigInt%":"undefined"==typeof BigInt?y:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?y:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?y:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?y:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?y:FinalizationRegistry,"%Function%":a,"%GeneratorFunction%":p,"%Int8Array%":"undefined"==typeof Int8Array?y:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?y:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?y:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":f?d(d([][Symbol.iterator]())):y,"%JSON%":"object"==typeof JSON?JSON:y,"%Map%":"undefined"==typeof Map?y:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&f?d((new Map)[Symbol.iterator]()):y,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?y:Promise,"%Proxy%":"undefined"==typeof Proxy?y:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?y:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?y:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&f?d((new Set)[Symbol.iterator]()):y,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?y:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":f?d(""[Symbol.iterator]()):y,"%Symbol%":f?Symbol:y,"%SyntaxError%":o,"%ThrowTypeError%":l,"%TypedArray%":h,"%TypeError%":i,"%Uint8Array%":"undefined"==typeof Uint8Array?y:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?y:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?y:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?y:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?y:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?y:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?y:WeakSet},g={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},y=r(8612),v=r(7642),w=y.call(Function.call,Array.prototype.concat),E=y.call(Function.apply,Array.prototype.splice),b=y.call(Function.call,String.prototype.replace),_=y.call(Function.call,String.prototype.slice),k=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,S=/\\(\\)?/g;e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new i("intrinsic name must be a non-empty string");if(1<arguments.length&&"boolean"!=typeof t)throw new i('"allowMissing" argument must be a boolean');var r,n=function(e){var t=_(e,0,1),r=_(e,-1);if("%"===t&&"%"!==r)throw new o("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new o("invalid intrinsic syntax, expected opening `%`");var n=[];return b(e,k,(function(e,t,r,o){n[n.length]=r?b(o,S,"$1"):t||e})),n}(e),a=0<n.length?n[0]:"",c=(r=function(e,t){var r,n=e;if(v(g,n)&&(n="%"+(r=g[n])[0]+"%"),v(m,n)){var a=m[n];if(void 0===(a=a===p?u(n):a)&&!t)throw new i("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:a}}throw new o("intrinsic "+e+" does not exist!")}("%"+a+"%",t)).name,l=r.value,f=!1;(r=r.alias)&&(a=r[0],E(n,w([0,1],r)));for(var d=1,h=!0;d<n.length;d+=1){var y=n[d],D=_(y,0,1),x=_(y,-1);if(('"'===D||"'"===D||"`"===D||'"'===x||"'"===x||"`"===x)&&D!==x)throw new o("property names with quotes must have matching quotes");if("constructor"!==y&&h||(f=!0),v(m,c="%"+(a+="."+y)+"%"))l=m[c];else if(null!=l){if(!(y in l)){if(!t)throw new i("base intrinsic for "+e+" exists, but the property is not available.");return}l=s&&d+1>=n.length?(h=!!(x=s(l,y)))&&"get"in x&&!("originalValue"in x.get)?x.get:l[y]:(h=v(l,y),l[y]),h&&!f&&(m[c]=l)}}return l}},1405:function(e,t,r){"use strict";var n=r.g.Symbol,o=r(5419);e.exports=function(){return"function"==typeof n&&"function"==typeof Symbol&&"symbol"==typeof n("foo")&&"symbol"==typeof Symbol("bar")&&o()}},5419:function(e){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;return("function"!=typeof Object.keys||0===Object.keys(e).length)&&("function"!=typeof Object.getOwnPropertyNames||0===Object.getOwnPropertyNames(e).length)&&1===(r=Object.getOwnPropertySymbols(e)).length&&r[0]===t&&!!Object.prototype.propertyIsEnumerable.call(e,t)&&("function"!=typeof Object.getOwnPropertyDescriptor||42===(e=Object.getOwnPropertyDescriptor(e,t)).value&&!0===e.enumerable)}},7642:function(e,t,r){"use strict";r=r(8612),e.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},5717:function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){var r;t&&(e.super_=t,(r=function(){}).prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e)}},2584:function(e,t,r){"use strict";function n(e){return!(a&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===i(e)}function o(e){return!!n(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&0<=e.length&&"[object Array]"!==i(e)&&"[object Function]"===i(e.callee)}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,i=r(1924)("Object.prototype.toString");r=function(){return n(arguments)}(),n.isLegacyArguments=o,e.exports=r?n:o},8662:function(e){"use strict";var t=Object.prototype.toString,r=Function.prototype.toString,n=/^\s*(?:function)?\*/,o="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,a=Object.getPrototypeOf,i=function(){if(!o)return!1;try{return Function("return function*() {}")()}catch(e){}}(),s=!(!a||!i)&&a(i);e.exports=function(e){return"function"==typeof e&&(!!n.test(r.call(e))||(o?a&&a(e)===s:"[object GeneratorFunction]"===t.call(e)))}},8611:function(e){"use strict";e.exports=function(e){return e!=e}},360:function(e,t,r){"use strict";var n=r(5559),o=r(4289),a=r(8611),i=r(9415);r=r(3194),o(n=n(i(),Number),{getPolyfill:i,implementation:a,shim:r}),e.exports=n},9415:function(e,t,r){"use strict";var n=r(8611);e.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:n}},3194:function(e,t,r){"use strict";var n=r(4289),o=r(9415);e.exports=function(){var e=o();return n(Number,{isNaN:e},{isNaN:function(){return Number.isNaN!==e}}),e}},5692:function(e,t,r){"use strict";var n=r(9804),o=r(6314),a=r(1924),i=a("Object.prototype.toString"),s=r(1405)()&&"symbol"==typeof Symbol.toStringTag,c=o(),u=a("Array.prototype.indexOf",!0)||function(e,t){for(var r=0;r<e.length;r+=1)if(e[r]===t)return r;return-1},l=a("String.prototype.slice"),f={},d=r(4079),p=Object.getPrototypeOf;s&&d&&p&&n(c,(function(e){var t=new r.g[e];if(!(Symbol.toStringTag in t))throw new EvalError("this engine has support for Symbol.toStringTag, but "+e+" does not have the property! Please report this.");var n=p(t);(t=d(n,Symbol.toStringTag))||(n=p(n),t=d(n,Symbol.toStringTag)),f[e]=t.get})),e.exports=function(e){return!(!e||"object"!=typeof e)&&(s?!!d&&(t=e,r=!1,n(f,(function(e,n){if(!r)try{r=e.call(t)===n}catch(e){}})),r):(e=l(i(e),8,-1),-1<u(c,e)));var t,r}},4244:function(e){"use strict";function t(e){return e!=e}e.exports=function(e,r){return 0===e&&0===r?1/e==1/r:e===r||!(!t(e)||!t(r))}},609:function(e,t,r){"use strict";var n=r(4289),o=r(5559),a=r(4244),i=r(5624);r=r(2281),n(o=o(i(),Object),{getPolyfill:i,implementation:a,shim:r}),e.exports=o},5624:function(e,t,r){"use strict";var n=r(4244);e.exports=function(){return"function"==typeof Object.is?Object.is:n}},2281:function(e,t,r){"use strict";var n=r(5624),o=r(4289);e.exports=function(){var e=n();return o(Object,{is:e},{is:function(){return Object.is!==e}}),e}},8987:function(e,t,r){"use strict";var n,o,a,i,s,c,u,l,f,d;Object.keys||(n=Object.prototype.hasOwnProperty,o=Object.prototype.toString,a=r(1414),d=Object.prototype.propertyIsEnumerable,i=!d.call({toString:null},"toString"),s=d.call((function(){}),"prototype"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],u=function(e){var t=e.constructor;return t&&t.prototype===e},l={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},f=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!l["$"+e]&&n.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{u(window[e])}catch(e){return!0}}catch(e){return!0}return!1}(),d=function(e){var t=null!==e&&"object"==typeof e,r="[object Function]"===o.call(e),l=a(e),d=t&&"[object String]"===o.call(e),p=[];if(!t&&!r&&!l)throw new TypeError("Object.keys called on a non-object");var h=s&&r;if(d&&0<e.length&&!n.call(e,0))for(var m=0;m<e.length;++m)p.push(String(m));if(l&&0<e.length)for(var g=0;g<e.length;++g)p.push(String(g));else for(var y in e)h&&"prototype"===y||!n.call(e,y)||p.push(String(y));if(i)for(var v=function(e){if("undefined"==typeof window||!f)return u(e);try{return u(e)}catch(e){return!1}}(e),w=0;w<c.length;++w)v&&"constructor"===c[w]||!n.call(e,c[w])||p.push(c[w]);return p}),e.exports=d},2215:function(e,t,r){"use strict";var n=Array.prototype.slice,o=r(1414),a=Object.keys,i=a?function(e){return a(e)}:r(8987),s=Object.keys;i.shim=function(){return Object.keys?function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2)||(Object.keys=function(e){return o(e)?s(n.call(e)):s(e)}):Object.keys=i,Object.keys||i},e.exports=i},1414:function(e){"use strict";var t=Object.prototype.toString;e.exports=function(e){var r=t.call(e);return"[object Arguments]"===r||"[object Array]"!==r&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&0<=e.length&&"[object Function]"===t.call(e.callee)}},4211:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return n}});var n="// Setting precision for float calculations\nprecision mediump float;\n\n// This is input from vertex shader\nvarying highp vec2 vTextureCoord;\n\n// Samplers are needeed to select textures\n// actually its integers\nuniform sampler2D uSampler;\nuniform sampler2D uAlpha;\nuniform vec2 vTexSize;\n\n#define SIGMA 2.0\n#define BSIGMA 1.0\n#define MSIZE 3\n\nfloat normpdf(in float x, in float sigma)\n{\n    return 0.39894*exp(-0.5*x*x/(sigma*sigma))/sigma;\n}\n\nfloat normpdf3(in vec3 v, in float sigma)\n{\n    return 0.39894*exp(-0.5*dot(v,v)/(sigma*sigma))/sigma;\n}\n\nfloat normpdf4(in vec4 v, in float sigma)\n{\n    return 0.39894*exp(-0.5*dot(v,v)/(sigma*sigma))/sigma;\n}\n\nvoid main(void) {\n\n    // Transforming coordinates from GL space to texture space\n    // All math can be done directly to vectors\n    vec2 fragCoord = vTextureCoord / 2.0 + 0.5;\n    fragCoord = 1.0 - fragCoord;\n    vec2 iResolution = vTexSize;\n\n    vec4 c = texture2D(uAlpha, fragCoord.xy);\n\n    //declare stuff\n    const int kSize = (MSIZE-1)/2;\n    float kernel[MSIZE];\n    vec4 final_colour = vec4(0.0);\n    \n    //create the 1-D kernel\n    float Z = 0.0;\n    for (int j = 0; j <= kSize; ++j)\n    {\n        kernel[kSize+j] = kernel[kSize-j] = normpdf(float(j), SIGMA);\n    }\n    \n    \n    vec4 cc;\n    float factor;\n    float bZ = 1.0/normpdf(0.0, BSIGMA);\n    //read out the texels\n    for (int i=-kSize; i <= kSize; ++i)\n    {\n        for (int j=-kSize; j <= kSize; ++j)\n        {\n            cc = texture2D(uAlpha, fragCoord.xy + vec2(float(i),float(j)) / iResolution.xy);\n            //factor = normpdf4(cc-c, BSIGMA)*bZ*kernel[kSize+j]*kernel[kSize+i];\n            factor = normpdf3(cc.rgb-c.rgb, BSIGMA)*bZ*kernel[kSize+j]*kernel[kSize+i];\n            //factor = normpdf(cc.a-c.a, BSIGMA)*bZ*kernel[kSize+j]*kernel[kSize+i];\n            Z += factor;\n            final_colour += factor*cc;\n\n        }\n    }\n    \n    gl_FragColor = final_colour/Z;\t\n}\n"},6090:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return n}});var n='// Setting precision for float calculations\nprecision mediump float;\n\n// This is input from vertex shader\nvarying highp vec2 vTextureCoord;\n\n// Samplers are needeed to select textures\n// actually its integers\nuniform sampler2D uSampler;\nuniform sampler2D uAlpha;\nuniform vec2 vDIR;\n\nconst float PI = 3.1415926535897932384626433832795;\nconst int blur_size = 3;\nconst float blur_width = 1.;\n\nfloat gauss(float x, float e)\n{\n  return 1.0 / (pow(2.0 * PI * e * e, 0.5)) * exp(-(x * x) / (2.0 * e * e));\n}\n\nvoid main(void) {\n  // Transforming coordinates from GL space to texture space\n  // All math can be done directly to vectors\n  vec2 coords = vTextureCoord / 2.0 + 0.5;\n  coords = 1.0 - coords;\n\n  vec3 pixval = vec3(0.);\n  float tot = 0.;\n  float alpha = 0.;\n\n  const int nb = 2 * blur_size + 1;\n\n  for (int x = 0; x < nb; x++)\n  {\n    float x2 = blur_width * float(x - blur_size);\n    vec2 ipos = coords + vDIR * x2;\n    vec4 tex = texture2D(uAlpha, ipos);\n\n    // use alpha from main pixel / "coords"\n    if (x == blur_size) {\n      alpha = tex.a;\n    }\n    float g = gauss(x2, float(blur_size) * blur_width);\n\n    // multiply the gaussian coeffisien with the mask\n    g *= 1.0 - tex.a;\n\n    pixval += g * tex.rgb;\n    tot += g;\n  }\n  gl_FragColor = vec4(pixval / tot, alpha);\n}\n'},9526:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return n}});var n="// Setting precision for float calculations\nprecision mediump float;\n\n// This is input from vertex shader\nvarying highp vec2 vTextureCoord;\n\n// Samplers are needeed to select textures\n// actually its integers\nuniform sampler2D uSampler;\nuniform sampler2D uAlpha;\nuniform vec2 vTexSize;\n\nvec2 coords;\nvec4 background;\nvoid main(void) {\n\n    // Transforming coordinates from GL space to texture space\n    // All math can be done directly to vectors\n    coords = vTextureCoord / 2.0 + 0.5;\n    coords = 1.0 - coords;\n\n\tbackground = texture2D(uAlpha, coords);\n\t\n    const float PI = 6.28318530718; // Pi*2\n    \n    // GAUSSIAN BLUR SETTINGS {{{\n    const float DIR = 4.0; // BLUR DIRECTIONS (Default 16.0 - More is better but slower)\n    const float QLT = 2.0; // BLUR QUALITY (Default 3.0 - More is better but slower)\n    const float SIZE = 2.0; // BLUR SIZE (Radius Default 8.0)\n    // GAUSSIAN BLUR SETTINGS }}}\n   \n    vec2 RAD = SIZE/vTexSize;\n    \n    // Blur calculations\n    for( float d=0.0; d<PI; d+=PI/DIR)\n    {\n\t\tfor(float i=1.0/QLT; i<=1.0; i+=1.0/QLT)\n        {\n\t\t\tbackground += texture2D( uAlpha, coords+vec2(cos(d),sin(d))*RAD*i);\t\t\n        }\n    }\n    \n    // Output to screen\n    background /= QLT * DIR;\n\n\t// Fragment shader must set this variable\n\tgl_FragColor = background;\n}\n"},597:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return n}});var n="// Setting precision for float calculations\nprecision mediump float;\n// This is input from vertex shader\nvarying highp vec2 vTextureCoord;\n// Samplers are needeed to select textures\n// actually its integers\nuniform sampler2D uSampler;\nuniform sampler2D uAlpha;\nuniform sampler2D uBackground;\nuniform bool opaqueBackground;\n\nvec2 coords;\nvec4 background;\nfloat alpha;\nvoid main(void){\n\n    // Transforming coordinates from GL space to texture space\n    // All math can be done directly to vectors\n    coords = vTextureCoord / 2.0 + 0.5;\n    coords.x = 1.0 - coords.x;\n\n    alpha = texture2D(uAlpha, coords).a;\n    //transform alpha value 0.5 - 1.0 --\x3e 0.0 --\x3e 1.0  \n    //alpha = clamp(alpha * 2.0 - 1.0, 0.0, 1.0);\n\n    background = texture2D(uBackground, coords);\n    if (opaqueBackground) {\n        background.a = 1.0;\n    }\n\n    // Fragment shader must set this variable\n    gl_FragColor = texture2D(uSampler, coords) * alpha + (1.0 - alpha) * background;\n}"},8521:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return n}});var n="// This is our input from js world\nattribute vec2 coords;\n// This is output for the fragment shader\n// varying variables are a little special\n// you will see why later\nvarying highp vec2 vTextureCoord;\n\nvoid main (void) {\n    // Texture and verticies have different coordinate spaces\n    // we do this to invert Y axis\n    vTextureCoord = -coords;\n\n    // Setting vertix position for shape assembler \n    // GLSL has many convenient vector functions\n    // here we extending 2D coords vector to 4D with 2 values\n    // 0.0 is a Z coordinate\n    // 1.1 is a W, special value needed for 3D math\n    // just leave it 1 for now\n    gl_Position = vec4(coords, 0.0, 1.0);\n}"},3607:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TfLite=void 0,r=n(r(7924)),t.TfLite=r.default},7924:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(7898)),a=n(r(3221)),i=n(r(6998)),s=function(e,t){this.inputVideo=e,this.eventID=t};function c(e){var t=this;void 0===e&&(e=0),this.tfLiteWasm=null,this.tfLiteWorkers=[],this.curWorker=0,this.tfLiteJobs=[],this.blurBackground=!1,this.onMessage=function(e){var r=e.data,n=r.eventType,o=r.eventData,a=r.eventID;if("INFERENCE_RESULT"===n){for(var i=null,s=0,c=t.tfLiteJobs;s<c.length;s++){var u=c[s];if(!u.imageData&&u.eventID===a){i=u;break}}i.imageData=new ImageData(new Uint8ClampedArray(o[0]),o[1],o[2]),null!==(o=t.onInferenceResult)&&void 0!==o&&o.call(t)}else"ERROR"===n&&console.error(e)};for(var r=0;r<e;r++)this.tfLiteWorkers.push(new o.default),this.tfLiteWorkers[r].onmessage=this.onMessage,this.tfLiteWorkers[r].postMessage({eventType:"INITIALISE"});e<=0&&(c.threads>navigator.hardwareConcurrency&&console.warn("requested TfLite.threads > navigator.hardwareConcurrency"),this.tfLiteWasm=new a.default(c.threads,c.locateFile)),this.canvas=document.createElement("canvas"),this.inputCanvas=document.createElement("canvas");var n=this.canvas.getContext("webgl");if(null==n)throw new Error("TfLite canvas.getContext(webgl) fail");this.webGLImageProcessing=new i.default(n,a.default.getWidth(),a.default.getHeight()),this.setBackground(c.TRANSPARENT)}c.prototype.destroy=function(){this.webGLImageProcessing.destroy();for(var e=0,t=this.tfLiteWorkers;e<t.length;e++)t[e].terminate();this.tfLiteWorkers=[],delete c.instance},c.getInstance=function(){if(void 0===c.instance)try{c.instance=new c}catch(e){console.error("Failed to initialise TfLite"),console.error(e),c.instance=null}return c.instance},c.prototype.isBusy=function(){return 1<this.tfLiteJobs.length&&this.tfLiteJobs.length>2*this.tfLiteWorkers.length},c.prototype.render=function(){var e,t=null;return!!(t=null!==(e=this.tfLiteJobs[0])&&void 0!==e&&e.imageData?this.tfLiteJobs.shift():t)&&(this.webGLImageProcessing.updateTexture(i.default.Textures.VIDEO_MASK,t.imageData),this.webGLImageProcessing.updateTexture(i.default.Textures.VIDEO_INPUT,t.inputVideo),this.blurBackground?this.webGLImageProcessing.blurBackground(i.default.Textures.VIDEO_MASK):this.webGLImageProcessing.filterMask(i.default.Textures.VIDEO_MASK),this.webGLImageProcessing.render(),!0)},c.prototype.setBackground=function(e){this.webGLImageProcessing.updateTexture(i.default.Textures.BACKGROUND,e)},c.prototype.process=function(e,t,r,n,o){if(void 0===o&&(o=!1),!this.isBusy()){var i=e.videoWidth|e.width,c=e.videoHeight|e.height;this.inputCanvas.width=i,this.inputCanvas.height=c;var u,l=this.inputCanvas.getContext("2d");if(!l)throw new Error("TfLite.inputCanvas.getContext(2d) fail");if(l.drawImage(e,0,0,i,c,0,0,i,c),l=l.getImageData(0,0,i,c),this.canvas.width===r&&this.canvas.height===n||(this.canvas.width=r,this.canvas.height=n),this.webGLImageProcessing.setViewPort(0,o?this.canvas.height-n:0,r,n),o=a.default.getWidth(t),r=a.default.getHeight(t),this.tfLiteWasm){if(!this.tfLiteWasm.isInitDone())return;if(this.inputCanvasScaled||(this.inputCanvasScaled=document.createElement("canvas")),this.inputCanvasScaled.width=o,this.inputCanvasScaled.height=r,!(u=this.inputCanvasScaled.getContext("2d")))throw new Error("TfLite.inputCanvasScaled.getContext(2d) fail");u.drawImage(this.inputCanvas,0,0,i,c,0,0,o,r);var f=u.getImageData(0,0,o,r);n=new s(l,this.curWorker),t=new Uint8ClampedArray(this.tfLiteWasm.runInference(f)),n.imageData=new ImageData(t,o,r),this.tfLiteJobs.push(n)}else if(this.tfLiteJobs.push(new s(l,this.curWorker)),"undefined"==typeof OffscreenCanvas){if(this.inputCanvasScaled||(this.inputCanvasScaled=document.createElement("canvas")),this.inputCanvasScaled.width=o,this.inputCanvasScaled.height=r,!(u=this.inputCanvasScaled.getContext("2d")))throw new Error("TfLite.inputCanvasScaled.getContext(2d) fail");u.drawImage(this.inputCanvas,0,0,i,c,0,0,o,r),f=u.getImageData(0,0,o,r),this.tfLiteWorkers[this.curWorker].postMessage({eventType:"CALL",eventData:{method:"RUN_INFERENCE",arguments:[f.data.buffer,o,r,o,r]},eventID:this.curWorker})}else this.tfLiteWorkers[this.curWorker].postMessage({eventType:"CALL",eventData:{method:"RUN_INFERENCE",arguments:[l.data.buffer,o,r,i,c]},eventID:this.curWorker});this.curWorker=(this.curWorker+1)%this.tfLiteWorkers.length}},c.TRANSPARENT=new ImageData(new Uint8ClampedArray([0,0,0,0]),1,1),c.locateFile=function(e,t){var r=location.href,n=r.indexOf("/static/js/");return 0<=n?r.substring(0,n)+"/tflite-wasm/"+e:"./tflite-wasm/"+e},c.threads=Math.min(2,navigator.hardwareConcurrency),r=c,t.default=r},3221:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=a(r(7618)),c=i(r(8707)),u=i(r(3349)),l=i(r(6931));function f(t,r){var n=this;this.offset=0,this.runInferenceWasm=null,this.loadModel=null,this.width=f.getWidth(),this.height=f.getHeight(),this.tfLiteWasmInit=function(e,t){function r(){n.loadModel(f.getModelId(),n.threads),t()}if(n.instance=e,n.offset=e._malloc(n.width*n.height*4),n.runInferenceWasm=e.cwrap("run_inference","void",["number","number"]),n.loadModel=e.cwrap("load_model","int",["number","number"]),e.PThread&&1<n.threads){for(var o=0;o<n.threads-1;o++)e.PThread.allocateUnusedWorker();var a=e.PThread.unusedWorkers.length;e.PThread.unusedWorkers.forEach((function(t){e.PThread.loadWasmModuleToWorker(t,(function(){--a||r()}))}))}else r()},this.threads=t,this.initDone=new Promise((function(o){try{if(!s.feature.simd)throw new Error("NO Wasm SIMD feature");l.default({mainScriptUrlOrBlob:"./tflite-wasm-simd.js",locateFile:r}).then((function(e){return n.tfLiteWasmInit(e,o)}))}catch(e){try{if(!(s.feature.threads&&"function"==typeof SharedArrayBuffer&&1<t))throw new Error("NO Wasm threads feature or threads is not requested");c.default({mainScriptUrlOrBlob:"./tflite-wasm-thread.js",locateFile:r}).then((function(e){return n.tfLiteWasmInit(e,o)}))}catch(e){u.default({mainScriptUrlOrBlob:"./tflite-wasm.js",locateFile:r}).then((function(e){return n.tfLiteWasmInit(e,o)}))}}}))}f.getWidth=function(e){return(e=void 0!==e&&e)?160:256},f.getHeight=function(e){return(e=void 0!==e&&e)?96:144},f.getModelId=function(e){switch(void 0===e&&(e=!1),f.getWidth(e)){case 192:return 0;case 128:return 1;case 256:return 2;case 160:return 3}},f.prototype.isInitDone=function(){return null!=this.loadModel&&null!=this.runInference},f.prototype.runInference=function(e){if(!(e.width===f.getWidth()&&e.height===f.getHeight()||e.width===f.getWidth(!0)&&e.height===f.getHeight(!0)))throw new Error("TfLiteWasm process imageData must be "+f.getWidth()+"x"+f.getHeight()+" or "+f.getWidth(!0)+"x"+f.getHeight(!0));return this.width===e.width&&this.height===e.height||(this.width=e.width,this.height=e.height,this.loadModel(f.getModelId(this.width===f.getWidth(!0)),this.threads)),this.instance.HEAPU8.set(e.data,this.offset),this.runInferenceWasm(this.offset,this.width*this.height*4),this.instance.HEAPU8.slice(this.offset,this.offset+this.width*this.height*4)},r=f,t.default=r},6998:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(r(9282)),i=n(r(4211)),s=n(r(6090)),c=n(r(9526)),u=n(r(597)),l=n(r(8521));function f(e,t,r){var n=this;this.isUsingBilateral=!1,this.textures=[],this.fragShaders=[],this.progs=[],this.frameBuffer=null,this.blurRenderTexture=null,this.maskRenderTexture=null,this.backgroundTextureSource=null,this.onWebGLContextLost=function(e){e.preventDefault(),n.destroy()},this.onWebGLContextRestored=function(){n.initResources(),n.updateTexture(o.BACKGROUND,n.backgroundTextureSource)},this.gl=e,this.rtWidth=t,this.rtHeight=r,e.canvas.addEventListener("webglcontextlost",this.onWebGLContextLost),e.canvas.addEventListener("webglcontextrestored",this.onWebGLContextRestored),this.initResources()}(r=o=o||{})[r.VIDEO_INPUT=0]="VIDEO_INPUT",r[r.VIDEO_MASK=1]="VIDEO_MASK",r[r.BACKGROUND=2]="BACKGROUND",f.prototype.initResources=function(){var e=this.gl,t=e.createShader(e.VERTEX_SHADER);if(null==t)throw new Error("WebGLImageProcessing gl.createShader(gl.VERTEX_SHADER) fail");if(this.vertSh=t,this.prepareWebGL(),null==(t=e.createBuffer()))throw new Error("WebGLImageProcessing vertexBuffer = gl.createBuffer() fail");this.vertexBuffer=t,this.setArrays(),this.switchShader(0),a.default(this.createTexture()===o.VIDEO_INPUT),a.default(this.createTexture()===o.VIDEO_MASK),a.default(this.createTexture()===o.BACKGROUND),this.frameBuffer=e.createFramebuffer(),this.frameBuffer&&(this.blurRenderTexture=this.createTextureRenderTarget(this.rtWidth/2,this.rtHeight/2),this.maskRenderTexture=this.createTextureRenderTarget(this.rtWidth,this.rtHeight)),this.canvasViewport=[0,0,e.canvas.width,e.canvas.height]},f.prototype.destroy=function(){var e=this.gl;e.deleteShader(this.vertSh),this.fragShaders.forEach((function(t){return e.deleteShader(t)})),this.fragShaders=[],this.progs.forEach((function(t){return e.deleteProgram(t)})),this.progs=[],e.deleteBuffer(this.vertexBuffer),this.textures.forEach((function(t){return e.deleteTexture(t)})),this.textures=[],e.deleteFramebuffer(this.frameBuffer),this.frameBuffer=null},f.prototype.prepareWebGL=function(){var e=this.gl;e.shaderSource(this.vertSh,l.default),e.compileShader(this.vertSh),console.log(e.getShaderInfoLog(this.vertSh)),this.fragShaders=[],this.progs=[],this.createFragmentShader(u.default),this.createFragmentShader(s.default),this.createFragmentShader(c.default),this.createFragmentShader(i.default)},f.prototype.createFragmentShader=function(e){var t=this.gl,r=t.createShader(t.FRAGMENT_SHADER);if(null==r)throw new Error("WebGLImageProcessing gl.createShader(gl.FRAGMENT_SHADER) fail");if(t.shaderSource(r,e),t.compileShader(r),console.log(t.getShaderInfoLog(r)),null==(e=t.createProgram()))throw new Error("WebGLImageProcessing gl.createProgram() fail");t.attachShader(e,this.vertSh),t.attachShader(e,r),t.linkProgram(e),this.fragShaders.push(r),this.progs.push(e)},f.prototype.setArrays=function(){var e=this.gl;e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),e.bufferData(e.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,1,1,1,-1,-1,1]),e.STATIC_DRAW);var t=e.getAttribLocation(this.progs[0],"coords");e.vertexAttribPointer(t,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(t)},f.prototype.createTextureRenderTarget=function(e,t){var r=this.gl,n=r.createTexture();if(null==n)return console.error("gl.createTexture() fail"),null;r.bindTexture(r.TEXTURE_2D,n);var o=r.RGBA,a=r.RGBA,i=r.UNSIGNED_BYTE;return r.texImage2D(r.TEXTURE_2D,0,o,e,t,0,a,i,null),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),n.textureWidth=e,n.textureHeight=t,this.textures.push(n),n},f.prototype.createTexture=function(){var e=this.gl,t=e.createTexture();if(null==t)return console.error("gl.createTexture() fail"),-1;var r=e.RGBA,n=e.RGBA,o=e.UNSIGNED_BYTE,a=new Uint8Array([0,0,255,255]);return e.bindTexture(e.TEXTURE_2D,t),e.texImage2D(e.TEXTURE_2D,0,r,1,1,0,n,o,a),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),this.textures.push(t),this.textures.length-1},f.prototype.updateTexture=function(e,t,r){void 0===r&&(r=e),e===o.BACKGROUND&&(this.backgroundTextureSource=t);var n,a,i=this.textures[r];i&&((n=this.gl).activeTexture(n.TEXTURE0+e),a=n.RGBA,r=n.RGBA,e=n.UNSIGNED_BYTE,n.bindTexture(n.TEXTURE_2D,i),n.texImage2D(n.TEXTURE_2D,0,a,r,e,t),i.textureWidth=t.width||t.videoWidth,i.textureHeight=t.height||t.videoHeight)},f.prototype.switchShader=function(e){var t=this.gl,r=this.progs[e];t.useProgram(r);var n=t.getUniformLocation(r,"uSampler"),a=t.getUniformLocation(r,"uAlpha");t.uniform1i(n,o.VIDEO_INPUT),t.uniform1i(a,o.VIDEO_MASK),0===e&&(r=t.getUniformLocation(r,"uBackground"),t.uniform1i(r,o.BACKGROUND),this.setOpaqueBackground(!1))},f.prototype.filterMask=function(e){var t,r;null!=this.frameBuffer&&null!=this.maskRenderTexture&&((t=this.gl).bindFramebuffer(t.FRAMEBUFFER,this.frameBuffer),r=t.COLOR_ATTACHMENT0,t.framebufferTexture2D(t.FRAMEBUFFER,r,t.TEXTURE_2D,this.maskRenderTexture,0),t.viewport(0,0,this.maskRenderTexture.textureWidth,this.maskRenderTexture.textureHeight),r=this.isUsingBilateral?3:2,this.switchShader(r),r=t.getUniformLocation(this.progs[r],"vTexSize"),t.uniform2f(r,this.maskRenderTexture.textureWidth,this.maskRenderTexture.textureHeight),t.activeTexture(t.TEXTURE1),t.bindTexture(t.TEXTURE_2D,this.textures[e]),this.render(),this.switchShader(0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.activeTexture(t.TEXTURE1),t.bindTexture(t.TEXTURE_2D,this.maskRenderTexture),t.viewport(this.canvasViewport[0],this.canvasViewport[1],this.canvasViewport[2],this.canvasViewport[3]))},f.prototype.setOpaqueBackground=function(e){var t=this.gl,r=t.getUniformLocation(this.progs[0],"opaqueBackground");t.uniform1i(r,e?1:0)},f.prototype.blurBackground=function(e){var t,r,n,o,a;null!=this.frameBuffer&&null!=this.blurRenderTexture&&(t=this.gl,r=this.textures[e],t.bindFramebuffer(t.FRAMEBUFFER,this.frameBuffer),n=t.COLOR_ATTACHMENT0,t.framebufferTexture2D(t.FRAMEBUFFER,n,t.TEXTURE_2D,this.blurRenderTexture,0),t.viewport(0,0,this.blurRenderTexture.textureWidth,this.blurRenderTexture.textureHeight),this.switchShader(1),o=t.getUniformLocation(this.progs[1],"vDIR"),t.uniform2f(o,1/this.blurRenderTexture.textureWidth,0),t.activeTexture(t.TEXTURE1),a=t.getParameter(t.TEXTURE_BINDING_2D),t.bindTexture(t.TEXTURE_2D,r),this.render(),t.framebufferTexture2D(t.FRAMEBUFFER,n,t.TEXTURE_2D,r,0),t.uniform2f(o,0,1/this.blurRenderTexture.textureHeight),t.activeTexture(t.TEXTURE1),t.bindTexture(t.TEXTURE_2D,this.blurRenderTexture),t.viewport(0,0,r.textureWidth,r.textureHeight),this.render(),this.switchShader(0),this.setOpaqueBackground(!0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.activeTexture(t.TEXTURE1),t.bindTexture(t.TEXTURE_2D,a),t.activeTexture(t.TEXTURE2),t.bindTexture(t.TEXTURE_2D,this.textures[e]),t.viewport(this.canvasViewport[0],this.canvasViewport[1],this.canvasViewport[2],this.canvasViewport[3]))},f.prototype.render=function(){var e=this.gl;e.clearColor(0,0,0,1),e.clear(e.COLOR_BUFFER_BIT),e.drawArrays(e.TRIANGLES,0,6)},f.prototype.setViewPort=function(e,t,r,n){this.canvasViewport=[e,t,r,n],this.gl.viewport(e,t,r,n)},f.Textures=o,r=f,t.default=r},384:function(e){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},5955:function(e,t,r){"use strict";var n=r(2584),o=r(8662),a=r(6430),i=r(5692);function s(e){return e.call.bind(e)}var c,u,l="undefined"!=typeof BigInt,f="undefined"!=typeof Symbol,d=s(Object.prototype.toString),p=s(Number.prototype.valueOf),h=s(String.prototype.valueOf),m=s(Boolean.prototype.valueOf);function g(e,t){if("object"!=typeof e)return!1;try{return t(e),!0}catch(e){return!1}}function y(e){return"[object Map]"===d(e)}function v(e){return"[object Set]"===d(e)}function w(e){return"[object WeakMap]"===d(e)}function E(e){return"[object WeakSet]"===d(e)}function b(e){return"[object ArrayBuffer]"===d(e)}function _(e){return"undefined"!=typeof ArrayBuffer&&(b.working?b(e):e instanceof ArrayBuffer)}function k(e){return"[object DataView]"===d(e)}function S(e){return"undefined"!=typeof DataView&&(k.working?k(e):e instanceof DataView)}function D(e){return"[object SharedArrayBuffer]"===d(e)}function x(e){return"undefined"!=typeof SharedArrayBuffer&&(D.working?D(e):e instanceof SharedArrayBuffer)}function A(e){return g(e,p)}function P(e){return g(e,h)}function F(e){return g(e,m)}function T(e){return l&&g(e,c)}function R(e){return f&&g(e,u)}l&&(c=s(BigInt.prototype.valueOf)),f&&(u=s(Symbol.prototype.valueOf)),t.isArgumentsObject=n,t.isGeneratorFunction=o,t.isTypedArray=i,t.isPromise=function(e){return"undefined"!=typeof Promise&&e instanceof Promise||null!==e&&"object"==typeof e&&"function"==typeof e.then&&"function"==typeof e.catch},t.isArrayBufferView=function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):i(e)||S(e)},t.isUint8Array=function(e){return"Uint8Array"===a(e)},t.isUint8ClampedArray=function(e){return"Uint8ClampedArray"===a(e)},t.isUint16Array=function(e){return"Uint16Array"===a(e)},t.isUint32Array=function(e){return"Uint32Array"===a(e)},t.isInt8Array=function(e){return"Int8Array"===a(e)},t.isInt16Array=function(e){return"Int16Array"===a(e)},t.isInt32Array=function(e){return"Int32Array"===a(e)},t.isFloat32Array=function(e){return"Float32Array"===a(e)},t.isFloat64Array=function(e){return"Float64Array"===a(e)},t.isBigInt64Array=function(e){return"BigInt64Array"===a(e)},t.isBigUint64Array=function(e){return"BigUint64Array"===a(e)},y.working="undefined"!=typeof Map&&y(new Map),t.isMap=function(e){return"undefined"!=typeof Map&&(y.working?y(e):e instanceof Map)},v.working="undefined"!=typeof Set&&v(new Set),t.isSet=function(e){return"undefined"!=typeof Set&&(v.working?v(e):e instanceof Set)},w.working="undefined"!=typeof WeakMap&&w(new WeakMap),t.isWeakMap=function(e){return"undefined"!=typeof WeakMap&&(w.working?w(e):e instanceof WeakMap)},E.working="undefined"!=typeof WeakSet&&E(new WeakSet),t.isWeakSet=E,b.working="undefined"!=typeof ArrayBuffer&&b(new ArrayBuffer),t.isArrayBuffer=_,k.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&k(new DataView(new ArrayBuffer(1),0,1)),t.isDataView=S,D.working="undefined"!=typeof SharedArrayBuffer&&D(new SharedArrayBuffer),t.isSharedArrayBuffer=x,t.isAsyncFunction=function(e){return"[object AsyncFunction]"===d(e)},t.isMapIterator=function(e){return"[object Map Iterator]"===d(e)},t.isSetIterator=function(e){return"[object Set Iterator]"===d(e)},t.isGeneratorObject=function(e){return"[object Generator]"===d(e)},t.isWebAssemblyCompiledModule=function(e){return"[object WebAssembly.Module]"===d(e)},t.isNumberObject=A,t.isStringObject=P,t.isBooleanObject=F,t.isBigIntObject=T,t.isSymbolObject=R,t.isBoxedPrimitive=function(e){return A(e)||P(e)||F(e)||T(e)||R(e)},t.isAnyArrayBuffer=function(e){return"undefined"!=typeof Uint8Array&&(_(e)||x(e))},["isProxy","isExternal","isModuleNamespaceObject"].forEach((function(e){Object.defineProperty(t,e,{enumerable:!1,value:function(){throw new Error(e+" is not supported in userland")}})}))},9539:function(e,r,n){var o=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},a=/%[sdj%]/g;r.format=function(e){if(!w(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(u(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,o=n.length,i=String(e).replace(a,(function(e){if("%%"===e)return"%";if(o<=r)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}})),s=n[r];r<o;s=n[++r])y(s)||!_(s)?i+=" "+s:i+=" "+u(s);return i},r.deprecate=function(e,n){if("undefined"!=typeof t&&!0===t.noDeprecation)return e;if("undefined"==typeof t)return function(){return r.deprecate(e,n).apply(this,arguments)};var o=!1;return function(){if(!o){if(t.throwDeprecation)throw new Error(n);t.traceDeprecation?console.trace(n):console.error(n),o=!0}return e.apply(this,arguments)}};var i,s={},c=/^$/;function u(e,t){var n={seen:[],stylize:f};return 3<=arguments.length&&(n.depth=arguments[2]),4<=arguments.length&&(n.colors=arguments[3]),g(t)?n.showHidden=t:t&&r._extend(n,t),E(n.showHidden)&&(n.showHidden=!1),E(n.depth)&&(n.depth=2),E(n.colors)&&(n.colors=!1),E(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=l),d(n,e,n.depth)}function l(e,t){return(t=u.styles[t])?"\x1b["+u.colors[t][0]+"m"+e+"\x1b["+u.colors[t][1]+"m":e}function f(e,t){return e}function d(e,t,n){if(e.customInspect&&t&&D(t.inspect)&&t.inspect!==r.inspect&&(!t.constructor||t.constructor.prototype!==t))return w(a=t.inspect(n,e))?a:d(e,a,n);if(c=function(e,t){if(E(t))return e.stylize("undefined","undefined");if(w(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return v(t)?e.stylize(""+t,"number"):g(t)?e.stylize(""+t,"boolean"):y(t)?e.stylize("null","null"):void 0}(e,t))return c;var o,a=Object.keys(t),i=(o={},a.forEach((function(e,t){o[e]=!0})),o);if(e.showHidden&&(a=Object.getOwnPropertyNames(t)),S(t)&&(0<=a.indexOf("message")||0<=a.indexOf("description")))return p(t);if(0===a.length){if(D(t)){var s=t.name?": "+t.name:"";return e.stylize("[Function"+s+"]","special")}if(b(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(k(t))return e.stylize(Date.prototype.toString.call(t),"date");if(S(t))return p(t)}var c="",u=!1;return s=["{","}"],m(t)&&(u=!0,s=["[","]"]),D(t)&&(c=" [Function"+(t.name?": "+t.name:"")+"]"),b(t)&&(c=" "+RegExp.prototype.toString.call(t)),k(t)&&(c=" "+Date.prototype.toUTCString.call(t)),S(t)&&(c=" "+p(t)),0!==a.length||u&&0!=t.length?n<0?b(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),a=u?function(e,t,r,n,o){for(var a=[],i=0,s=t.length;i<s;++i)F(t,String(i))?a.push(h(e,t,r,n,String(i),!0)):a.push("");return o.forEach((function(o){o.match(/^\d+$/)||a.push(h(e,t,r,n,o,!0))})),a}(e,t,n,i,a):a.map((function(r){return h(e,t,n,i,r,u)})),e.seen.pop(),function(e,t,r){return 60<e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}(a,c,s)):s[0]+c+s[1]}function p(e){return"["+Error.prototype.toString.call(e)+"]"}function h(e,t,r,n,o,a){var i,s;if((t=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?s=t.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):t.set&&(s=e.stylize("[Setter]","special")),F(n,o)||(i="["+o+"]"),s||(e.seen.indexOf(t.value)<0?-1<(s=y(r)?d(e,t.value,null):d(e,t.value,r-1)).indexOf("\n")&&(s=a?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),E(i)){if(a&&o.match(/^\d+$/))return s;i=(i=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(i=i.substr(1,i.length-2),e.stylize(i,"name")):(i=i.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),e.stylize(i,"string"))}return i+": "+s}function m(e){return Array.isArray(e)}function g(e){return"boolean"==typeof e}function y(e){return null===e}function v(e){return"number"==typeof e}function w(e){return"string"==typeof e}function E(e){return void 0===e}function b(e){return _(e)&&"[object RegExp]"===x(e)}function _(e){return"object"==typeof e&&null!==e}function k(e){return _(e)&&"[object Date]"===x(e)}function S(e){return _(e)&&("[object Error]"===x(e)||e instanceof Error)}function D(e){return"function"==typeof e}function x(e){return Object.prototype.toString.call(e)}function A(e){return e<10?"0"+e.toString(10):e.toString(10)}Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).NODE_DEBUG&&(i=(i=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).NODE_DEBUG).replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),c=new RegExp("^"+i+"$","i")),r.debuglog=function(e){var n;return e=e.toUpperCase(),s[e]||(c.test(e)?(n=t.pid,s[e]=function(){var t=r.format.apply(r,arguments);console.error("%s %d: %s",e,n,t)}):s[e]=function(){}),s[e]},(r.inspect=u).colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},r.types=n(5955),r.isArray=m,r.isBoolean=g,r.isNull=y,r.isNullOrUndefined=function(e){return null==e},r.isNumber=v,r.isString=w,r.isSymbol=function(e){return"symbol"==typeof e},r.isUndefined=E,r.isRegExp=b,r.types.isRegExp=b,r.isObject=_,r.isDate=k,r.types.isDate=k,r.isError=S,r.types.isNativeError=S,r.isFunction=D,r.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},r.isBuffer=n(384);var P=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function F(e,t){return Object.prototype.hasOwnProperty.call(e,t)}r.log=function(){var e,t;console.log("%s - %s",(t=[A((e=new Date).getHours()),A(e.getMinutes()),A(e.getSeconds())].join(":"),[e.getDate(),P[e.getMonth()],t].join(" ")),r.format.apply(r,arguments))},r.inherits=n(5717),r._extend=function(e,t){if(!t||!_(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};var T="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;r.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(T&&e[T]){var t;if("function"!=typeof(t=e[T]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,T,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,r,n=new Promise((function(e,n){t=e,r=n})),o=[],a=0;a<arguments.length;a++)o.push(arguments[a]);o.push((function(e,n){e?r(e):t(n)}));try{e.apply(this,o)}catch(n){r(n)}return n}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),T&&Object.defineProperty(t,T,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,o(e))},r.promisify.custom=T,r.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function r(){for(var r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);var o=r.pop();if("function"!=typeof o)throw new TypeError("The last argument must be of type Function");function a(){return o.apply(i,arguments)}var i=this;e.apply(this,r).then((function(e){t.nextTick(a.bind(null,null,e))}),(function(e){t.nextTick(function(e,t){var r;return e||((r=new Error("Promise was rejected with a falsy value")).reason=e,e=r),t(e)}.bind(null,e,a))}))}return Object.setPrototypeOf(r,Object.getPrototypeOf(e)),Object.defineProperties(r,o(e)),r}},7618:function(e){"use strict";function t(e,t){if(!l)return!1;var n=e.buffer,o=d.get(n);if(null==o){if((o=r.validate(n))&&t)try{new r.Instance(new r.Module(n)).exports[0]()}catch(e){o=!1}d.set(n,o)}return o}var r=WebAssembly,n=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Uint8Array.of.apply(Uint8Array,[0,97,115,109,1,0,0,0].concat(t))},o=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Uint32Array.of.apply(Uint32Array,[1836278016,1].concat(t))},a=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.apply(void 0,[1,4,1,96,0,0,3,2,1,0].concat(t,[11,0,10,4,110,97,109,101,2,3,1,0,0]))},i=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Uint16Array.of.apply(Uint16Array,[24832,28019,1,0,1025,24577,0,515,1].concat(t))},s=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return o.apply(void 0,[1610679297,33751040].concat(t,[40239360,259]))},c=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return i.apply(void 0,t.concat([2842,4096,28164,28001,357,260,256,560,259,0]))},u=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return i.apply(void 0,t.concat([2560,28164,28001,613,259,0]))},l="object"==typeof r,f=function(e){return l&&"function"==typeof e},d=new WeakMap,p=o(1610679553,58589440,117440770,805372165,101318656,1107297281,268438272,1835101700,17039717,36700416,259),h=u(773,1,2561,269,11,65,65,65,3068,2816),m=u(781,1,2560,265,7,16390,2311,2827),g=n(2,8,1,1,97,1,98,3,127,1,6,6,1,127,1,65,0,11,7,5,1,1,97,3,1,0,8,4,110,97,109,101,2,1,0),y=Uint16Array.of(24832,28019,1,0,1537,24577,512,32639,515,1,2058,1537,16640,16640,2816,2560,28164,28001,613,259,0),v=c(3082,2561,17152,0,0,252),w=c(2058,1537,16640,49152),E=s(101318657,301990913,268438272,1835101700,17039717),b=a(5,4,1,3,1,1,10,7,1,5,0,254,3,0),_=s(84344833,6357249,17369600,4259847,186257917,1845758464),k=a(10,7,1,5,0,208,112,26);e.exports={support:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return t(Uint32Array.of(1836278016,e))},get supportStreaming(){return f(r.instantiateStreaming)},feature:{get bigInt(){return t(p,!0)},get bulk(){return t(h)},get exceptions(){return t(m)},get mutableGlobal(){return t(g)},get multiValue(){return t(y)},get saturateConversions(){return t(v)},get signExtensions(){return t(w)},get tailCall(){return t(E)},get threads(){return t(b)},get simd(){return t(_)},get references(){return t(k)},get typeReflection(){return f(r.Memory.type)},get funcReferences(){return f(r.Function)}}}},6430:function(e,t,r){"use strict";var n=r(9804),o=r(6314),a=r(1924),i=a("Object.prototype.toString"),s=r(1405)()&&"symbol"==typeof Symbol.toStringTag,c=(o=o(),a("String.prototype.slice")),u={},l=r(4079),f=Object.getPrototypeOf;s&&l&&f&&n(o,(function(e){if("function"==typeof r.g[e]){var t=new r.g[e];if(!(Symbol.toStringTag in t))throw new EvalError("this engine has support for Symbol.toStringTag, but "+e+" does not have the property! Please report this.");var n=f(t);(t=l(n,Symbol.toStringTag))||(n=f(n),t=l(n,Symbol.toStringTag)),u[e]=t.get}}));var d=r(5692);e.exports=function(e){return!!d(e)&&(s?(t=e,r=!1,n(u,(function(e,n){if(!r)try{var o=e.call(t);o===n&&(r=o)}catch(e){}})),r):c(i(e),8,-1));var t,r}},7898:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return function(){return new Worker(r.p+"TfLiteWorker.worker.js")}}})},6931:function(e){var t,r=(t="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,function(e){var r,n,o=void 0!==(e=e||{})?e:{};o.ready=new Promise((function(e,t){r=e,n=t})),o.expectedDataFileDownloads||(o.expectedDataFileDownloads=0),o.expectedDataFileDownloads++,function(e){if("object"==typeof window)window.encodeURIComponent(window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/");else{if("undefined"==typeof location)throw"using preloaded data can only be done on a web page or in a web worker";encodeURIComponent(location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/")}var t="tflite-wasm-simd.data";"function"!=typeof o.locateFilePackage||o.locateFile||(o.locateFile=o.locateFilePackage,g("warning: you defined Module.locateFilePackage, that has been renamed to Module.locateFile (using your locateFilePackage for now)"));var r,n,a,i,s=o.locateFile?o.locateFile(t,""):t,c=(t=e.remote_package_size,null),u=o.getPreloadedPackage?o.getPreloadedPackage(s,t):null;function l(){function t(e,t){if(!e)throw t+(new Error).stack}function r(e,t,r){this.start=e,this.end=t,this.audio=r}r.prototype={requests:{},open:function(e,t){this.name=t,this.requests[t]=this,o.addRunDependency("fp "+this.name)},send:function(){},onload:function(){var e=this.byteArray.subarray(this.start,this.end);this.finish(e)},finish:function(e){o.FS_createDataFile(this.name,null,e,!0,!0,!0),o.removeRunDependency("fp "+this.name),this.requests[this.name]=null}};for(var n=e.files,a=0;a<n.length;++a)new r(n[a].start,n[a].end,n[a].audio).open("GET",n[a].filename);function i(n){t(n,"Loading data file failed."),t(n instanceof ArrayBuffer,"bad input to processPackageData"),n=new Uint8Array(n),r.prototype.byteArray=n;for(var a=e.files,i=0;i<a.length;++i)r.prototype.requests[a[i].filename].onload();o.removeRunDependency("datafile_bazel-out/wasm-opt/bin/tflite-wasm-simd.data")}o.addRunDependency("datafile_bazel-out/wasm-opt/bin/tflite-wasm-simd.data"),o.preloadResults||(o.preloadResults={}),o.preloadResults["bazel-out/wasm-opt/bin/tflite-wasm-simd.data"]={fromCache:!1},u?(i(u),u=null):c=i}u||(r=s,n=t,a=function(e){c?(c(e),c=null):u=e},(i=new XMLHttpRequest).open("GET",r,!0),i.responseType="arraybuffer",i.onprogress=function(e){var t=r,a=n;if(e.total&&(a=e.total),e.loaded){i.addedTotal?o.dataFileDownloads[t].loaded=e.loaded:(i.addedTotal=!0,o.dataFileDownloads||(o.dataFileDownloads={}),o.dataFileDownloads[t]={loaded:e.loaded,total:a});var s,c=0,u=0,l=0;for(s in o.dataFileDownloads){var f=o.dataFileDownloads[s];c+=f.total,u+=f.loaded,l++}c=Math.ceil(c*o.expectedDataFileDownloads/l),o.setStatus&&o.setStatus("Downloading data... ("+u+"/"+c+")")}else o.dataFileDownloads||o.setStatus&&o.setStatus("Downloading data...")},i.onerror=function(e){throw new Error("NetworkError for: "+r)},i.onload=function(e){if(!(200==i.status||304==i.status||206==i.status||0==i.status&&i.response))throw new Error(i.statusText+" : "+i.responseURL);var t=i.response;a(t)},i.send(null)),o.calledRun?l():(o.preRun||(o.preRun=[]),o.preRun.push(l))}({files:[{filename:"/segm_full_sparse_v1008.tflite",start:0,end:308672,audio:0},{filename:"/segm_lite_v1082.tflite",start:308672,end:557680,audio:0}],remote_package_size:557680,package_uuid:"a1a9c633-639b-4bf0-8caa-e6701e195a4d"});var a,i={};for(a in o)o.hasOwnProperty(a)&&(i[a]=o[a]);var s,c,u=[],l="./this.program",f=function(e,t){throw t},d="";"undefined"!=typeof document&&document.currentScript&&(d=document.currentScript.src),d=0!==(d=t||d).indexOf("blob:")?d.substr(0,d.lastIndexOf("/")+1):"",s=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText};var p,h,m=o.print||console.log.bind(console),g=o.printErr||console.warn.bind(console);for(a in i)i.hasOwnProperty(a)&&(o[a]=i[a]);i=null,o.arguments&&(u=o.arguments),o.thisProgram&&(l=o.thisProgram),o.quit&&(f=o.quit),o.wasmBinary&&(p=o.wasmBinary),o.noExitRuntime&&(h=o.noExitRuntime),"object"!=typeof WebAssembly&&W("no native wasm support detected");var y=!1;function v(e,t){e||W("Assertion failed: "+t)}function w(e){var t=o["_"+e];return v(t,"Cannot call unknown function "+e+", make sure it is exported"),t}function E(e,t,r,n){var o,a={string:function(e){var t,r=0;return null!=e&&0!==e&&(t=1+(e.length<<2),F(e,r=Se(t),t)),r},array:function(e){var t,r=Se(e.length);return t=e,e=r,_.set(t,e),r}},i=(e=w(e),[]),s=0;if(n)for(var c=0;c<n.length;c++){var u=a[r[c]];u?(0===s&&(s=_e()),i[c]=u(n[c])):i[c]=n[c]}return o=e=e.apply(null,i),e="string"===t?A(o):"boolean"===t?Boolean(o):o,0!==s&&ke(s),e}var b,_,k,S,D="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function x(e,t,r){for(var n=t+r,o=t;e[o]&&!(n<=o);)++o;if(16<o-t&&e.subarray&&D)return D.decode(e.subarray(t,o));for(var a="";t<o;){var i,s,c=e[t++];128&c?(i=63&e[t++],192!=(224&c)?(s=63&e[t++],(c=224==(240&c)?(15&c)<<12|i<<6|s:(7&c)<<18|i<<12|s<<6|63&e[t++])<65536?a+=String.fromCharCode(c):(s=c-65536,a+=String.fromCharCode(55296|s>>10,56320|1023&s))):a+=String.fromCharCode((31&c)<<6|i)):a+=String.fromCharCode(c)}return a}function A(e,t){return e?x(k,e,t):""}function P(e,t,r,n){if(!(0<n))return 0;for(var o=r,a=r+n-1,i=0;i<e.length;++i){var s=e.charCodeAt(i);if((s=55296<=s&&s<=57343?65536+((1023&s)<<10)|1023&e.charCodeAt(++i):s)<=127){if(a<=r)break;t[r++]=s}else if(s<=2047){if(a<=r+1)break;t[r++]=192|s>>6,t[r++]=128|63&s}else if(s<=65535){if(a<=r+2)break;t[r++]=224|s>>12,t[r++]=128|s>>6&63,t[r++]=128|63&s}else{if(a<=r+3)break;t[r++]=240|s>>18,t[r++]=128|s>>12&63,t[r++]=128|s>>6&63,t[r++]=128|63&s}}return t[r]=0,r-o}function F(e,t,r){return P(e,k,t,r)}function T(e){for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);(n=55296<=n&&n<=57343?65536+((1023&n)<<10)|1023&e.charCodeAt(++r):n)<=127?++t:t+=n<=2047?2:n<=65535?3:4}return t}function R(e){var t=T(e)+1,r=Se(t);return P(e,_,r,t),r}o.INITIAL_MEMORY;var O,j=[],M=[],I=[],B=[],N=0,L=null,C=null;function U(e){N++,o.monitorRunDependencies&&o.monitorRunDependencies(N)}function z(e){var t;N--,o.monitorRunDependencies&&o.monitorRunDependencies(N),0==N&&(null!==L&&(clearInterval(L),L=null),C&&(t=C,C=null,t()))}function W(e){throw o.onAbort&&o.onAbort(e),g(e+=""),y=!0,e="abort("+e+"). Build with -s ASSERTIONS=1 for more info.",e=new WebAssembly.RuntimeError(e),n(e),e}function H(e){return t=e,e="data:application/octet-stream;base64,",String.prototype.startsWith?t.startsWith(e):0===t.indexOf(e);var t}o.preloadedImages={},o.preloadedAudios={};var q,G,V,X="tflite-wasm-simd.wasm";function $(){try{if(p)return new Uint8Array(p);if(c)return c(X);throw"both async and sync fetching of the wasm failed"}catch(e){W(e)}}function K(e){for(;0<e.length;){var t,r=e.shift();"function"!=typeof r?"number"==typeof(t=r.func)?void 0===r.arg?O.get(t)():O.get(t)(r.arg):t(void 0===r.arg?null:r.arg):r(o)}}H(X)||(q=X,X=o.locateFile?o.locateFile(q,d):d+q);var J=0,Y=4,Z=8,Q=12,ee=13,te=16;function re(e){this.excPtr=e,this.ptr=e-te,this.set_type=function(e){S[this.ptr+Z>>2]=e},this.get_type=function(){return S[this.ptr+Z>>2]},this.set_destructor=function(e){S[this.ptr+J>>2]=e},this.get_destructor=function(){return S[this.ptr+J>>2]},this.set_refcount=function(e){S[this.ptr+Y>>2]=e},this.set_caught=function(e){e=e?1:0,_[this.ptr+Q>>0]=e},this.get_caught=function(){return 0!=_[this.ptr+Q>>0]},this.set_rethrown=function(e){e=e?1:0,_[this.ptr+ee>>0]=e},this.get_rethrown=function(){return 0!=_[this.ptr+ee>>0]},this.init=function(e,t){this.set_type(e),this.set_destructor(t),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var e=S[this.ptr+Y>>2];S[this.ptr+Y>>2]=e+1},this.release_ref=function(){var e=S[this.ptr+Y>>2];return S[this.ptr+Y>>2]=e-1,1===e}}function ne(e){return S[be()>>2]=e}var oe,ae={splitPath:function(e){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1)},normalizeArray:function(e,t){for(var r=0,n=e.length-1;0<=n;n--){var o=e[n];"."===o?e.splice(n,1):".."===o?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r;r--)e.unshift("..");return e},normalize:function(e){var t="/"===e.charAt(0),r="/"===e.substr(-1);return(e=(e=ae.normalizeArray(e.split("/").filter((function(e){return!!e})),!t).join("/"))||t?e:".")&&r&&(e+="/"),(t?"/":"")+e},dirname:function(e){e=(t=ae.splitPath(e))[0];var t=t[1];return e||t?e+(t=t&&t.substr(0,t.length-1)):"."},basename:function(e){if("/"===e)return"/";var t=(e=(e=ae.normalize(e)).replace(/\/$/,"")).lastIndexOf("/");return-1===t?e:e.substr(t+1)},extname:function(e){return ae.splitPath(e)[3]},join:function(){var e=Array.prototype.slice.call(arguments,0);return ae.normalize(e.join("/"))},join2:function(e,t){return ae.normalize(e+"/"+t)}},ie={resolve:function(){for(var e="",t=!1,r=arguments.length-1;-1<=r&&!t;r--){var n=0<=r?arguments[r]:ue.cwd();if("string"!=typeof n)throw new TypeError("Arguments to path.resolve must be strings");if(!n)return"";e=n+"/"+e,t="/"===n.charAt(0)}return(t?"/":"")+(e=ae.normalizeArray(e.split("/").filter((function(e){return!!e})),!t).join("/"))||"."},relative:function(e,t){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;0<=r&&""===e[r];r--);return r<t?[]:e.slice(t,r-t+1)}e=ie.resolve(e).substr(1),t=ie.resolve(t).substr(1);for(var n=r(e.split("/")),o=r(t.split("/")),a=Math.min(n.length,o.length),i=a,s=0;s<a;s++)if(n[s]!==o[s]){i=s;break}var c=[];for(s=i;s<n.length;s++)c.push("..");return(c=c.concat(o.slice(i))).join("/")}},se={ttys:[],init:function(){},shutdown:function(){},register:function(e,t){se.ttys[e]={input:[],output:[],ops:t},ue.registerDevice(e,se.stream_ops)},stream_ops:{open:function(e){var t=se.ttys[e.node.rdev];if(!t)throw new ue.ErrnoError(43);e.tty=t,e.seekable=!1},close:function(e){e.tty.ops.flush(e.tty)},flush:function(e){e.tty.ops.flush(e.tty)},read:function(e,t,r,n,o){if(!e.tty||!e.tty.ops.get_char)throw new ue.ErrnoError(60);for(var a,i=0,s=0;s<n;s++){try{a=e.tty.ops.get_char(e.tty)}catch(e){throw new ue.ErrnoError(29)}if(void 0===a&&0===i)throw new ue.ErrnoError(6);if(null==a)break;i++,t[r+s]=a}return i&&(e.node.timestamp=Date.now()),i},write:function(e,t,r,n,o){if(!e.tty||!e.tty.ops.put_char)throw new ue.ErrnoError(60);try{for(var a=0;a<n;a++)e.tty.ops.put_char(e.tty,t[r+a])}catch(e){throw new ue.ErrnoError(29)}return n&&(e.node.timestamp=Date.now()),a}},default_tty_ops:{get_char:function(e){if(!e.input.length){var t=null;if("undefined"!=typeof window&&"function"==typeof window.prompt?null!==(t=window.prompt("Input: "))&&(t+="\n"):"function"==typeof readline&&null!==(t=readline())&&(t+="\n"),!t)return null;e.input=he(t,!0)}return e.input.shift()},put_char:function(e,t){null===t||10===t?(m(x(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&0<e.output.length&&(m(x(e.output,0)),e.output=[])}},default_tty1_ops:{put_char:function(e,t){null===t||10===t?(g(x(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&0<e.output.length&&(g(x(e.output,0)),e.output=[])}}},ce={ops_table:null,mount:function(e){return ce.createNode(null,"/",16895,0)},createNode:function(e,t,r,n){if(ue.isBlkdev(r)||ue.isFIFO(r))throw new ue.ErrnoError(63);return ce.ops_table||(ce.ops_table={dir:{node:{getattr:ce.node_ops.getattr,setattr:ce.node_ops.setattr,lookup:ce.node_ops.lookup,mknod:ce.node_ops.mknod,rename:ce.node_ops.rename,unlink:ce.node_ops.unlink,rmdir:ce.node_ops.rmdir,readdir:ce.node_ops.readdir,symlink:ce.node_ops.symlink},stream:{llseek:ce.stream_ops.llseek}},file:{node:{getattr:ce.node_ops.getattr,setattr:ce.node_ops.setattr},stream:{llseek:ce.stream_ops.llseek,read:ce.stream_ops.read,write:ce.stream_ops.write,allocate:ce.stream_ops.allocate,mmap:ce.stream_ops.mmap,msync:ce.stream_ops.msync}},link:{node:{getattr:ce.node_ops.getattr,setattr:ce.node_ops.setattr,readlink:ce.node_ops.readlink},stream:{}},chrdev:{node:{getattr:ce.node_ops.getattr,setattr:ce.node_ops.setattr},stream:ue.chrdev_stream_ops}}),n=ue.createNode(e,t,r,n),ue.isDir(n.mode)?(n.node_ops=ce.ops_table.dir.node,n.stream_ops=ce.ops_table.dir.stream,n.contents={}):ue.isFile(n.mode)?(n.node_ops=ce.ops_table.file.node,n.stream_ops=ce.ops_table.file.stream,n.usedBytes=0,n.contents=null):ue.isLink(n.mode)?(n.node_ops=ce.ops_table.link.node,n.stream_ops=ce.ops_table.link.stream):ue.isChrdev(n.mode)&&(n.node_ops=ce.ops_table.chrdev.node,n.stream_ops=ce.ops_table.chrdev.stream),n.timestamp=Date.now(),e&&(e.contents[t]=n),n},getFileDataAsRegularArray:function(e){if(e.contents&&e.contents.subarray){for(var t=[],r=0;r<e.usedBytes;++r)t.push(e.contents[r]);return t}return e.contents},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array(0)},expandFileStorage:function(e,t){var r=e.contents?e.contents.length:0;t<=r||(t=Math.max(t,r*(r<1048576?2:1.125)>>>0),0!=r&&(t=Math.max(t,256)),r=e.contents,e.contents=new Uint8Array(t),0<e.usedBytes&&e.contents.set(r.subarray(0,e.usedBytes),0))},resizeFileStorage:function(e,t){if(e.usedBytes!=t){if(0==t)return e.contents=null,void(e.usedBytes=0);if(!e.contents||e.contents.subarray){var r=e.contents;return e.contents=new Uint8Array(t),r&&e.contents.set(r.subarray(0,Math.min(t,e.usedBytes))),void(e.usedBytes=t)}if(e.contents||(e.contents=[]),e.contents.length>t)e.contents.length=t;else for(;e.contents.length<t;)e.contents.push(0);e.usedBytes=t}},node_ops:{getattr:function(e){var t={};return t.dev=ue.isChrdev(e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,ue.isDir(e.mode)?t.size=4096:ue.isFile(e.mode)?t.size=e.usedBytes:ue.isLink(e.mode)?t.size=e.link.length:t.size=0,t.atime=new Date(e.timestamp),t.mtime=new Date(e.timestamp),t.ctime=new Date(e.timestamp),t.blksize=4096,t.blocks=Math.ceil(t.size/t.blksize),t},setattr:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp),void 0!==t.size&&ce.resizeFileStorage(e,t.size)},lookup:function(e,t){throw ue.genericErrors[44]},mknod:function(e,t,r,n){return ce.createNode(e,t,r,n)},rename:function(e,t,r){if(ue.isDir(e.mode)){var n;try{n=ue.lookupNode(t,r)}catch(e){}if(n)for(var o in n.contents)throw new ue.ErrnoError(55)}delete e.parent.contents[e.name],e.name=r,(t.contents[r]=e).parent=t},unlink:function(e,t){delete e.contents[t]},rmdir:function(e,t){for(var r in ue.lookupNode(e,t).contents)throw new ue.ErrnoError(55);delete e.contents[t]},readdir:function(e){var t,r=[".",".."];for(t in e.contents)e.contents.hasOwnProperty(t)&&r.push(t);return r},symlink:function(e,t,r){return(t=ce.createNode(e,t,41471,0)).link=r,t},readlink:function(e){if(!ue.isLink(e.mode))throw new ue.ErrnoError(28);return e.link}},stream_ops:{read:function(e,t,r,n,o){var a=e.node.contents;if(o>=e.node.usedBytes)return 0;var i=Math.min(e.node.usedBytes-o,n);if(8<i&&a.subarray)t.set(a.subarray(o,o+i),r);else for(var s=0;s<i;s++)t[r+s]=a[o+s];return i},write:function(e,t,r,n,o,a){if(!n)return 0;var i=e.node;if(i.timestamp=Date.now(),t.subarray&&(!i.contents||i.contents.subarray)){if(a)return i.contents=t.subarray(r,r+n),i.usedBytes=n;if(0===i.usedBytes&&0===o)return i.contents=t.slice(r,r+n),i.usedBytes=n;if(o+n<=i.usedBytes)return i.contents.set(t.subarray(r,r+n),o),n}if(ce.expandFileStorage(i,o+n),i.contents.subarray&&t.subarray)i.contents.set(t.subarray(r,r+n),o);else for(var s=0;s<n;s++)i.contents[o+s]=t[r+s];return i.usedBytes=Math.max(i.usedBytes,o+n),n},llseek:function(e,t,r){if(1===r?t+=e.position:2===r&&ue.isFile(e.node.mode)&&(t+=e.node.usedBytes),t<0)throw new ue.ErrnoError(28);return t},allocate:function(e,t,r){ce.expandFileStorage(e.node,t+r),e.node.usedBytes=Math.max(e.node.usedBytes,t+r)},mmap:function(e,t,r,n,o,a){if(v(0===t),!ue.isFile(e.node.mode))throw new ue.ErrnoError(43);var i,s;if(e=e.node.contents,2&a||e.buffer!==b){if((0<n||n+r<e.length)&&(e=e.subarray?e.subarray(n,n+r):Array.prototype.slice.call(e,n,n+r)),s=!0,!(i=function(e){for(var t,r,n=(t=e,r=(r=16384)||16,Math.ceil(t/r)*r),o=we(n);e<n;)_[o+e++]=0;return o}(r)))throw new ue.ErrnoError(48);_.set(e,i)}else s=!1,i=e.byteOffset;return{ptr:i,allocated:s}},msync:function(e,t,r,n,o){if(!ue.isFile(e.node.mode))throw new ue.ErrnoError(43);return 2&o||ce.stream_ops.write(e,t,0,n,r,!1),0}}},ue={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:function(e,t){if(t=t||{},!(e=ie.resolve(ue.cwd(),e)))return{path:"",node:null};var r,n={follow_mount:!0,recurse_count:0};for(r in n)void 0===t[r]&&(t[r]=n[r]);if(8<t.recurse_count)throw new ue.ErrnoError(32);for(var o=ae.normalizeArray(e.split("/").filter((function(e){return!!e})),!1),a=ue.root,i="/",s=0;s<o.length;s++){var c=s===o.length-1;if(c&&t.parent)break;if(a=ue.lookupNode(a,o[s]),i=ae.join2(i,o[s]),ue.isMountpoint(a)&&(!c||c&&t.follow_mount)&&(a=a.mounted.root),!c||t.follow)for(var u=0;ue.isLink(a.mode);){var l=ue.readlink(i);if(i=ie.resolve(ae.dirname(i),l),a=ue.lookupPath(i,{recurse_count:t.recurse_count}).node,40<u++)throw new ue.ErrnoError(32)}}return{path:i,node:a}},getPath:function(e){for(var t;;){if(ue.isRoot(e)){var r=e.mount.mountpoint;return t?"/"!==r[r.length-1]?r+"/"+t:r+t:r}t=t?e.name+"/"+t:e.name,e=e.parent}},hashName:function(e,t){for(var r=0,n=0;n<t.length;n++)r=(r<<5)-r+t.charCodeAt(n)|0;return(e+r>>>0)%ue.nameTable.length},hashAddNode:function(e){var t=ue.hashName(e.parent.id,e.name);e.name_next=ue.nameTable[t],ue.nameTable[t]=e},hashRemoveNode:function(e){var t=ue.hashName(e.parent.id,e.name);if(ue.nameTable[t]===e)ue.nameTable[t]=e.name_next;else for(var r=ue.nameTable[t];r;){if(r.name_next===e){r.name_next=e.name_next;break}r=r.name_next}},lookupNode:function(e,t){if(r=ue.mayLookup(e))throw new ue.ErrnoError(r,e);for(var r=ue.hashName(e.id,t),n=ue.nameTable[r];n;n=n.name_next){var o=n.name;if(n.parent.id===e.id&&o===t)return n}return ue.lookup(e,t)},createNode:function(e,t,r,n){return n=new ue.FSNode(e,t,r,n),ue.hashAddNode(n),n},destroyNode:function(e){ue.hashRemoveNode(e)},isRoot:function(e){return e===e.parent},isMountpoint:function(e){return!!e.mounted},isFile:function(e){return 32768==(61440&e)},isDir:function(e){return 16384==(61440&e)},isLink:function(e){return 40960==(61440&e)},isChrdev:function(e){return 8192==(61440&e)},isBlkdev:function(e){return 24576==(61440&e)},isFIFO:function(e){return 4096==(61440&e)},isSocket:function(e){return 49152==(49152&e)},flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:function(e){var t=ue.flagModes[e];if(void 0===t)throw new Error("Unknown file open mode: "+e);return t},flagsToPermissionString:function(e){var t=["r","w","rw"][3&e];return 512&e&&(t+="w"),t},nodePermissions:function(e,t){return ue.ignorePermissions||(-1===t.indexOf("r")||292&e.mode)&&(-1===t.indexOf("w")||146&e.mode)&&(-1===t.indexOf("x")||73&e.mode)?0:2},mayLookup:function(e){return ue.nodePermissions(e,"x")||(e.node_ops.lookup?0:2)},mayCreate:function(e,t){try{return ue.lookupNode(e,t),20}catch(e){}return ue.nodePermissions(e,"wx")},mayDelete:function(e,t,r){var n;try{n=ue.lookupNode(e,t)}catch(e){return e.errno}var o=ue.nodePermissions(e,"wx");if(o)return o;if(r){if(!ue.isDir(n.mode))return 54;if(ue.isRoot(n)||ue.getPath(n)===ue.cwd())return 10}else if(ue.isDir(n.mode))return 31;return 0},mayOpen:function(e,t){return e?ue.isLink(e.mode)?32:ue.isDir(e.mode)&&("r"!==ue.flagsToPermissionString(t)||512&t)?31:ue.nodePermissions(e,ue.flagsToPermissionString(t)):44},MAX_OPEN_FDS:4096,nextfd:function(e,t){e=e||0,t=t||ue.MAX_OPEN_FDS;for(var r=e;r<=t;r++)if(!ue.streams[r])return r;throw new ue.ErrnoError(33)},getStream:function(e){return ue.streams[e]},createStream:function(e,t,r){ue.FSStream||(ue.FSStream=function(){},ue.FSStream.prototype={object:{get:function(){return this.node},set:function(e){this.node=e}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}}});var n,o=new ue.FSStream;for(n in e)o[n]=e[n];return e=o,r=ue.nextfd(t,r),e.fd=r,ue.streams[r]=e},closeStream:function(e){ue.streams[e]=null},chrdev_stream_ops:{open:function(e){var t=ue.getDevice(e.node.rdev);e.stream_ops=t.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:function(){throw new ue.ErrnoError(70)}},major:function(e){return e>>8},minor:function(e){return 255&e},makedev:function(e,t){return e<<8|t},registerDevice:function(e,t){ue.devices[e]={stream_ops:t}},getDevice:function(e){return ue.devices[e]},getMounts:function(e){for(var t=[],r=[e];r.length;){var n=r.pop();t.push(n),r.push.apply(r,n.mounts)}return t},syncfs:function(e,t){"function"==typeof e&&(t=e,e=!1),ue.syncFSRequests++,1<ue.syncFSRequests&&g("warning: "+ue.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var r=ue.getMounts(ue.root.mount),n=0;function o(e){return ue.syncFSRequests--,t(e)}function a(e){if(e)return a.errored?void 0:(a.errored=!0,o(e));++n>=r.length&&o(null)}r.forEach((function(t){return t.type.syncfs?void t.type.syncfs(t,e,a):a(null)}))},mount:function(e,t,r){var n="/"===r,o=!r;if(n&&ue.root)throw new ue.ErrnoError(10);if(!n&&!o){var a=ue.lookupPath(r,{follow_mount:!1});if(r=a.path,a=a.node,ue.isMountpoint(a))throw new ue.ErrnoError(10);if(!ue.isDir(a.mode))throw new ue.ErrnoError(54)}return r={type:e,opts:t,mountpoint:r,mounts:[]},((e=e.mount(r)).mount=r).root=e,n?ue.root=e:a&&(a.mounted=r,a.mount&&a.mount.mounts.push(r)),e},unmount:function(e){var t=ue.lookupPath(e,{follow_mount:!1});if(!ue.isMountpoint(t.node))throw new ue.ErrnoError(28);t=(e=t.node).mounted;var r=ue.getMounts(t);Object.keys(ue.nameTable).forEach((function(e){for(var t=ue.nameTable[e];t;){var n=t.name_next;-1!==r.indexOf(t.mount)&&ue.destroyNode(t),t=n}})),e.mounted=null,t=e.mount.mounts.indexOf(t),e.mount.mounts.splice(t,1)},lookup:function(e,t){return e.node_ops.lookup(e,t)},mknod:function(e,t,r){var n=ue.lookupPath(e,{parent:!0}).node,o=ae.basename(e);if(!o||"."===o||".."===o)throw new ue.ErrnoError(28);if(e=ue.mayCreate(n,o))throw new ue.ErrnoError(e);if(!n.node_ops.mknod)throw new ue.ErrnoError(63);return n.node_ops.mknod(n,o,t,r)},create:function(e,t){return t=void 0!==t?t:438,t&=4095,t|=32768,ue.mknod(e,t,0)},mkdir:function(e,t){return t=void 0!==t?t:511,t&=1023,t|=16384,ue.mknod(e,t,0)},mkdirTree:function(e,t){for(var r=e.split("/"),n="",o=0;o<r.length;++o)if(r[o]){n+="/"+r[o];try{ue.mkdir(n,t)}catch(e){if(20!=e.errno)throw e}}},mkdev:function(e,t,r){return void 0===r&&(r=t,t=438),t|=8192,ue.mknod(e,t,r)},symlink:function(e,t){if(!ie.resolve(e))throw new ue.ErrnoError(44);var r=ue.lookupPath(t,{parent:!0}).node;if(!r)throw new ue.ErrnoError(44);var n=ae.basename(t);if(t=ue.mayCreate(r,n))throw new ue.ErrnoError(t);if(!r.node_ops.symlink)throw new ue.ErrnoError(63);return r.node_ops.symlink(r,n,e)},rename:function(e,t){var r=ae.dirname(e),n=ae.dirname(t),o=ae.basename(e),a=ae.basename(t),i=ue.lookupPath(e,{parent:!0}).node,s=ue.lookupPath(t,{parent:!0}).node;if(!i||!s)throw new ue.ErrnoError(44);if(i.mount!==s.mount)throw new ue.ErrnoError(75);var c,u=ue.lookupNode(i,o);if("."!==(n=ie.relative(e,n)).charAt(0))throw new ue.ErrnoError(28);if("."!==(n=ie.relative(t,r)).charAt(0))throw new ue.ErrnoError(55);try{c=ue.lookupNode(s,a)}catch(r){}if(u!==c){if(n=ue.isDir(u.mode),o=ue.mayDelete(i,o,n))throw new ue.ErrnoError(o);if(o=c?ue.mayDelete(s,a,n):ue.mayCreate(s,a))throw new ue.ErrnoError(o);if(!i.node_ops.rename)throw new ue.ErrnoError(63);if(ue.isMountpoint(u)||c&&ue.isMountpoint(c))throw new ue.ErrnoError(10);if(s!==i&&(o=ue.nodePermissions(i,"w")))throw new ue.ErrnoError(o);try{ue.trackingDelegate.willMovePath&&ue.trackingDelegate.willMovePath(e,t)}catch(r){g("FS.trackingDelegate['willMovePath']('"+e+"', '"+t+"') threw an exception: "+r.message)}ue.hashRemoveNode(u);try{i.node_ops.rename(u,s,a)}catch(r){throw r}finally{ue.hashAddNode(u)}try{ue.trackingDelegate.onMovePath&&ue.trackingDelegate.onMovePath(e,t)}catch(r){g("FS.trackingDelegate['onMovePath']('"+e+"', '"+t+"') threw an exception: "+r.message)}}},rmdir:function(e){var t=ue.lookupPath(e,{parent:!0}).node,r=ae.basename(e),n=ue.lookupNode(t,r),o=ue.mayDelete(t,r,!0);if(o)throw new ue.ErrnoError(o);if(!t.node_ops.rmdir)throw new ue.ErrnoError(63);if(ue.isMountpoint(n))throw new ue.ErrnoError(10);try{ue.trackingDelegate.willDeletePath&&ue.trackingDelegate.willDeletePath(e)}catch(t){g("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+t.message)}t.node_ops.rmdir(t,r),ue.destroyNode(n);try{ue.trackingDelegate.onDeletePath&&ue.trackingDelegate.onDeletePath(e)}catch(t){g("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+t.message)}},readdir:function(e){if(!(e=ue.lookupPath(e,{follow:!0}).node).node_ops.readdir)throw new ue.ErrnoError(54);return e.node_ops.readdir(e)},unlink:function(e){var t=ue.lookupPath(e,{parent:!0}).node,r=ae.basename(e),n=ue.lookupNode(t,r),o=ue.mayDelete(t,r,!1);if(o)throw new ue.ErrnoError(o);if(!t.node_ops.unlink)throw new ue.ErrnoError(63);if(ue.isMountpoint(n))throw new ue.ErrnoError(10);try{ue.trackingDelegate.willDeletePath&&ue.trackingDelegate.willDeletePath(e)}catch(t){g("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+t.message)}t.node_ops.unlink(t,r),ue.destroyNode(n);try{ue.trackingDelegate.onDeletePath&&ue.trackingDelegate.onDeletePath(e)}catch(t){g("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+t.message)}},readlink:function(e){if(!(e=ue.lookupPath(e).node))throw new ue.ErrnoError(44);if(!e.node_ops.readlink)throw new ue.ErrnoError(28);return ie.resolve(ue.getPath(e.parent),e.node_ops.readlink(e))},stat:function(e,t){if(!(t=ue.lookupPath(e,{follow:!t}).node))throw new ue.ErrnoError(44);if(!t.node_ops.getattr)throw new ue.ErrnoError(63);return t.node_ops.getattr(t)},lstat:function(e){return ue.stat(e,!0)},chmod:function(e,t,r){if(!(e="string"==typeof e?ue.lookupPath(e,{follow:!r}).node:e).node_ops.setattr)throw new ue.ErrnoError(63);e.node_ops.setattr(e,{mode:4095&t|-4096&e.mode,timestamp:Date.now()})},lchmod:function(e,t){ue.chmod(e,t,!0)},fchmod:function(e,t){if(!(e=ue.getStream(e)))throw new ue.ErrnoError(8);ue.chmod(e.node,t)},chown:function(e,t,r,n){if(!(e="string"==typeof e?ue.lookupPath(e,{follow:!n}).node:e).node_ops.setattr)throw new ue.ErrnoError(63);e.node_ops.setattr(e,{timestamp:Date.now()})},lchown:function(e,t,r){ue.chown(e,t,r,!0)},fchown:function(e,t,r){if(!(e=ue.getStream(e)))throw new ue.ErrnoError(8);ue.chown(e.node,t,r)},truncate:function(e,t){if(t<0)throw new ue.ErrnoError(28);var r;if(!(r="string"==typeof e?ue.lookupPath(e,{follow:!0}).node:e).node_ops.setattr)throw new ue.ErrnoError(63);if(ue.isDir(r.mode))throw new ue.ErrnoError(31);if(!ue.isFile(r.mode))throw new ue.ErrnoError(28);if(e=ue.nodePermissions(r,"w"))throw new ue.ErrnoError(e);r.node_ops.setattr(r,{size:t,timestamp:Date.now()})},ftruncate:function(e,t){if(!(e=ue.getStream(e)))throw new ue.ErrnoError(8);if(0==(2097155&e.flags))throw new ue.ErrnoError(28);ue.truncate(e.node,t)},utime:function(e,t,r){(e=ue.lookupPath(e,{follow:!0}).node).node_ops.setattr(e,{timestamp:Math.max(t,r)})},open:function(e,t,r,n,a){if(""===e)throw new ue.ErrnoError(44);if(r=void 0===r?438:r,r=64&(t="string"==typeof t?ue.modeStringToFlags(t):t)?4095&r|32768:0,"object"==typeof e)i=e;else{e=ae.normalize(e);try{var i=ue.lookupPath(e,{follow:!(131072&t)}).node}catch(t){}}var s,c=!1;if(64&t)if(i){if(128&t)throw new ue.ErrnoError(20)}else i=ue.mknod(e,r,0),c=!0;if(!i)throw new ue.ErrnoError(44);if(ue.isChrdev(i.mode)&&(t&=-513),65536&t&&!ue.isDir(i.mode))throw new ue.ErrnoError(54);if(!c&&(c=ue.mayOpen(i,t)))throw new ue.ErrnoError(c);512&t&&ue.truncate(i,0),t&=-131713,(a=ue.createStream({node:i,path:ue.getPath(i),flags:t,seekable:!0,position:0,stream_ops:i.stream_ops,ungotten:[],error:!1},n,a)).stream_ops.open&&a.stream_ops.open(a),!o.logReadFiles||1&t||(ue.readFiles||(ue.readFiles={}),e in ue.readFiles||(ue.readFiles[e]=1,g("FS.trackingDelegate error on read file: "+e)));try{ue.trackingDelegate.onOpenFile&&(s=0,1!=(2097155&t)&&(s|=ue.tracking.openFlags.READ),0!=(2097155&t)&&(s|=ue.tracking.openFlags.WRITE),ue.trackingDelegate.onOpenFile(e,s))}catch(t){g("FS.trackingDelegate['onOpenFile']('"+e+"', flags) threw an exception: "+t.message)}return a},close:function(e){if(ue.isClosed(e))throw new ue.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(e){throw e}finally{ue.closeStream(e.fd)}e.fd=null},isClosed:function(e){return null===e.fd},llseek:function(e,t,r){if(ue.isClosed(e))throw new ue.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new ue.ErrnoError(70);if(0!=r&&1!=r&&2!=r)throw new ue.ErrnoError(28);return e.position=e.stream_ops.llseek(e,t,r),e.ungotten=[],e.position},read:function(e,t,r,n,o){if(n<0||o<0)throw new ue.ErrnoError(28);if(ue.isClosed(e))throw new ue.ErrnoError(8);if(1==(2097155&e.flags))throw new ue.ErrnoError(8);if(ue.isDir(e.node.mode))throw new ue.ErrnoError(31);if(!e.stream_ops.read)throw new ue.ErrnoError(28);var a=void 0!==o;if(a){if(!e.seekable)throw new ue.ErrnoError(70)}else o=e.position;return o=e.stream_ops.read(e,t,r,n,o),a||(e.position+=o),o},write:function(e,t,r,n,o,a){if(n<0||o<0)throw new ue.ErrnoError(28);if(ue.isClosed(e))throw new ue.ErrnoError(8);if(0==(2097155&e.flags))throw new ue.ErrnoError(8);if(ue.isDir(e.node.mode))throw new ue.ErrnoError(31);if(!e.stream_ops.write)throw new ue.ErrnoError(28);e.seekable&&1024&e.flags&&ue.llseek(e,0,2);var i=void 0!==o;if(i){if(!e.seekable)throw new ue.ErrnoError(70)}else o=e.position;a=e.stream_ops.write(e,t,r,n,o,a),i||(e.position+=a);try{e.path&&ue.trackingDelegate.onWriteToFile&&ue.trackingDelegate.onWriteToFile(e.path)}catch(t){g("FS.trackingDelegate['onWriteToFile']('"+e.path+"') threw an exception: "+t.message)}return a},allocate:function(e,t,r){if(ue.isClosed(e))throw new ue.ErrnoError(8);if(t<0||r<=0)throw new ue.ErrnoError(28);if(0==(2097155&e.flags))throw new ue.ErrnoError(8);if(!ue.isFile(e.node.mode)&&!ue.isDir(e.node.mode))throw new ue.ErrnoError(43);if(!e.stream_ops.allocate)throw new ue.ErrnoError(138);e.stream_ops.allocate(e,t,r)},mmap:function(e,t,r,n,o,a){if(0!=(2&o)&&0==(2&a)&&2!=(2097155&e.flags))throw new ue.ErrnoError(2);if(1==(2097155&e.flags))throw new ue.ErrnoError(2);if(!e.stream_ops.mmap)throw new ue.ErrnoError(43);return e.stream_ops.mmap(e,t,r,n,o,a)},msync:function(e,t,r,n,o){return e&&e.stream_ops.msync?e.stream_ops.msync(e,t,r,n,o):0},munmap:function(e){return 0},ioctl:function(e,t,r){if(!e.stream_ops.ioctl)throw new ue.ErrnoError(59);return e.stream_ops.ioctl(e,t,r)},readFile:function(e,t){if((t=t||{}).flags=t.flags||0,t.encoding=t.encoding||"binary","utf8"!==t.encoding&&"binary"!==t.encoding)throw new Error('Invalid encoding type "'+t.encoding+'"');var r,n=ue.open(e,t.flags),o=ue.stat(e).size;return e=new Uint8Array(o),ue.read(n,e,0,o,0),"utf8"===t.encoding?r=x(e,0):"binary"===t.encoding&&(r=e),ue.close(n),r},writeFile:function(e,t,r){(r=r||{}).flags=r.flags||577;var n=ue.open(e,r.flags,r.mode);if("string"==typeof t){var o=new Uint8Array(T(t)+1);e=P(t,o,0,o.length),ue.write(n,o,0,e,void 0,r.canOwn)}else{if(!ArrayBuffer.isView(t))throw new Error("Unsupported data type");ue.write(n,t,0,t.byteLength,void 0,r.canOwn)}ue.close(n)},cwd:function(){return ue.currentPath},chdir:function(e){var t=ue.lookupPath(e,{follow:!0});if(null===t.node)throw new ue.ErrnoError(44);if(!ue.isDir(t.node.mode))throw new ue.ErrnoError(54);if(e=ue.nodePermissions(t.node,"x"))throw new ue.ErrnoError(e);ue.currentPath=t.path},createDefaultDirectories:function(){ue.mkdir("/tmp"),ue.mkdir("/home"),ue.mkdir("/home/web_user")},createDefaultDevices:function(){ue.mkdir("/dev"),ue.registerDevice(ue.makedev(1,3),{read:function(){return 0},write:function(e,t,r,n,o){return n}}),ue.mkdev("/dev/null",ue.makedev(1,3)),se.register(ue.makedev(5,0),se.default_tty_ops),se.register(ue.makedev(6,0),se.default_tty1_ops),ue.mkdev("/dev/tty",ue.makedev(5,0)),ue.mkdev("/dev/tty1",ue.makedev(6,0));var e=function(){if("object"!=typeof crypto||"function"!=typeof crypto.getRandomValues)return function(){W("randomDevice")};var e=new Uint8Array(1);return function(){return crypto.getRandomValues(e),e[0]}}();ue.createDevice("/dev","random",e),ue.createDevice("/dev","urandom",e),ue.mkdir("/dev/shm"),ue.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){ue.mkdir("/proc"),ue.mkdir("/proc/self"),ue.mkdir("/proc/self/fd"),ue.mount({mount:function(){var e=ue.createNode("/proc/self","fd",16895,73);return e.node_ops={lookup:function(e,t){t=+t;var r=ue.getStream(t);if(!r)throw new ue.ErrnoError(8);return(t={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return r.path}}}).parent=t}},e}},{},"/proc/self/fd")},createStandardStreams:function(){o.stdin?ue.createDevice("/dev","stdin",o.stdin):ue.symlink("/dev/tty","/dev/stdin"),o.stdout?ue.createDevice("/dev","stdout",null,o.stdout):ue.symlink("/dev/tty","/dev/stdout"),o.stderr?ue.createDevice("/dev","stderr",null,o.stderr):ue.symlink("/dev/tty1","/dev/stderr"),ue.open("/dev/stdin",0),ue.open("/dev/stdout",1),ue.open("/dev/stderr",1)},ensureErrnoError:function(){ue.ErrnoError||(ue.ErrnoError=function(e,t){this.node=t,this.setErrno=function(e){this.errno=e},this.setErrno(e),this.message="FS error"},ue.ErrnoError.prototype=new Error,ue.ErrnoError.prototype.constructor=ue.ErrnoError,[44].forEach((function(e){ue.genericErrors[e]=new ue.ErrnoError(e),ue.genericErrors[e].stack="<generic error, no stack>"})))},staticInit:function(){ue.ensureErrnoError(),ue.nameTable=new Array(4096),ue.mount(ce,{},"/"),ue.createDefaultDirectories(),ue.createDefaultDevices(),ue.createSpecialDirectories(),ue.filesystems={MEMFS:ce}},init:function(e,t,r){ue.init.initialized=!0,ue.ensureErrnoError(),o.stdin=e||o.stdin,o.stdout=t||o.stdout,o.stderr=r||o.stderr,ue.createStandardStreams()},quit:function(){ue.init.initialized=!1;var e=o._fflush;e&&e(0);for(var t=0;t<ue.streams.length;t++){var r=ue.streams[t];r&&ue.close(r)}},getMode:function(e,t){var r=0;return e&&(r|=365),t&&(r|=146),r},findObject:function(e,t){return(t=ue.analyzePath(e,t)).exists?t.object:null},analyzePath:function(e,t){try{e=(n=ue.lookupPath(e,{follow:!t})).path}catch(e){}var r={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var n=ue.lookupPath(e,{parent:!0});r.parentExists=!0,r.parentPath=n.path,r.parentObject=n.node,r.name=ae.basename(e),n=ue.lookupPath(e,{follow:!t}),r.exists=!0,r.path=n.path,r.object=n.node,r.name=n.node.name,r.isRoot="/"===n.path}catch(e){r.error=e.errno}return r},createPath:function(e,t,r,n){e="string"==typeof e?e:ue.getPath(e);for(var o=t.split("/").reverse();o.length;){var a=o.pop();if(a){var i=ae.join2(e,a);try{ue.mkdir(i)}catch(e){}e=i}}return i},createFile:function(e,t,r,n,o){return t=ae.join2("string"==typeof e?e:ue.getPath(e),t),o=ue.getMode(n,o),ue.create(t,o)},createDataFile:function(e,t,r,n,o,a){if(e=t?ae.join2("string"==typeof e?e:ue.getPath(e),t):e,n=ue.getMode(n,o),o=ue.create(e,n),r){if("string"==typeof r){for(var i=new Array(r.length),s=0,c=r.length;s<c;++s)i[s]=r.charCodeAt(s);r=i}ue.chmod(o,146|n),e=ue.open(o,577),ue.write(e,r,0,r.length,0,a),ue.close(e),ue.chmod(o,n)}return o},createDevice:function(e,t,r,n){var o=ae.join2("string"==typeof e?e:ue.getPath(e),t);return e=ue.getMode(!!r,!!n),ue.createDevice.major||(ue.createDevice.major=64),t=ue.makedev(ue.createDevice.major++,0),ue.registerDevice(t,{open:function(e){e.seekable=!1},close:function(e){n&&n.buffer&&n.buffer.length&&n(10)},read:function(e,t,n,o,a){for(var i,s=0,c=0;c<o;c++){try{i=r()}catch(e){throw new ue.ErrnoError(29)}if(void 0===i&&0===s)throw new ue.ErrnoError(6);if(null==i)break;s++,t[n+c]=i}return s&&(e.node.timestamp=Date.now()),s},write:function(e,t,r,o,a){for(var i=0;i<o;i++)try{n(t[r+i])}catch(e){throw new ue.ErrnoError(29)}return o&&(e.node.timestamp=Date.now()),i}}),ue.mkdev(o,e,t)},forceLoadFile:function(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!s)throw new Error("Cannot load without read() or XMLHttpRequest.");try{e.contents=he(s(e.url),!0),e.usedBytes=e.contents.length}catch(e){throw new ue.ErrnoError(29)}},createLazyFile:function(e,t,r,n,o){function a(){this.lengthKnown=!1,this.chunks=[]}var i;if(a.prototype.get=function(e){if(!(e>this.length-1||e<0)){var t=e%this.chunkSize;return e=e/this.chunkSize|0,this.getter(e)[t]}},a.prototype.setDataGetter=function(e){this.getter=e},a.prototype.cacheLength=function(){var e=new XMLHttpRequest;if(e.open("HEAD",r,!1),e.send(null),!(200<=e.status&&e.status<300||304===e.status))throw new Error("Couldn't load "+r+". Status: "+e.status);var t=Number(e.getResponseHeader("Content-length")),n=(o=e.getResponseHeader("Accept-Ranges"))&&"bytes"===o,o=(o=e.getResponseHeader("Content-Encoding"))&&"gzip"===o,a=1048576;n||(a=t);var i=this;i.setDataGetter((function(e){var n=e*a,o=(e+1)*a-1;if(o=Math.min(o,t-1),void 0===i.chunks[e]&&(i.chunks[e]=function(e,n){if(n<e)throw new Error("invalid range ("+e+", "+n+") or no bytes requested!");if(t-1<n)throw new Error("only "+t+" bytes available! programmer error!");var o=new XMLHttpRequest;if(o.open("GET",r,!1),t!==a&&o.setRequestHeader("Range","bytes="+e+"-"+n),"undefined"!=typeof Uint8Array&&(o.responseType="arraybuffer"),o.overrideMimeType&&o.overrideMimeType("text/plain; charset=x-user-defined"),o.send(null),!(200<=o.status&&o.status<300||304===o.status))throw new Error("Couldn't load "+r+". Status: "+o.status);return void 0!==o.response?new Uint8Array(o.response||[]):he(o.responseText||"",!0)}(n,o)),void 0===i.chunks[e])throw new Error("doXHR failed!");return i.chunks[e]})),!o&&t||(a=t=1,t=this.getter(0).length,a=t,m("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=t,this._chunkSize=a,this.lengthKnown=!0},"undefined"!=typeof XMLHttpRequest)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";i={isDevice:!1,url:r};var s=ue.createFile(e,t,i,n,o);i.contents?s.contents=i.contents:i.url&&(s.contents=null,s.url=i.url),Object.defineProperties(s,{usedBytes:{get:function(){return this.contents.length}}});var c={};return Object.keys(s.stream_ops).forEach((function(e){var t=s.stream_ops[e];c[e]=function(){return ue.forceLoadFile(s),t.apply(null,arguments)}})),c.read=function(e,t,r,n,o){ue.forceLoadFile(s);var a=e.node.contents;if(o>=a.length)return 0;var i=Math.min(a.length-o,n);if(a.slice)for(var c=0;c<i;c++)t[r+c]=a[o+c];else for(c=0;c<i;c++)t[r+c]=a.get(o+c);return i},s.stream_ops=c,s},createPreloadedFile:function(e,t,r,n,a,i,s,c,u,l){Browser.init();var f=t?ie.resolve(ae.join2(e,t)):e;function d(r){function d(r){l&&l(),c||ue.createDataFile(e,t,r,n,a,u),i&&i(),z()}var p=!1;o.preloadPlugins.forEach((function(e){p||e.canHandle(f)&&(e.handle(r,f,d,(function(){s&&s(),z()})),p=!0)})),p||d(r)}U(),"string"==typeof r?Browser.asyncLoad(r,(function(e){d(e)}),s):d(r)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(e,t,r){t=t||function(){},r=r||function(){};var n=ue.indexedDB();try{var o=n.open(ue.DB_NAME(),ue.DB_VERSION)}catch(n){return r(n)}o.onupgradeneeded=function(){m("creating db"),o.result.createObjectStore(ue.DB_STORE_NAME)},o.onsuccess=function(){var n=o.result.transaction([ue.DB_STORE_NAME],"readwrite"),a=n.objectStore(ue.DB_STORE_NAME),i=0,s=0,c=e.length;function u(){(0==s?t:r)()}e.forEach((function(e){(e=a.put(ue.analyzePath(e).object.contents,e)).onsuccess=function(){++i+s==c&&u()},e.onerror=function(){i+ ++s==c&&u()}})),n.onerror=r},o.onerror=r},loadFilesFromDB:function(e,t,r){t=t||function(){},r=r||function(){};var n=ue.indexedDB();try{var o=n.open(ue.DB_NAME(),ue.DB_VERSION)}catch(n){return r(n)}o.onupgradeneeded=r,o.onsuccess=function(){var n=o.result;try{var a=n.transaction([ue.DB_STORE_NAME],"readonly")}catch(n){return void r(n)}var i=a.objectStore(ue.DB_STORE_NAME),s=0,c=0,u=e.length;function l(){(0==c?t:r)()}e.forEach((function(e){var t=i.get(e);t.onsuccess=function(){ue.analyzePath(e).exists&&ue.unlink(e),ue.createDataFile(ae.dirname(e),ae.basename(e),t.result,!0,!0,!0),++s+c==u&&l()},t.onerror=function(){s+ ++c==u&&l()}})),a.onerror=r},o.onerror=r}},le={mappings:{},DEFAULT_POLLMASK:5,umask:511,calculateAt:function(e,t){if("/"!==t[0]){var r;if(-100===e)r=ue.cwd();else{if(!(e=ue.getStream(e)))throw new ue.ErrnoError(8);r=e.path}t=ae.join2(r,t)}return t},doStat:function(e,t,r){try{var n=e(t)}catch(e){if(e&&e.node&&ae.normalize(t)!==ae.normalize(ue.getPath(e.node)))return-54;throw e}return S[r>>2]=n.dev,S[r+4>>2]=0,S[r+8>>2]=n.ino,S[r+12>>2]=n.mode,S[r+16>>2]=n.nlink,S[r+20>>2]=n.uid,S[r+24>>2]=n.gid,S[r+28>>2]=n.rdev,S[r+32>>2]=0,V=[n.size>>>0,(G=n.size,1<=+Math.abs(G)?0<G?(0|Math.min(+Math.floor(G/4294967296),4294967295))>>>0:~~+Math.ceil((G-(~~G>>>0))/4294967296)>>>0:0)],S[r+40>>2]=V[0],S[r+44>>2]=V[1],S[r+48>>2]=4096,S[r+52>>2]=n.blocks,S[r+56>>2]=n.atime.getTime()/1e3|0,S[r+60>>2]=0,S[r+64>>2]=n.mtime.getTime()/1e3|0,S[r+68>>2]=0,S[r+72>>2]=n.ctime.getTime()/1e3|0,S[r+76>>2]=0,V=[n.ino>>>0,(G=n.ino,1<=+Math.abs(G)?0<G?(0|Math.min(+Math.floor(G/4294967296),4294967295))>>>0:~~+Math.ceil((G-(~~G>>>0))/4294967296)>>>0:0)],S[r+80>>2]=V[0],S[r+84>>2]=V[1],0},doMsync:function(e,t,r,n,o){e=k.slice(e,e+r),ue.msync(t,e,o,r,n)},doMkdir:function(e,t){return"/"===(e=ae.normalize(e))[e.length-1]&&(e=e.substr(0,e.length-1)),ue.mkdir(e,t,0),0},doMknod:function(e,t,r){switch(61440&t){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-28}return ue.mknod(e,t,r),0},doReadlink:function(e,t,r){if(r<=0)return-28;var n=ue.readlink(e),o=Math.min(r,T(n));return e=_[t+o],F(n,t,r+1),_[t+o]=e,o},doAccess:function(e,t){if(-8&t)return-28;var r=ue.lookupPath(e,{follow:!0}).node;return r?(e="",4&t&&(e+="r"),2&t&&(e+="w"),1&t&&(e+="x"),e&&ue.nodePermissions(r,e)?-2:0):-44},doDup:function(e,t,r){var n=ue.getStream(r);return n&&ue.close(n),ue.open(e,t,0,r,r).fd},doReadv:function(e,t,r,n){for(var o=0,a=0;a<r;a++){var i=S[t+8*a>>2],s=S[t+(8*a+4)>>2];if((i=ue.read(e,_,i,s,n))<0)return-1;if(o+=i,i<s)break}return o},doWritev:function(e,t,r,n){for(var o=0,a=0;a<r;a++){var i=S[t+8*a>>2],s=S[t+(8*a+4)>>2];if((s=ue.write(e,_,i,s,n))<0)return-1;o+=s}return o},varargs:void 0,get:function(){return le.varargs+=4,S[le.varargs-4>>2]},getStr:function(e){return A(e)},getStreamFromFD:function(e){if(!(e=ue.getStream(e)))throw new ue.ErrnoError(8);return e},get64:function(e,t){return e}};oe=function(){return performance.now()};var fe={};function de(){if(!de.strings){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:l||"./this.program"};for(t in fe)e[t]=fe[t];var t,r=[];for(t in e)r.push(t+"="+e[t]);de.strings=r}return de.strings}function pe(e,t,r,n){e=e||this,this.parent=e,this.mount=e.mount,this.mounted=null,this.id=ue.nextInode++,this.name=t,this.mode=r,this.node_ops={},this.stream_ops={},this.rdev=n}function he(e,t,r){return r=0<r?r:T(e)+1,e=P(e,r=new Array(r),0,r.length),t&&(r.length=e),r}Object.defineProperties(pe.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(e){e?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(e){e?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return ue.isDir(this.mode)}},isDevice:{get:function(){return ue.isChrdev(this.mode)}}}),ue.FSNode=pe,ue.staticInit(),o.FS_createPath=ue.createPath,o.FS_createDataFile=ue.createDataFile,o.FS_createPreloadedFile=ue.createPreloadedFile,o.FS_createLazyFile=ue.createLazyFile,o.FS_createDevice=ue.createDevice,o.FS_unlink=ue.unlink,M.push({func:function(){ye()}});var me,ge={j:function(e){return we(e+te)+te},h:function(e,t,r){throw new re(e).init(t,r),e},w:function(e,t){try{var r=le.getStreamFromFD(e);return le.doStat(ue.stat,r.path,t)}catch(e){return void 0!==ue&&e instanceof ue.ErrnoError||W(e),-e.errno}},u:function(e,t,r,n,o,a){try{return function(e,t,r,n,o,a){a<<=12;var i=!1;if(0!=(16&n)&&e%16384!=0)return-28;if(0!=(32&n)){if(!(c=De(16384,t)))return-48;ve(c,0,t),i=!0}else{var s=ue.getStream(o);if(!s)return-8;var c=(e=ue.mmap(s,e,t,a,r,n)).ptr;i=e.allocated}return le.mappings[c]={malloc:c,len:t,allocated:i,fd:o,prot:r,flags:n,offset:a},c}(e,t,r,n,o,a)}catch(e){return void 0!==ue&&e instanceof ue.ErrnoError||W(e),-e.errno}},t:function(e,t){try{return function(e,t){if(-1==(0|e)||0===t)return-28;var r,n=le.mappings[e];return n&&t===n.len&&(r=ue.getStream(n.fd),2&n.prot&&le.doMsync(e,r,t,n.flags,n.offset),ue.munmap(r),le.mappings[e]=null,n.allocated&&Ee(n.malloc)),0}(e,t)}catch(e){return void 0!==ue&&e instanceof ue.ErrnoError||W(e),-e.errno}},y:function(e,t,r){le.varargs=r;try{var n=le.getStr(e),o=le.get();return ue.open(n,t,o).fd}catch(e){return void 0!==ue&&e instanceof ue.ErrnoError||W(e),-e.errno}},v:function(e,t){try{return e=le.getStr(e),le.doStat(ue.stat,e,t)}catch(e){return void 0!==ue&&e instanceof ue.ErrnoError||W(e),-e.errno}},a:function(){W()},p:function(e,t){var r;if(0===e)r=Date.now();else{if(1!==e&&4!==e)return ne(28),-1;r=oe()}return S[t>>2]=r/1e3|0,S[t+4>>2]=r%1e3*1e3*1e3|0,0},k:function(e,t){W("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},f:function(e,t){W("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},m:function(e,t,r){k.copyWithin(e,t,t+r)},n:function(e){W("OOM")},o:function(e){for(var t=oe();oe()-t<e;);},r:function(t,r){try{var n=0;return de().forEach((function(e,o){var a=r+n;(function(e,t,r){for(var n=0;n<e.length;++n)_[t++>>0]=e.charCodeAt(n);_[t>>0]=0})(e,S[t+4*o>>2]=a),n+=e.length+1})),0}catch(e){return void 0!==ue&&e instanceof ue.ErrnoError||W(e),e.errno}},s:function(e,t){try{var r=de();S[e>>2]=r.length;var n=0;return r.forEach((function(e){n+=e.length+1})),S[t>>2]=n,0}catch(e){return void 0!==ue&&e instanceof ue.ErrnoError||W(e),e.errno}},e:function(e){Pe(e)},i:function(e){try{var t=le.getStreamFromFD(e);return ue.close(t),0}catch(e){return void 0!==ue&&e instanceof ue.ErrnoError||W(e),e.errno}},q:function(e,t){try{var r=(r=le.getStreamFromFD(e)).tty?2:ue.isDir(r.mode)?3:ue.isLink(r.mode)?7:4;return _[t>>0]=r,0}catch(e){return void 0!==ue&&e instanceof ue.ErrnoError||W(e),e.errno}},x:function(e,t,r,n){try{var o=le.getStreamFromFD(e);return o=le.doReadv(o,t,r),S[n>>2]=o,0}catch(e){return void 0!==ue&&e instanceof ue.ErrnoError||W(e),e.errno}},l:function(e,t,r,n,o){try{var a=le.getStreamFromFD(e),i=4294967296*r+(t>>>0),s=9007199254740992;return i<=-s||s<=i?-61:(ue.llseek(a,i,n),V=[a.position>>>0,(G=a.position,1<=+Math.abs(G)?0<G?(0|Math.min(+Math.floor(G/4294967296),4294967295))>>>0:~~+Math.ceil((G-(~~G>>>0))/4294967296)>>>0:0)],S[o>>2]=V[0],S[o+4>>2]=V[1],a.getdents&&0==i&&0===n&&(a.getdents=null),0)}catch(e){return void 0!==ue&&e instanceof ue.ErrnoError||W(e),e.errno}},c:function(e,t,r,n){try{var o=le.getStreamFromFD(e);return o=le.doWritev(o,t,r),S[n>>2]=o,0}catch(e){return void 0!==ue&&e instanceof ue.ErrnoError||W(e),e.errno}},d:function(){return 6},g:function(){return 28},b:function(e){switch(e){case 30:return 16384;case 85:return k.length/16384;case 132:case 133:case 12:case 137:case 138:case 15:case 235:case 16:case 17:case 18:case 19:case 20:case 149:case 13:case 10:case 236:case 153:case 9:case 21:case 22:case 159:case 154:case 14:case 77:case 78:case 139:case 80:case 81:case 82:case 68:case 67:case 164:case 11:case 29:case 47:case 48:case 95:case 52:case 51:case 46:case 79:return 200809;case 27:case 246:case 127:case 128:case 23:case 24:case 160:case 161:case 181:case 182:case 242:case 183:case 184:case 243:case 244:case 245:case 165:case 178:case 179:case 49:case 50:case 168:case 169:case 175:case 170:case 171:case 172:case 97:case 76:case 32:case 173:case 35:return-1;case 176:case 177:case 7:case 155:case 8:case 157:case 125:case 126:case 92:case 93:case 129:case 130:case 131:case 94:case 91:return 1;case 74:case 60:case 69:case 70:case 4:return 1024;case 31:case 42:case 72:return 32;case 87:case 26:case 33:return 2147483647;case 34:case 1:return 47839;case 38:case 36:return 99;case 43:case 37:return 2048;case 0:return 2097152;case 3:return 65536;case 28:return 32768;case 44:return 32767;case 75:return 16384;case 39:return 1e3;case 89:return 700;case 71:return 256;case 40:return 255;case 2:return 100;case 180:return 64;case 25:return 20;case 5:return 16;case 6:return 6;case 73:return 4;case 84:return"object"==typeof navigator&&navigator.hardwareConcurrency||1}return ne(28),-1}},ye=(function(){var t={a:ge};function r(e,t){e=e.exports,o.asm=e,e=o.asm.z.buffer,b=e,o.HEAP8=_=new Int8Array(e),o.HEAP16=new Int16Array(e),o.HEAP32=S=new Int32Array(e),o.HEAPU8=k=new Uint8Array(e),o.HEAPU16=new Uint16Array(e),o.HEAPU32=new Uint32Array(e),o.HEAPF32=new Float32Array(e),o.HEAPF64=new Float64Array(e),O=o.asm.A,z()}function a(e){r(e.instance)}function i(e){return(p||"function"!=typeof fetch?Promise.resolve().then($):fetch(X,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+X+"'";return e.arrayBuffer()})).catch($)).then((function(e){return WebAssembly.instantiate(e,t)})).then(e,(function(e){g("failed to asynchronously prepare wasm: "+e),W(e)}))}if(U(),o.instantiateWasm)try{return o.instantiateWasm(t,r)}catch(e){return g("Module.instantiateWasm callback failed with error: "+e)}(p||"function"!=typeof WebAssembly.instantiateStreaming||H(X)||"function"!=typeof fetch?i(a):fetch(X,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,t).then(a,(function(e){return g("wasm streaming compile failed: "+e),g("falling back to ArrayBuffer instantiation"),i(a)}))}))).catch(n)}(),o.___wasm_call_ctors=function(){return(ye=o.___wasm_call_ctors=o.asm.B).apply(null,arguments)}),ve=(o._run_inference=function(){return(o._run_inference=o.asm.C).apply(null,arguments)},o._load_model=function(){return(o._load_model=o.asm.D).apply(null,arguments)},o._main=function(){return(o._main=o.asm.E).apply(null,arguments)},o._memset=function(){return(ve=o._memset=o.asm.F).apply(null,arguments)}),we=o._malloc=function(){return(we=o._malloc=o.asm.G).apply(null,arguments)},Ee=o._free=function(){return(Ee=o._free=o.asm.H).apply(null,arguments)},be=o.___errno_location=function(){return(be=o.___errno_location=o.asm.I).apply(null,arguments)},_e=o.stackSave=function(){return(_e=o.stackSave=o.asm.J).apply(null,arguments)},ke=o.stackRestore=function(){return(ke=o.stackRestore=o.asm.K).apply(null,arguments)},Se=o.stackAlloc=function(){return(Se=o.stackAlloc=o.asm.L).apply(null,arguments)},De=o._memalign=function(){return(De=o._memalign=o.asm.M).apply(null,arguments)};function xe(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function Ae(e){function t(){me||(me=!0,o.calledRun=!0,y||(o.noFSInit||ue.init.initialized||ue.init(),se.init(),K(M),ue.ignorePermissions=!1,K(I),r(o),o.onRuntimeInitialized&&o.onRuntimeInitialized(),Fe&&function(e){var t=o._main,r=(e=e||[]).length+1,n=Se(4*(r+1));S[n>>2]=R(l);for(var a=1;a<r;a++)S[(n>>2)+a]=R(e[a-1]);S[(n>>2)+r]=0;try{Pe(t(r,n),!0)}catch(e){if(e instanceof xe)return;if("unwind"==e)return h=!0;var i=e;e&&"object"==typeof e&&e.stack&&(i=[e,e.stack]),g("exception thrown: "+i),f(1,e)}}(e),function(){if(o.postRun)for("function"==typeof o.postRun&&(o.postRun=[o.postRun]);o.postRun.length;)e=o.postRun.shift(),B.unshift(e);var e;K(B)}()))}e=e||u,0<N||(function(){if(o.preRun)for("function"==typeof o.preRun&&(o.preRun=[o.preRun]);o.preRun.length;)e=o.preRun.shift(),j.unshift(e);var e;K(j)}(),0<N||(o.setStatus?(o.setStatus("Running..."),setTimeout((function(){setTimeout((function(){o.setStatus("")}),1),t()}),1)):t()))}function Pe(e,t){t&&h&&0===e||(h||(o.onExit&&o.onExit(e),y=!0),f(e,new xe(e)))}if(o.cwrap=function(e,t,r,n){var o=(r=r||[]).every((function(e){return"number"===e}));return"string"!==t&&o&&!n?w(e):function(){return E(e,t,r,arguments)}},o.addRunDependency=U,o.removeRunDependency=z,o.FS_createPath=ue.createPath,o.FS_createDataFile=ue.createDataFile,o.FS_createPreloadedFile=ue.createPreloadedFile,o.FS_createLazyFile=ue.createLazyFile,o.FS_createDevice=ue.createDevice,o.FS_unlink=ue.unlink,C=function e(){me||Ae(),me||(C=e)},o.run=Ae,o.preInit)for("function"==typeof o.preInit&&(o.preInit=[o.preInit]);0<o.preInit.length;)o.preInit.pop()();var Fe=!0;return o.noInitialRun&&(Fe=!1),h=!0,Ae(),e.ready});e.exports=r},8707:function(e){var r,n=(r="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,function(e){var n,o,a=void 0!==(e=e||{})?e:{};a.ready=new Promise((function(e,t){n=e,o=t})),a.expectedDataFileDownloads||(a.expectedDataFileDownloads=0),a.expectedDataFileDownloads++,function(e){if("object"==typeof window)window.encodeURIComponent(window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/");else{if("undefined"==typeof location)throw"using preloaded data can only be done on a web page or in a web worker";encodeURIComponent(location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/")}var t="tflite-wasm-thread.data";"function"!=typeof a.locateFilePackage||a.locateFile||(a.locateFile=a.locateFilePackage,S("warning: you defined Module.locateFilePackage, that has been renamed to Module.locateFile (using your locateFilePackage for now)"));var r,n,o,i,s=a.locateFile?a.locateFile(t,""):t,c=(t=e.remote_package_size,null),u=a.getPreloadedPackage?a.getPreloadedPackage(s,t):null;function l(){function t(e,t){if(!e)throw t+(new Error).stack}function r(e,t,r){this.start=e,this.end=t,this.audio=r}r.prototype={requests:{},open:function(e,t){this.name=t,this.requests[t]=this,a.addRunDependency("fp "+this.name)},send:function(){},onload:function(){var e=this.byteArray.subarray(this.start,this.end);this.finish(e)},finish:function(e){a.FS_createDataFile(this.name,null,e,!0,!0,!0),a.removeRunDependency("fp "+this.name),this.requests[this.name]=null}};for(var n=e.files,o=0;o<n.length;++o)new r(n[o].start,n[o].end,n[o].audio).open("GET",n[o].filename);function i(n){t(n,"Loading data file failed."),t(n instanceof ArrayBuffer,"bad input to processPackageData"),n=new Uint8Array(n),r.prototype.byteArray=n;for(var o=e.files,i=0;i<o.length;++i)r.prototype.requests[o[i].filename].onload();a.removeRunDependency("datafile_bazel-out/wasm-opt/bin/tflite-wasm-thread.data")}a.addRunDependency("datafile_bazel-out/wasm-opt/bin/tflite-wasm-thread.data"),a.preloadResults||(a.preloadResults={}),a.preloadResults["bazel-out/wasm-opt/bin/tflite-wasm-thread.data"]={fromCache:!1},u?(i(u),u=null):c=i}u||(r=s,n=t,o=function(e){c?(c(e),c=null):u=e},(i=new XMLHttpRequest).open("GET",r,!0),i.responseType="arraybuffer",i.onprogress=function(e){var t=r,o=n;if(e.total&&(o=e.total),e.loaded){i.addedTotal?a.dataFileDownloads[t].loaded=e.loaded:(i.addedTotal=!0,a.dataFileDownloads||(a.dataFileDownloads={}),a.dataFileDownloads[t]={loaded:e.loaded,total:o});var s,c=0,u=0,l=0;for(s in a.dataFileDownloads){var f=a.dataFileDownloads[s];c+=f.total,u+=f.loaded,l++}c=Math.ceil(c*a.expectedDataFileDownloads/l),a.setStatus&&a.setStatus("Downloading data... ("+u+"/"+c+")")}else a.dataFileDownloads||a.setStatus&&a.setStatus("Downloading data...")},i.onerror=function(e){throw new Error("NetworkError for: "+r)},i.onload=function(e){if(!(200==i.status||304==i.status||206==i.status||0==i.status&&i.response))throw new Error(i.statusText+" : "+i.responseURL);var t=i.response;o(t)},i.send(null)),a.calledRun?l():(a.preRun||(a.preRun=[]),a.preRun.push(l))}({files:[{filename:"/segm_full_sparse_v1008.tflite",start:0,end:308672,audio:0},{filename:"/segm_lite_v1082.tflite",start:308672,end:557680,audio:0}],remote_package_size:557680,package_uuid:"277f59ba-da2f-436d-93b3-a80c3734fcd3"});var i,s={};for(i in a)a.hasOwnProperty(i)&&(s[i]=a[i]);var c=[],u="./this.program",l=function(e,t){throw t},f="object"==typeof window,d="function"==typeof importScripts,p="object"==typeof t&&"object"==typeof t.versions&&"string"==typeof t.versions.node,h=a.ENVIRONMENT_IS_PTHREAD||!1;h&&(D=a.buffer);var m,g,y="";function v(e){return a.locateFile?a.locateFile(e,y):y+e}(f||d)&&(d?y=self.location.href:"undefined"!=typeof document&&document.currentScript&&(y=document.currentScript.src),y=0!==(y=r||y).indexOf("blob:")?y.substr(0,y.lastIndexOf("/")+1):"",m=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},d&&(g=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}));var w,E,b,_,k=a.print||console.log.bind(console),S=a.printErr||console.warn.bind(console);for(i in s)s.hasOwnProperty(i)&&(a[i]=s[i]);s=null,a.arguments&&(c=a.arguments),a.thisProgram&&(u=a.thisProgram),a.quit&&(l=a.quit),Atomics.load,Atomics.store,Atomics.compareExchange,a.wasmBinary&&(w=a.wasmBinary),a.noExitRuntime&&(E=a.noExitRuntime),"object"!=typeof WebAssembly&&te("no native wasm support detected");var D,x,A,P,F,T,R,O=!1;function j(e,t){e||te("Assertion failed: "+t)}function M(e){var t=a["_"+e];return j(t,"Cannot call unknown function "+e+", make sure it is exported"),t}function I(e,t,r,n){var o,a={string:function(e){var t,r=0;return null!=e&&0!==e&&(t=1+(e.length<<2),C(e,r=Pt(t),t)),r},array:function(e){var t,r=Pt(e.length);return t=e,e=r,x.set(t,e),r}},i=(e=M(e),[]),s=0;if(n)for(var c=0;c<n.length;c++){var u=a[r[c]];u?(0===s&&(s=xt()),i[c]=u(n[c])):i[c]=n[c]}return o=e=e.apply(null,i),e="string"===t?N(o):"boolean"===t?Boolean(o):o,0!==s&&At(s),e}function B(e,t,r){for(var n=t+r,o="";!(n<=t);){var a,i,s=e[t++];if(!s)return o;128&s?(a=63&e[t++],192!=(224&s)?(i=63&e[t++],(s=224==(240&s)?(15&s)<<12|a<<6|i:(7&s)<<18|a<<12|i<<6|63&e[t++])<65536?o+=String.fromCharCode(s):(i=s-65536,o+=String.fromCharCode(55296|i>>10,56320|1023&i))):o+=String.fromCharCode((31&s)<<6|a)):o+=String.fromCharCode(s)}return o}function N(e,t){return e?B(A,e,t):""}function L(e,t,r,n){if(!(0<n))return 0;for(var o=r,a=r+n-1,i=0;i<e.length;++i){var s=e.charCodeAt(i);if((s=55296<=s&&s<=57343?65536+((1023&s)<<10)|1023&e.charCodeAt(++i):s)<=127){if(a<=r)break;t[r++]=s}else if(s<=2047){if(a<=r+1)break;t[r++]=192|s>>6,t[r++]=128|63&s}else if(s<=65535){if(a<=r+2)break;t[r++]=224|s>>12,t[r++]=128|s>>6&63,t[r++]=128|63&s}else{if(a<=r+3)break;t[r++]=240|s>>18,t[r++]=128|s>>12&63,t[r++]=128|s>>6&63,t[r++]=128|63&s}}return t[r]=0,r-o}function C(e,t,r){return L(e,A,t,r)}function U(e){for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);(n=55296<=n&&n<=57343?65536+((1023&n)<<10)|1023&e.charCodeAt(++r):n)<=127?++t:t+=n<=2047?2:n<=65535?3:4}return t}function z(e){var t=U(e)+1,r=Pt(t);return L(e,x,r,t),r}var W,H,q=a.INITIAL_MEMORY||25165824;if(h)b=a.wasmMemory,D=a.buffer;else if(a.wasmMemory)b=a.wasmMemory;else if(!((b=new WebAssembly.Memory({initial:q/65536,maximum:q/65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw S("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),p&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");q=(D=b?b.buffer:D).byteLength,D=W=D,a.HEAP8=x=new Int8Array(W),a.HEAP16=P=new Int16Array(W),a.HEAP32=F=new Int32Array(W),a.HEAPU8=A=new Uint8Array(W),a.HEAPU16=new Uint16Array(W),a.HEAPU32=T=new Uint32Array(W),a.HEAPF32=new Float32Array(W),a.HEAPF64=R=new Float64Array(W);var G=[],V=[],X=[],$=[],K=[],J=0,Y=null,Z=null;function Q(e){j(!h,"addRunDependency cannot be used in a pthread worker"),J++,a.monitorRunDependencies&&a.monitorRunDependencies(J)}function ee(e){var t;J--,a.monitorRunDependencies&&a.monitorRunDependencies(J),0==J&&(null!==Y&&(clearInterval(Y),Y=null),Z&&(t=Z,Z=null,t()))}function te(e){throw a.onAbort&&a.onAbort(e),h&&console.error("Pthread aborting at "+(new Error).stack),S(e+=""),O=!0,e="abort("+e+"). Build with -s ASSERTIONS=1 for more info.",e=new WebAssembly.RuntimeError(e),o(e),e}function re(e){return t=e,e="data:application/octet-stream;base64,",String.prototype.startsWith?t.startsWith(e):0===t.indexOf(e);var t}a.preloadedImages={},a.preloadedAudios={};var ne,oe,ae="tflite-wasm-thread.wasm";function ie(){try{if(w)return new Uint8Array(w);if(g)return g(ae);throw"both async and sync fetching of the wasm failed"}catch(e){te(e)}}re(ae)||(ae=v(ae));var se={106392:function(){throw"Canceled!"},106654:function(e,t){setTimeout((function(){bt(e,t)}),0)}};function ce(e){for(;0<e.length;){var t,r=e.shift();"function"!=typeof r?"number"==typeof(t=r.func)?void 0===r.arg?H.get(t)():H.get(t)(r.arg):t(void 0===r.arg?null:r.arg):r(a)}}var ue=71,le=10,fe=28,de=16;function pe(e,t){if(e<=0||e>x.length||!0&e||t<0)return-28;if(0==t)return 0;2147483647<=t&&(t=1/0);var r=Atomics.load(F,Rt>>2),n=0;if(r==e&&Atomics.compareExchange(F,Rt>>2,r,0)==r&&(n=1,--t<=0))return 1;if(0<=(t=Atomics.notify(F,e>>2,t)))return t+n;throw"Atomics.notify returned an unexpected value "+t}function he(e){if(h)throw"Internal Error! cleanupThread() can only ever be called from main application thread!";if(!e)throw"Internal Error! Null pthread_ptr in cleanupThread!";F[e+12>>2]=0,(e=ge.pthreads[e])&&(e=e.worker,ge.returnWorkerToPool(e))}a._emscripten_futex_wake=pe;var me,ge={unusedWorkers:[],runningWorkers:[],initMainThreadBlock:function(){},initRuntime:function(){for(var e=ft(228),t=0;t<57;++t)T[e/4+t]=0;var r=(F[e+12>>2]=e)+152;F[r>>2]=r;var n=ft(512);for(t=0;t<128;++t)T[n/4+t]=0;Atomics.store(T,e+100>>2,n),Atomics.store(T,e+40>>2,e),ge.initShared(),Dt(e,!d,1),Et(e)},initWorker:function(){ge.initShared(),n(a)},initShared:function(){},pthreads:{},threadExitHandlers:[],setThreadStatus:function(){},runExitHandlers:function(){for(;0<ge.threadExitHandlers.length;)ge.threadExitHandlers.pop()();h&&ht()&&vt()},threadExit:function(e){var t=ht();t&&(Atomics.store(T,t+4>>2,e),Atomics.store(T,t+0>>2,1),Atomics.store(T,t+56>>2,1),Atomics.store(T,t+60>>2,0),ge.runExitHandlers(),pe(t+0,2147483647),Dt(0,0,0),h&&postMessage({cmd:"exit"}))},threadCancel:function(){ge.runExitHandlers();var e=ht();Atomics.store(T,e+4>>2,-1),Atomics.store(T,e+0>>2,1),pe(e+0,2147483647),Dt(0,0,0),postMessage({cmd:"cancelDone"})},terminateAllThreads:function(){for(var e in ge.pthreads)(n=ge.pthreads[e])&&n.worker&&ge.returnWorkerToPool(n.worker);ge.pthreads={};for(var t=0;t<ge.unusedWorkers.length;++t)(r=ge.unusedWorkers[t]).terminate();for(ge.unusedWorkers=[],t=0;t<ge.runningWorkers.length;++t){var r,n=(r=ge.runningWorkers[t]).pthread;ge.freeThreadData(n),r.terminate()}ge.runningWorkers=[]},freeThreadData:function(e){var t;e&&(e.threadInfoStruct&&(t=F[e.threadInfoStruct+100>>2],F[e.threadInfoStruct+100>>2]=0,dt(t),dt(e.threadInfoStruct)),e.threadInfoStruct=0,e.allocatedOwnStack&&e.stackBase&&dt(e.stackBase),e.stackBase=0,e.worker&&(e.worker.pthread=null))},returnWorkerToPool:function(e){delete ge.pthreads[e.pthread.thread],ge.unusedWorkers.push(e),ge.runningWorkers.splice(ge.runningWorkers.indexOf(e),1),ge.freeThreadData(e.pthread),e.pthread=void 0},receiveObjectTransfer:function(e){},loadWasmModuleToWorker:function(e,t){e.onmessage=function(r){var n=r.data,o=n.cmd;if(e.pthread&&(ge.currentProxiedOperationCallerThread=e.pthread.threadInfoStruct),n.targetThread&&n.targetThread!=ht()){var a=ge.pthreads[n.targetThread];return a?a.worker.postMessage(r.data,n.transferList):console.error('Internal error! Worker sent a message "'+o+'" to target pthread '+n.targetThread+", but that thread no longer exists!"),void(ge.currentProxiedOperationCallerThread=void 0)}if("processQueuedMainThreadWork"===o)wt();else if("spawnThread"===o)ot(r.data);else if("cleanupThread"===o)he(n.thread);else if("killThread"===o)!function(e){if(h)throw"Internal Error! killThread() can only ever be called from main application thread!";if(!e)throw"Internal Error! Null pthread_ptr in killThread!";F[e+12>>2]=0,(e=ge.pthreads[e]).worker.terminate(),ge.freeThreadData(e),ge.runningWorkers.splice(ge.runningWorkers.indexOf(e.worker),1),e.worker.pthread=void 0}(n.thread);else if("cancelThread"===o)!function(e){if(h)throw"Internal Error! cancelThread() can only ever be called from main application thread!";if(!e)throw"Internal Error! Null pthread_ptr in cancelThread!";ge.pthreads[e].worker.postMessage({cmd:"cancel"})}(n.thread);else if("loaded"===o)e.loaded=!0,t&&t(e),e.runPthread&&(e.runPthread(),delete e.runPthread);else if("print"===o)k("Thread "+n.threadId+": "+n.text);else if("printErr"===o)S("Thread "+n.threadId+": "+n.text);else if("alert"===o)alert("Thread "+n.threadId+": "+n.text);else if("exit"===o)e.pthread&&Atomics.load(T,e.pthread.thread+64>>2)&&ge.returnWorkerToPool(e);else if("exitProcess"===o)try{Mt(n.returnCode)}catch(r){if(r instanceof Ot)return;throw r}else"cancelDone"===o?ge.returnWorkerToPool(e):"objectTransfer"===o?ge.receiveObjectTransfer(r.data):"setimmediate"===r.data.target?e.postMessage(r.data):S("worker sent an unknown command "+o);ge.currentProxiedOperationCallerThread=void 0},e.onerror=function(e){S("pthread sent an error! "+e.filename+":"+e.lineno+": "+e.message)},e.postMessage({cmd:"load",urlOrBlob:a.mainScriptUrlOrBlob||r,wasmMemory:b,wasmModule:_})},allocateUnusedWorker:function(){var e=v("tflite-wasm-thread.worker.js");ge.unusedWorkers.push(new Worker(e))},getNewWorker:function(){return 0==ge.unusedWorkers.length&&(ge.allocateUnusedWorker(),ge.loadWasmModuleToWorker(ge.unusedWorkers[0])),0<ge.unusedWorkers.length?ge.unusedWorkers.pop():null},busySpinWait:function(e){for(var t=performance.now()+e;performance.now()<t;);}};function ye(e){return F[pt()>>2]=e}a.establishStackSpace=function(e,t){Ft(e,t),At(e)},a.getNoExitRuntime=function(){return E},a.invokeEntryPoint=function(e,t){return H.get(e)(t)},me=h?function(){return performance.now()-a.__performance_now_clock_drift}:function(){return performance.now()};var ve=0,we=4,Ee=8,be=12,_e=13,ke=16;function Se(e){this.excPtr=e,this.ptr=e-ke,this.set_type=function(e){F[this.ptr+Ee>>2]=e},this.get_type=function(){return F[this.ptr+Ee>>2]},this.set_destructor=function(e){F[this.ptr+ve>>2]=e},this.get_destructor=function(){return F[this.ptr+ve>>2]},this.set_refcount=function(e){F[this.ptr+we>>2]=e},this.set_caught=function(e){e=e?1:0,x[this.ptr+be>>0]=e},this.get_caught=function(){return 0!=x[this.ptr+be>>0]},this.set_rethrown=function(e){e=e?1:0,x[this.ptr+_e>>0]=e},this.get_rethrown=function(){return 0!=x[this.ptr+_e>>0]},this.init=function(e,t){this.set_type(e),this.set_destructor(t),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){Atomics.add(F,this.ptr+we>>2,1)},this.release_ref=function(){return 1===Atomics.sub(F,this.ptr+we>>2,1)}}var De={splitPath:function(e){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1)},normalizeArray:function(e,t){for(var r=0,n=e.length-1;0<=n;n--){var o=e[n];"."===o?e.splice(n,1):".."===o?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r;r--)e.unshift("..");return e},normalize:function(e){var t="/"===e.charAt(0),r="/"===e.substr(-1);return(e=(e=De.normalizeArray(e.split("/").filter((function(e){return!!e})),!t).join("/"))||t?e:".")&&r&&(e+="/"),(t?"/":"")+e},dirname:function(e){e=(t=De.splitPath(e))[0];var t=t[1];return e||t?e+(t=t&&t.substr(0,t.length-1)):"."},basename:function(e){if("/"===e)return"/";var t=(e=(e=De.normalize(e)).replace(/\/$/,"")).lastIndexOf("/");return-1===t?e:e.substr(t+1)},extname:function(e){return De.splitPath(e)[3]},join:function(){var e=Array.prototype.slice.call(arguments,0);return De.normalize(e.join("/"))},join2:function(e,t){return De.normalize(e+"/"+t)}},xe={resolve:function(){for(var e="",t=!1,r=arguments.length-1;-1<=r&&!t;r--){var n=0<=r?arguments[r]:Fe.cwd();if("string"!=typeof n)throw new TypeError("Arguments to path.resolve must be strings");if(!n)return"";e=n+"/"+e,t="/"===n.charAt(0)}return(t?"/":"")+(e=De.normalizeArray(e.split("/").filter((function(e){return!!e})),!t).join("/"))||"."},relative:function(e,t){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;0<=r&&""===e[r];r--);return r<t?[]:e.slice(t,r-t+1)}e=xe.resolve(e).substr(1),t=xe.resolve(t).substr(1);for(var n=r(e.split("/")),o=r(t.split("/")),a=Math.min(n.length,o.length),i=a,s=0;s<a;s++)if(n[s]!==o[s]){i=s;break}var c=[];for(s=i;s<n.length;s++)c.push("..");return(c=c.concat(o.slice(i))).join("/")}},Ae={ttys:[],init:function(){},shutdown:function(){},register:function(e,t){Ae.ttys[e]={input:[],output:[],ops:t},Fe.registerDevice(e,Ae.stream_ops)},stream_ops:{open:function(e){var t=Ae.ttys[e.node.rdev];if(!t)throw new Fe.ErrnoError(43);e.tty=t,e.seekable=!1},close:function(e){e.tty.ops.flush(e.tty)},flush:function(e){e.tty.ops.flush(e.tty)},read:function(e,t,r,n,o){if(!e.tty||!e.tty.ops.get_char)throw new Fe.ErrnoError(60);for(var a,i=0,s=0;s<n;s++){try{a=e.tty.ops.get_char(e.tty)}catch(e){throw new Fe.ErrnoError(29)}if(void 0===a&&0===i)throw new Fe.ErrnoError(6);if(null==a)break;i++,t[r+s]=a}return i&&(e.node.timestamp=Date.now()),i},write:function(e,t,r,n,o){if(!e.tty||!e.tty.ops.put_char)throw new Fe.ErrnoError(60);try{for(var a=0;a<n;a++)e.tty.ops.put_char(e.tty,t[r+a])}catch(e){throw new Fe.ErrnoError(29)}return n&&(e.node.timestamp=Date.now()),a}},default_tty_ops:{get_char:function(e){if(!e.input.length){var t=null;if("undefined"!=typeof window&&"function"==typeof window.prompt?null!==(t=window.prompt("Input: "))&&(t+="\n"):"function"==typeof readline&&null!==(t=readline())&&(t+="\n"),!t)return null;e.input=st(t,!0)}return e.input.shift()},put_char:function(e,t){null===t||10===t?(k(B(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&0<e.output.length&&(k(B(e.output,0)),e.output=[])}},default_tty1_ops:{put_char:function(e,t){null===t||10===t?(S(B(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&0<e.output.length&&(S(B(e.output,0)),e.output=[])}}},Pe={ops_table:null,mount:function(e){return Pe.createNode(null,"/",16895,0)},createNode:function(e,t,r,n){if(Fe.isBlkdev(r)||Fe.isFIFO(r))throw new Fe.ErrnoError(63);return Pe.ops_table||(Pe.ops_table={dir:{node:{getattr:Pe.node_ops.getattr,setattr:Pe.node_ops.setattr,lookup:Pe.node_ops.lookup,mknod:Pe.node_ops.mknod,rename:Pe.node_ops.rename,unlink:Pe.node_ops.unlink,rmdir:Pe.node_ops.rmdir,readdir:Pe.node_ops.readdir,symlink:Pe.node_ops.symlink},stream:{llseek:Pe.stream_ops.llseek}},file:{node:{getattr:Pe.node_ops.getattr,setattr:Pe.node_ops.setattr},stream:{llseek:Pe.stream_ops.llseek,read:Pe.stream_ops.read,write:Pe.stream_ops.write,allocate:Pe.stream_ops.allocate,mmap:Pe.stream_ops.mmap,msync:Pe.stream_ops.msync}},link:{node:{getattr:Pe.node_ops.getattr,setattr:Pe.node_ops.setattr,readlink:Pe.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Pe.node_ops.getattr,setattr:Pe.node_ops.setattr},stream:Fe.chrdev_stream_ops}}),n=Fe.createNode(e,t,r,n),Fe.isDir(n.mode)?(n.node_ops=Pe.ops_table.dir.node,n.stream_ops=Pe.ops_table.dir.stream,n.contents={}):Fe.isFile(n.mode)?(n.node_ops=Pe.ops_table.file.node,n.stream_ops=Pe.ops_table.file.stream,n.usedBytes=0,n.contents=null):Fe.isLink(n.mode)?(n.node_ops=Pe.ops_table.link.node,n.stream_ops=Pe.ops_table.link.stream):Fe.isChrdev(n.mode)&&(n.node_ops=Pe.ops_table.chrdev.node,n.stream_ops=Pe.ops_table.chrdev.stream),n.timestamp=Date.now(),e&&(e.contents[t]=n),n},getFileDataAsRegularArray:function(e){if(e.contents&&e.contents.subarray){for(var t=[],r=0;r<e.usedBytes;++r)t.push(e.contents[r]);return t}return e.contents},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array(0)},expandFileStorage:function(e,t){var r=e.contents?e.contents.length:0;t<=r||(t=Math.max(t,r*(r<1048576?2:1.125)>>>0),0!=r&&(t=Math.max(t,256)),r=e.contents,e.contents=new Uint8Array(t),0<e.usedBytes&&e.contents.set(r.subarray(0,e.usedBytes),0))},resizeFileStorage:function(e,t){if(e.usedBytes!=t){if(0==t)return e.contents=null,void(e.usedBytes=0);if(!e.contents||e.contents.subarray){var r=e.contents;return e.contents=new Uint8Array(t),r&&e.contents.set(r.subarray(0,Math.min(t,e.usedBytes))),void(e.usedBytes=t)}if(e.contents||(e.contents=[]),e.contents.length>t)e.contents.length=t;else for(;e.contents.length<t;)e.contents.push(0);e.usedBytes=t}},node_ops:{getattr:function(e){var t={};return t.dev=Fe.isChrdev(e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,Fe.isDir(e.mode)?t.size=4096:Fe.isFile(e.mode)?t.size=e.usedBytes:Fe.isLink(e.mode)?t.size=e.link.length:t.size=0,t.atime=new Date(e.timestamp),t.mtime=new Date(e.timestamp),t.ctime=new Date(e.timestamp),t.blksize=4096,t.blocks=Math.ceil(t.size/t.blksize),t},setattr:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp),void 0!==t.size&&Pe.resizeFileStorage(e,t.size)},lookup:function(e,t){throw Fe.genericErrors[44]},mknod:function(e,t,r,n){return Pe.createNode(e,t,r,n)},rename:function(e,t,r){if(Fe.isDir(e.mode)){var n;try{n=Fe.lookupNode(t,r)}catch(e){}if(n)for(var o in n.contents)throw new Fe.ErrnoError(55)}delete e.parent.contents[e.name],e.name=r,(t.contents[r]=e).parent=t},unlink:function(e,t){delete e.contents[t]},rmdir:function(e,t){for(var r in Fe.lookupNode(e,t).contents)throw new Fe.ErrnoError(55);delete e.contents[t]},readdir:function(e){var t,r=[".",".."];for(t in e.contents)e.contents.hasOwnProperty(t)&&r.push(t);return r},symlink:function(e,t,r){return(t=Pe.createNode(e,t,41471,0)).link=r,t},readlink:function(e){if(!Fe.isLink(e.mode))throw new Fe.ErrnoError(28);return e.link}},stream_ops:{read:function(e,t,r,n,o){var a=e.node.contents;if(o>=e.node.usedBytes)return 0;var i=Math.min(e.node.usedBytes-o,n);if(8<i&&a.subarray)t.set(a.subarray(o,o+i),r);else for(var s=0;s<i;s++)t[r+s]=a[o+s];return i},write:function(e,t,r,n,o,a){if(!n)return 0;var i=e.node;if(i.timestamp=Date.now(),t.subarray&&(!i.contents||i.contents.subarray)){if(a)return i.contents=t.subarray(r,r+n),i.usedBytes=n;if(0===i.usedBytes&&0===o)return i.contents=t.slice(r,r+n),i.usedBytes=n;if(o+n<=i.usedBytes)return i.contents.set(t.subarray(r,r+n),o),n}if(Pe.expandFileStorage(i,o+n),i.contents.subarray&&t.subarray)i.contents.set(t.subarray(r,r+n),o);else for(var s=0;s<n;s++)i.contents[o+s]=t[r+s];return i.usedBytes=Math.max(i.usedBytes,o+n),n},llseek:function(e,t,r){if(1===r?t+=e.position:2===r&&Fe.isFile(e.node.mode)&&(t+=e.node.usedBytes),t<0)throw new Fe.ErrnoError(28);return t},allocate:function(e,t,r){Pe.expandFileStorage(e.node,t+r),e.node.usedBytes=Math.max(e.node.usedBytes,t+r)},mmap:function(e,t,r,n,o,a){if(j(0===t),!Fe.isFile(e.node.mode))throw new Fe.ErrnoError(43);var i,s;if(e=e.node.contents,2&a||e.buffer!==D){if((0<n||n+r<e.length)&&(e=e.subarray?e.subarray(n,n+r):Array.prototype.slice.call(e,n,n+r)),s=!0,!(i=function(e){for(var t,r,n=(t=e,r=(r=16384)||16,Math.ceil(t/r)*r),o=ft(n);e<n;)x[o+e++]=0;return o}(r)))throw new Fe.ErrnoError(48);x.set(e,i)}else s=!1,i=e.byteOffset;return{ptr:i,allocated:s}},msync:function(e,t,r,n,o){if(!Fe.isFile(e.node.mode))throw new Fe.ErrnoError(43);return 2&o||Pe.stream_ops.write(e,t,0,n,r,!1),0}}},Fe={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:function(e,t){if(t=t||{},!(e=xe.resolve(Fe.cwd(),e)))return{path:"",node:null};var r,n={follow_mount:!0,recurse_count:0};for(r in n)void 0===t[r]&&(t[r]=n[r]);if(8<t.recurse_count)throw new Fe.ErrnoError(32);for(var o=De.normalizeArray(e.split("/").filter((function(e){return!!e})),!1),a=Fe.root,i="/",s=0;s<o.length;s++){var c=s===o.length-1;if(c&&t.parent)break;if(a=Fe.lookupNode(a,o[s]),i=De.join2(i,o[s]),Fe.isMountpoint(a)&&(!c||c&&t.follow_mount)&&(a=a.mounted.root),!c||t.follow)for(var u=0;Fe.isLink(a.mode);){var l=Fe.readlink(i);if(i=xe.resolve(De.dirname(i),l),a=Fe.lookupPath(i,{recurse_count:t.recurse_count}).node,40<u++)throw new Fe.ErrnoError(32)}}return{path:i,node:a}},getPath:function(e){for(var t;;){if(Fe.isRoot(e)){var r=e.mount.mountpoint;return t?"/"!==r[r.length-1]?r+"/"+t:r+t:r}t=t?e.name+"/"+t:e.name,e=e.parent}},hashName:function(e,t){for(var r=0,n=0;n<t.length;n++)r=(r<<5)-r+t.charCodeAt(n)|0;return(e+r>>>0)%Fe.nameTable.length},hashAddNode:function(e){var t=Fe.hashName(e.parent.id,e.name);e.name_next=Fe.nameTable[t],Fe.nameTable[t]=e},hashRemoveNode:function(e){var t=Fe.hashName(e.parent.id,e.name);if(Fe.nameTable[t]===e)Fe.nameTable[t]=e.name_next;else for(var r=Fe.nameTable[t];r;){if(r.name_next===e){r.name_next=e.name_next;break}r=r.name_next}},lookupNode:function(e,t){if(r=Fe.mayLookup(e))throw new Fe.ErrnoError(r,e);for(var r=Fe.hashName(e.id,t),n=Fe.nameTable[r];n;n=n.name_next){var o=n.name;if(n.parent.id===e.id&&o===t)return n}return Fe.lookup(e,t)},createNode:function(e,t,r,n){return n=new Fe.FSNode(e,t,r,n),Fe.hashAddNode(n),n},destroyNode:function(e){Fe.hashRemoveNode(e)},isRoot:function(e){return e===e.parent},isMountpoint:function(e){return!!e.mounted},isFile:function(e){return 32768==(61440&e)},isDir:function(e){return 16384==(61440&e)},isLink:function(e){return 40960==(61440&e)},isChrdev:function(e){return 8192==(61440&e)},isBlkdev:function(e){return 24576==(61440&e)},isFIFO:function(e){return 4096==(61440&e)},isSocket:function(e){return 49152==(49152&e)},flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:function(e){var t=Fe.flagModes[e];if(void 0===t)throw new Error("Unknown file open mode: "+e);return t},flagsToPermissionString:function(e){var t=["r","w","rw"][3&e];return 512&e&&(t+="w"),t},nodePermissions:function(e,t){return Fe.ignorePermissions||(-1===t.indexOf("r")||292&e.mode)&&(-1===t.indexOf("w")||146&e.mode)&&(-1===t.indexOf("x")||73&e.mode)?0:2},mayLookup:function(e){return Fe.nodePermissions(e,"x")||(e.node_ops.lookup?0:2)},mayCreate:function(e,t){try{return Fe.lookupNode(e,t),20}catch(e){}return Fe.nodePermissions(e,"wx")},mayDelete:function(e,t,r){var n;try{n=Fe.lookupNode(e,t)}catch(e){return e.errno}var o=Fe.nodePermissions(e,"wx");if(o)return o;if(r){if(!Fe.isDir(n.mode))return 54;if(Fe.isRoot(n)||Fe.getPath(n)===Fe.cwd())return 10}else if(Fe.isDir(n.mode))return 31;return 0},mayOpen:function(e,t){return e?Fe.isLink(e.mode)?32:Fe.isDir(e.mode)&&("r"!==Fe.flagsToPermissionString(t)||512&t)?31:Fe.nodePermissions(e,Fe.flagsToPermissionString(t)):44},MAX_OPEN_FDS:4096,nextfd:function(e,t){e=e||0,t=t||Fe.MAX_OPEN_FDS;for(var r=e;r<=t;r++)if(!Fe.streams[r])return r;throw new Fe.ErrnoError(33)},getStream:function(e){return Fe.streams[e]},createStream:function(e,t,r){Fe.FSStream||(Fe.FSStream=function(){},Fe.FSStream.prototype={object:{get:function(){return this.node},set:function(e){this.node=e}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}}});var n,o=new Fe.FSStream;for(n in e)o[n]=e[n];return e=o,r=Fe.nextfd(t,r),e.fd=r,Fe.streams[r]=e},closeStream:function(e){Fe.streams[e]=null},chrdev_stream_ops:{open:function(e){var t=Fe.getDevice(e.node.rdev);e.stream_ops=t.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:function(){throw new Fe.ErrnoError(70)}},major:function(e){return e>>8},minor:function(e){return 255&e},makedev:function(e,t){return e<<8|t},registerDevice:function(e,t){Fe.devices[e]={stream_ops:t}},getDevice:function(e){return Fe.devices[e]},getMounts:function(e){for(var t=[],r=[e];r.length;){var n=r.pop();t.push(n),r.push.apply(r,n.mounts)}return t},syncfs:function(e,t){"function"==typeof e&&(t=e,e=!1),Fe.syncFSRequests++,1<Fe.syncFSRequests&&S("warning: "+Fe.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var r=Fe.getMounts(Fe.root.mount),n=0;function o(e){return Fe.syncFSRequests--,t(e)}function a(e){if(e)return a.errored?void 0:(a.errored=!0,o(e));++n>=r.length&&o(null)}r.forEach((function(t){return t.type.syncfs?void t.type.syncfs(t,e,a):a(null)}))},mount:function(e,t,r){var n="/"===r,o=!r;if(n&&Fe.root)throw new Fe.ErrnoError(10);if(!n&&!o){var a=Fe.lookupPath(r,{follow_mount:!1});if(r=a.path,a=a.node,Fe.isMountpoint(a))throw new Fe.ErrnoError(10);if(!Fe.isDir(a.mode))throw new Fe.ErrnoError(54)}return r={type:e,opts:t,mountpoint:r,mounts:[]},((e=e.mount(r)).mount=r).root=e,n?Fe.root=e:a&&(a.mounted=r,a.mount&&a.mount.mounts.push(r)),e},unmount:function(e){var t=Fe.lookupPath(e,{follow_mount:!1});if(!Fe.isMountpoint(t.node))throw new Fe.ErrnoError(28);t=(e=t.node).mounted;var r=Fe.getMounts(t);Object.keys(Fe.nameTable).forEach((function(e){for(var t=Fe.nameTable[e];t;){var n=t.name_next;-1!==r.indexOf(t.mount)&&Fe.destroyNode(t),t=n}})),e.mounted=null,t=e.mount.mounts.indexOf(t),e.mount.mounts.splice(t,1)},lookup:function(e,t){return e.node_ops.lookup(e,t)},mknod:function(e,t,r){var n=Fe.lookupPath(e,{parent:!0}).node,o=De.basename(e);if(!o||"."===o||".."===o)throw new Fe.ErrnoError(28);if(e=Fe.mayCreate(n,o))throw new Fe.ErrnoError(e);if(!n.node_ops.mknod)throw new Fe.ErrnoError(63);return n.node_ops.mknod(n,o,t,r)},create:function(e,t){return t=void 0!==t?t:438,t&=4095,t|=32768,Fe.mknod(e,t,0)},mkdir:function(e,t){return t=void 0!==t?t:511,t&=1023,t|=16384,Fe.mknod(e,t,0)},mkdirTree:function(e,t){for(var r=e.split("/"),n="",o=0;o<r.length;++o)if(r[o]){n+="/"+r[o];try{Fe.mkdir(n,t)}catch(e){if(20!=e.errno)throw e}}},mkdev:function(e,t,r){return void 0===r&&(r=t,t=438),t|=8192,Fe.mknod(e,t,r)},symlink:function(e,t){if(!xe.resolve(e))throw new Fe.ErrnoError(44);var r=Fe.lookupPath(t,{parent:!0}).node;if(!r)throw new Fe.ErrnoError(44);var n=De.basename(t);if(t=Fe.mayCreate(r,n))throw new Fe.ErrnoError(t);if(!r.node_ops.symlink)throw new Fe.ErrnoError(63);return r.node_ops.symlink(r,n,e)},rename:function(e,t){var r=De.dirname(e),n=De.dirname(t),o=De.basename(e),a=De.basename(t),i=Fe.lookupPath(e,{parent:!0}).node,s=Fe.lookupPath(t,{parent:!0}).node;if(!i||!s)throw new Fe.ErrnoError(44);if(i.mount!==s.mount)throw new Fe.ErrnoError(75);var c,u=Fe.lookupNode(i,o);if("."!==(n=xe.relative(e,n)).charAt(0))throw new Fe.ErrnoError(28);if("."!==(n=xe.relative(t,r)).charAt(0))throw new Fe.ErrnoError(55);try{c=Fe.lookupNode(s,a)}catch(r){}if(u!==c){if(n=Fe.isDir(u.mode),o=Fe.mayDelete(i,o,n))throw new Fe.ErrnoError(o);if(o=c?Fe.mayDelete(s,a,n):Fe.mayCreate(s,a))throw new Fe.ErrnoError(o);if(!i.node_ops.rename)throw new Fe.ErrnoError(63);if(Fe.isMountpoint(u)||c&&Fe.isMountpoint(c))throw new Fe.ErrnoError(10);if(s!==i&&(o=Fe.nodePermissions(i,"w")))throw new Fe.ErrnoError(o);try{Fe.trackingDelegate.willMovePath&&Fe.trackingDelegate.willMovePath(e,t)}catch(r){S("FS.trackingDelegate['willMovePath']('"+e+"', '"+t+"') threw an exception: "+r.message)}Fe.hashRemoveNode(u);try{i.node_ops.rename(u,s,a)}catch(r){throw r}finally{Fe.hashAddNode(u)}try{Fe.trackingDelegate.onMovePath&&Fe.trackingDelegate.onMovePath(e,t)}catch(r){S("FS.trackingDelegate['onMovePath']('"+e+"', '"+t+"') threw an exception: "+r.message)}}},rmdir:function(e){var t=Fe.lookupPath(e,{parent:!0}).node,r=De.basename(e),n=Fe.lookupNode(t,r),o=Fe.mayDelete(t,r,!0);if(o)throw new Fe.ErrnoError(o);if(!t.node_ops.rmdir)throw new Fe.ErrnoError(63);if(Fe.isMountpoint(n))throw new Fe.ErrnoError(10);try{Fe.trackingDelegate.willDeletePath&&Fe.trackingDelegate.willDeletePath(e)}catch(t){S("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+t.message)}t.node_ops.rmdir(t,r),Fe.destroyNode(n);try{Fe.trackingDelegate.onDeletePath&&Fe.trackingDelegate.onDeletePath(e)}catch(t){S("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+t.message)}},readdir:function(e){if(!(e=Fe.lookupPath(e,{follow:!0}).node).node_ops.readdir)throw new Fe.ErrnoError(54);return e.node_ops.readdir(e)},unlink:function(e){var t=Fe.lookupPath(e,{parent:!0}).node,r=De.basename(e),n=Fe.lookupNode(t,r),o=Fe.mayDelete(t,r,!1);if(o)throw new Fe.ErrnoError(o);if(!t.node_ops.unlink)throw new Fe.ErrnoError(63);if(Fe.isMountpoint(n))throw new Fe.ErrnoError(10);try{Fe.trackingDelegate.willDeletePath&&Fe.trackingDelegate.willDeletePath(e)}catch(t){S("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+t.message)}t.node_ops.unlink(t,r),Fe.destroyNode(n);try{Fe.trackingDelegate.onDeletePath&&Fe.trackingDelegate.onDeletePath(e)}catch(t){S("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+t.message)}},readlink:function(e){if(!(e=Fe.lookupPath(e).node))throw new Fe.ErrnoError(44);if(!e.node_ops.readlink)throw new Fe.ErrnoError(28);return xe.resolve(Fe.getPath(e.parent),e.node_ops.readlink(e))},stat:function(e,t){if(!(t=Fe.lookupPath(e,{follow:!t}).node))throw new Fe.ErrnoError(44);if(!t.node_ops.getattr)throw new Fe.ErrnoError(63);return t.node_ops.getattr(t)},lstat:function(e){return Fe.stat(e,!0)},chmod:function(e,t,r){if(!(e="string"==typeof e?Fe.lookupPath(e,{follow:!r}).node:e).node_ops.setattr)throw new Fe.ErrnoError(63);e.node_ops.setattr(e,{mode:4095&t|-4096&e.mode,timestamp:Date.now()})},lchmod:function(e,t){Fe.chmod(e,t,!0)},fchmod:function(e,t){if(!(e=Fe.getStream(e)))throw new Fe.ErrnoError(8);Fe.chmod(e.node,t)},chown:function(e,t,r,n){if(!(e="string"==typeof e?Fe.lookupPath(e,{follow:!n}).node:e).node_ops.setattr)throw new Fe.ErrnoError(63);e.node_ops.setattr(e,{timestamp:Date.now()})},lchown:function(e,t,r){Fe.chown(e,t,r,!0)},fchown:function(e,t,r){if(!(e=Fe.getStream(e)))throw new Fe.ErrnoError(8);Fe.chown(e.node,t,r)},truncate:function(e,t){if(t<0)throw new Fe.ErrnoError(28);var r;if(!(r="string"==typeof e?Fe.lookupPath(e,{follow:!0}).node:e).node_ops.setattr)throw new Fe.ErrnoError(63);if(Fe.isDir(r.mode))throw new Fe.ErrnoError(31);if(!Fe.isFile(r.mode))throw new Fe.ErrnoError(28);if(e=Fe.nodePermissions(r,"w"))throw new Fe.ErrnoError(e);r.node_ops.setattr(r,{size:t,timestamp:Date.now()})},ftruncate:function(e,t){if(!(e=Fe.getStream(e)))throw new Fe.ErrnoError(8);if(0==(2097155&e.flags))throw new Fe.ErrnoError(28);Fe.truncate(e.node,t)},utime:function(e,t,r){(e=Fe.lookupPath(e,{follow:!0}).node).node_ops.setattr(e,{timestamp:Math.max(t,r)})},open:function(e,t,r,n,o){if(""===e)throw new Fe.ErrnoError(44);if(r=void 0===r?438:r,r=64&(t="string"==typeof t?Fe.modeStringToFlags(t):t)?4095&r|32768:0,"object"==typeof e)i=e;else{e=De.normalize(e);try{var i=Fe.lookupPath(e,{follow:!(131072&t)}).node}catch(t){}}var s,c=!1;if(64&t)if(i){if(128&t)throw new Fe.ErrnoError(20)}else i=Fe.mknod(e,r,0),c=!0;if(!i)throw new Fe.ErrnoError(44);if(Fe.isChrdev(i.mode)&&(t&=-513),65536&t&&!Fe.isDir(i.mode))throw new Fe.ErrnoError(54);if(!c&&(c=Fe.mayOpen(i,t)))throw new Fe.ErrnoError(c);512&t&&Fe.truncate(i,0),t&=-131713,(o=Fe.createStream({node:i,path:Fe.getPath(i),flags:t,seekable:!0,position:0,stream_ops:i.stream_ops,ungotten:[],error:!1},n,o)).stream_ops.open&&o.stream_ops.open(o),!a.logReadFiles||1&t||(Fe.readFiles||(Fe.readFiles={}),e in Fe.readFiles||(Fe.readFiles[e]=1,S("FS.trackingDelegate error on read file: "+e)));try{Fe.trackingDelegate.onOpenFile&&(s=0,1!=(2097155&t)&&(s|=Fe.tracking.openFlags.READ),0!=(2097155&t)&&(s|=Fe.tracking.openFlags.WRITE),Fe.trackingDelegate.onOpenFile(e,s))}catch(t){S("FS.trackingDelegate['onOpenFile']('"+e+"', flags) threw an exception: "+t.message)}return o},close:function(e){if(Fe.isClosed(e))throw new Fe.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(e){throw e}finally{Fe.closeStream(e.fd)}e.fd=null},isClosed:function(e){return null===e.fd},llseek:function(e,t,r){if(Fe.isClosed(e))throw new Fe.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new Fe.ErrnoError(70);if(0!=r&&1!=r&&2!=r)throw new Fe.ErrnoError(28);return e.position=e.stream_ops.llseek(e,t,r),e.ungotten=[],e.position},read:function(e,t,r,n,o){if(n<0||o<0)throw new Fe.ErrnoError(28);if(Fe.isClosed(e))throw new Fe.ErrnoError(8);if(1==(2097155&e.flags))throw new Fe.ErrnoError(8);if(Fe.isDir(e.node.mode))throw new Fe.ErrnoError(31);if(!e.stream_ops.read)throw new Fe.ErrnoError(28);var a=void 0!==o;if(a){if(!e.seekable)throw new Fe.ErrnoError(70)}else o=e.position;return o=e.stream_ops.read(e,t,r,n,o),a||(e.position+=o),o},write:function(e,t,r,n,o,a){if(n<0||o<0)throw new Fe.ErrnoError(28);if(Fe.isClosed(e))throw new Fe.ErrnoError(8);if(0==(2097155&e.flags))throw new Fe.ErrnoError(8);if(Fe.isDir(e.node.mode))throw new Fe.ErrnoError(31);if(!e.stream_ops.write)throw new Fe.ErrnoError(28);e.seekable&&1024&e.flags&&Fe.llseek(e,0,2);var i=void 0!==o;if(i){if(!e.seekable)throw new Fe.ErrnoError(70)}else o=e.position;a=e.stream_ops.write(e,t,r,n,o,a),i||(e.position+=a);try{e.path&&Fe.trackingDelegate.onWriteToFile&&Fe.trackingDelegate.onWriteToFile(e.path)}catch(t){S("FS.trackingDelegate['onWriteToFile']('"+e.path+"') threw an exception: "+t.message)}return a},allocate:function(e,t,r){if(Fe.isClosed(e))throw new Fe.ErrnoError(8);if(t<0||r<=0)throw new Fe.ErrnoError(28);if(0==(2097155&e.flags))throw new Fe.ErrnoError(8);if(!Fe.isFile(e.node.mode)&&!Fe.isDir(e.node.mode))throw new Fe.ErrnoError(43);if(!e.stream_ops.allocate)throw new Fe.ErrnoError(138);e.stream_ops.allocate(e,t,r)},mmap:function(e,t,r,n,o,a){if(0!=(2&o)&&0==(2&a)&&2!=(2097155&e.flags))throw new Fe.ErrnoError(2);if(1==(2097155&e.flags))throw new Fe.ErrnoError(2);if(!e.stream_ops.mmap)throw new Fe.ErrnoError(43);return e.stream_ops.mmap(e,t,r,n,o,a)},msync:function(e,t,r,n,o){return e&&e.stream_ops.msync?e.stream_ops.msync(e,t,r,n,o):0},munmap:function(e){return 0},ioctl:function(e,t,r){if(!e.stream_ops.ioctl)throw new Fe.ErrnoError(59);return e.stream_ops.ioctl(e,t,r)},readFile:function(e,t){if((t=t||{}).flags=t.flags||0,t.encoding=t.encoding||"binary","utf8"!==t.encoding&&"binary"!==t.encoding)throw new Error('Invalid encoding type "'+t.encoding+'"');var r,n=Fe.open(e,t.flags),o=Fe.stat(e).size;return e=new Uint8Array(o),Fe.read(n,e,0,o,0),"utf8"===t.encoding?r=B(e,0):"binary"===t.encoding&&(r=e),Fe.close(n),r},writeFile:function(e,t,r){(r=r||{}).flags=r.flags||577;var n=Fe.open(e,r.flags,r.mode);if("string"==typeof t){var o=new Uint8Array(U(t)+1);e=L(t,o,0,o.length),Fe.write(n,o,0,e,void 0,r.canOwn)}else{if(!ArrayBuffer.isView(t))throw new Error("Unsupported data type");Fe.write(n,t,0,t.byteLength,void 0,r.canOwn)}Fe.close(n)},cwd:function(){return Fe.currentPath},chdir:function(e){var t=Fe.lookupPath(e,{follow:!0});if(null===t.node)throw new Fe.ErrnoError(44);if(!Fe.isDir(t.node.mode))throw new Fe.ErrnoError(54);if(e=Fe.nodePermissions(t.node,"x"))throw new Fe.ErrnoError(e);Fe.currentPath=t.path},createDefaultDirectories:function(){Fe.mkdir("/tmp"),Fe.mkdir("/home"),Fe.mkdir("/home/web_user")},createDefaultDevices:function(){Fe.mkdir("/dev"),Fe.registerDevice(Fe.makedev(1,3),{read:function(){return 0},write:function(e,t,r,n,o){return n}}),Fe.mkdev("/dev/null",Fe.makedev(1,3)),Ae.register(Fe.makedev(5,0),Ae.default_tty_ops),Ae.register(Fe.makedev(6,0),Ae.default_tty1_ops),Fe.mkdev("/dev/tty",Fe.makedev(5,0)),Fe.mkdev("/dev/tty1",Fe.makedev(6,0));var e=function(){if("object"!=typeof crypto||"function"!=typeof crypto.getRandomValues)return function(){te("randomDevice")};var e=new Uint8Array(1);return function(){return crypto.getRandomValues(e),e[0]}}();Fe.createDevice("/dev","random",e),Fe.createDevice("/dev","urandom",e),Fe.mkdir("/dev/shm"),Fe.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){Fe.mkdir("/proc"),Fe.mkdir("/proc/self"),Fe.mkdir("/proc/self/fd"),Fe.mount({mount:function(){var e=Fe.createNode("/proc/self","fd",16895,73);return e.node_ops={lookup:function(e,t){t=+t;var r=Fe.getStream(t);if(!r)throw new Fe.ErrnoError(8);return(t={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return r.path}}}).parent=t}},e}},{},"/proc/self/fd")},createStandardStreams:function(){a.stdin?Fe.createDevice("/dev","stdin",a.stdin):Fe.symlink("/dev/tty","/dev/stdin"),a.stdout?Fe.createDevice("/dev","stdout",null,a.stdout):Fe.symlink("/dev/tty","/dev/stdout"),a.stderr?Fe.createDevice("/dev","stderr",null,a.stderr):Fe.symlink("/dev/tty1","/dev/stderr"),Fe.open("/dev/stdin",0),Fe.open("/dev/stdout",1),Fe.open("/dev/stderr",1)},ensureErrnoError:function(){Fe.ErrnoError||(Fe.ErrnoError=function(e,t){this.node=t,this.setErrno=function(e){this.errno=e},this.setErrno(e),this.message="FS error"},Fe.ErrnoError.prototype=new Error,Fe.ErrnoError.prototype.constructor=Fe.ErrnoError,[44].forEach((function(e){Fe.genericErrors[e]=new Fe.ErrnoError(e),Fe.genericErrors[e].stack="<generic error, no stack>"})))},staticInit:function(){Fe.ensureErrnoError(),Fe.nameTable=new Array(4096),Fe.mount(Pe,{},"/"),Fe.createDefaultDirectories(),Fe.createDefaultDevices(),Fe.createSpecialDirectories(),Fe.filesystems={MEMFS:Pe}},init:function(e,t,r){Fe.init.initialized=!0,Fe.ensureErrnoError(),a.stdin=e||a.stdin,a.stdout=t||a.stdout,a.stderr=r||a.stderr,Fe.createStandardStreams()},quit:function(){Fe.init.initialized=!1;var e=a._fflush;e&&e(0);for(var t=0;t<Fe.streams.length;t++){var r=Fe.streams[t];r&&Fe.close(r)}},getMode:function(e,t){var r=0;return e&&(r|=365),t&&(r|=146),r},findObject:function(e,t){return(t=Fe.analyzePath(e,t)).exists?t.object:null},analyzePath:function(e,t){try{e=(n=Fe.lookupPath(e,{follow:!t})).path}catch(e){}var r={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var n=Fe.lookupPath(e,{parent:!0});r.parentExists=!0,r.parentPath=n.path,r.parentObject=n.node,r.name=De.basename(e),n=Fe.lookupPath(e,{follow:!t}),r.exists=!0,r.path=n.path,r.object=n.node,r.name=n.node.name,r.isRoot="/"===n.path}catch(e){r.error=e.errno}return r},createPath:function(e,t,r,n){e="string"==typeof e?e:Fe.getPath(e);for(var o=t.split("/").reverse();o.length;){var a=o.pop();if(a){var i=De.join2(e,a);try{Fe.mkdir(i)}catch(e){}e=i}}return i},createFile:function(e,t,r,n,o){return t=De.join2("string"==typeof e?e:Fe.getPath(e),t),o=Fe.getMode(n,o),Fe.create(t,o)},createDataFile:function(e,t,r,n,o,a){if(e=t?De.join2("string"==typeof e?e:Fe.getPath(e),t):e,n=Fe.getMode(n,o),o=Fe.create(e,n),r){if("string"==typeof r){for(var i=new Array(r.length),s=0,c=r.length;s<c;++s)i[s]=r.charCodeAt(s);r=i}Fe.chmod(o,146|n),e=Fe.open(o,577),Fe.write(e,r,0,r.length,0,a),Fe.close(e),Fe.chmod(o,n)}return o},createDevice:function(e,t,r,n){var o=De.join2("string"==typeof e?e:Fe.getPath(e),t);return e=Fe.getMode(!!r,!!n),Fe.createDevice.major||(Fe.createDevice.major=64),t=Fe.makedev(Fe.createDevice.major++,0),Fe.registerDevice(t,{open:function(e){e.seekable=!1},close:function(e){n&&n.buffer&&n.buffer.length&&n(10)},read:function(e,t,n,o,a){for(var i,s=0,c=0;c<o;c++){try{i=r()}catch(e){throw new Fe.ErrnoError(29)}if(void 0===i&&0===s)throw new Fe.ErrnoError(6);if(null==i)break;s++,t[n+c]=i}return s&&(e.node.timestamp=Date.now()),s},write:function(e,t,r,o,a){for(var i=0;i<o;i++)try{n(t[r+i])}catch(e){throw new Fe.ErrnoError(29)}return o&&(e.node.timestamp=Date.now()),i}}),Fe.mkdev(o,e,t)},forceLoadFile:function(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!m)throw new Error("Cannot load without read() or XMLHttpRequest.");try{e.contents=st(m(e.url),!0),e.usedBytes=e.contents.length}catch(e){throw new Fe.ErrnoError(29)}},createLazyFile:function(e,t,r,n,o){function a(){this.lengthKnown=!1,this.chunks=[]}if(a.prototype.get=function(e){if(!(e>this.length-1||e<0)){var t=e%this.chunkSize;return e=e/this.chunkSize|0,this.getter(e)[t]}},a.prototype.setDataGetter=function(e){this.getter=e},a.prototype.cacheLength=function(){var e=new XMLHttpRequest;if(e.open("HEAD",r,!1),e.send(null),!(200<=e.status&&e.status<300||304===e.status))throw new Error("Couldn't load "+r+". Status: "+e.status);var t=Number(e.getResponseHeader("Content-length")),n=(o=e.getResponseHeader("Accept-Ranges"))&&"bytes"===o,o=(o=e.getResponseHeader("Content-Encoding"))&&"gzip"===o,a=1048576;n||(a=t);var i=this;i.setDataGetter((function(e){var n=e*a,o=(e+1)*a-1;if(o=Math.min(o,t-1),void 0===i.chunks[e]&&(i.chunks[e]=function(e,n){if(n<e)throw new Error("invalid range ("+e+", "+n+") or no bytes requested!");if(t-1<n)throw new Error("only "+t+" bytes available! programmer error!");var o=new XMLHttpRequest;if(o.open("GET",r,!1),t!==a&&o.setRequestHeader("Range","bytes="+e+"-"+n),"undefined"!=typeof Uint8Array&&(o.responseType="arraybuffer"),o.overrideMimeType&&o.overrideMimeType("text/plain; charset=x-user-defined"),o.send(null),!(200<=o.status&&o.status<300||304===o.status))throw new Error("Couldn't load "+r+". Status: "+o.status);return void 0!==o.response?new Uint8Array(o.response||[]):st(o.responseText||"",!0)}(n,o)),void 0===i.chunks[e])throw new Error("doXHR failed!");return i.chunks[e]})),!o&&t||(a=t=1,t=this.getter(0).length,a=t,k("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=t,this._chunkSize=a,this.lengthKnown=!0},"undefined"!=typeof XMLHttpRequest){if(!d)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var i=new a;Object.defineProperties(i,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}}),i={isDevice:!1,contents:i}}else i={isDevice:!1,url:r};var s=Fe.createFile(e,t,i,n,o);i.contents?s.contents=i.contents:i.url&&(s.contents=null,s.url=i.url),Object.defineProperties(s,{usedBytes:{get:function(){return this.contents.length}}});var c={};return Object.keys(s.stream_ops).forEach((function(e){var t=s.stream_ops[e];c[e]=function(){return Fe.forceLoadFile(s),t.apply(null,arguments)}})),c.read=function(e,t,r,n,o){Fe.forceLoadFile(s);var a=e.node.contents;if(o>=a.length)return 0;var i=Math.min(a.length-o,n);if(a.slice)for(var c=0;c<i;c++)t[r+c]=a[o+c];else for(c=0;c<i;c++)t[r+c]=a.get(o+c);return i},s.stream_ops=c,s},createPreloadedFile:function(e,t,r,n,o,i,s,c,u,l){Browser.init();var f=t?xe.resolve(De.join2(e,t)):e;function d(r){function d(r){l&&l(),c||Fe.createDataFile(e,t,r,n,o,u),i&&i(),ee()}var p=!1;a.preloadPlugins.forEach((function(e){p||e.canHandle(f)&&(e.handle(r,f,d,(function(){s&&s(),ee()})),p=!0)})),p||d(r)}Q(),"string"==typeof r?Browser.asyncLoad(r,(function(e){d(e)}),s):d(r)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(e,t,r){t=t||function(){},r=r||function(){};var n=Fe.indexedDB();try{var o=n.open(Fe.DB_NAME(),Fe.DB_VERSION)}catch(n){return r(n)}o.onupgradeneeded=function(){k("creating db"),o.result.createObjectStore(Fe.DB_STORE_NAME)},o.onsuccess=function(){var n=o.result.transaction([Fe.DB_STORE_NAME],"readwrite"),a=n.objectStore(Fe.DB_STORE_NAME),i=0,s=0,c=e.length;function u(){(0==s?t:r)()}e.forEach((function(e){(e=a.put(Fe.analyzePath(e).object.contents,e)).onsuccess=function(){++i+s==c&&u()},e.onerror=function(){i+ ++s==c&&u()}})),n.onerror=r},o.onerror=r},loadFilesFromDB:function(e,t,r){t=t||function(){},r=r||function(){};var n=Fe.indexedDB();try{var o=n.open(Fe.DB_NAME(),Fe.DB_VERSION)}catch(n){return r(n)}o.onupgradeneeded=r,o.onsuccess=function(){var n=o.result;try{var a=n.transaction([Fe.DB_STORE_NAME],"readonly")}catch(n){return void r(n)}var i=a.objectStore(Fe.DB_STORE_NAME),s=0,c=0,u=e.length;function l(){(0==c?t:r)()}e.forEach((function(e){var t=i.get(e);t.onsuccess=function(){Fe.analyzePath(e).exists&&Fe.unlink(e),Fe.createDataFile(De.dirname(e),De.basename(e),t.result,!0,!0,!0),++s+c==u&&l()},t.onerror=function(){s+ ++c==u&&l()}})),a.onerror=r},o.onerror=r}},Te={mappings:{},DEFAULT_POLLMASK:5,umask:511,calculateAt:function(e,t){if("/"!==t[0]){var r;if(-100===e)r=Fe.cwd();else{if(!(e=Fe.getStream(e)))throw new Fe.ErrnoError(8);r=e.path}t=De.join2(r,t)}return t},doStat:function(e,t,r){try{var n=e(t)}catch(e){if(e&&e.node&&De.normalize(t)!==De.normalize(Fe.getPath(e.node)))return-54;throw e}return F[r>>2]=n.dev,F[r+4>>2]=0,F[r+8>>2]=n.ino,F[r+12>>2]=n.mode,F[r+16>>2]=n.nlink,F[r+20>>2]=n.uid,F[r+24>>2]=n.gid,F[r+28>>2]=n.rdev,F[r+32>>2]=0,oe=[n.size>>>0,(ne=n.size,1<=+Math.abs(ne)?0<ne?(0|Math.min(+Math.floor(ne/4294967296),4294967295))>>>0:~~+Math.ceil((ne-(~~ne>>>0))/4294967296)>>>0:0)],F[r+40>>2]=oe[0],F[r+44>>2]=oe[1],F[r+48>>2]=4096,F[r+52>>2]=n.blocks,F[r+56>>2]=n.atime.getTime()/1e3|0,F[r+60>>2]=0,F[r+64>>2]=n.mtime.getTime()/1e3|0,F[r+68>>2]=0,F[r+72>>2]=n.ctime.getTime()/1e3|0,F[r+76>>2]=0,oe=[n.ino>>>0,(ne=n.ino,1<=+Math.abs(ne)?0<ne?(0|Math.min(+Math.floor(ne/4294967296),4294967295))>>>0:~~+Math.ceil((ne-(~~ne>>>0))/4294967296)>>>0:0)],F[r+80>>2]=oe[0],F[r+84>>2]=oe[1],0},doMsync:function(e,t,r,n,o){e=A.slice(e,e+r),Fe.msync(t,e,o,r,n)},doMkdir:function(e,t){return"/"===(e=De.normalize(e))[e.length-1]&&(e=e.substr(0,e.length-1)),Fe.mkdir(e,t,0),0},doMknod:function(e,t,r){switch(61440&t){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-28}return Fe.mknod(e,t,r),0},doReadlink:function(e,t,r){if(r<=0)return-28;var n=Fe.readlink(e),o=Math.min(r,U(n));return e=x[t+o],C(n,t,r+1),x[t+o]=e,o},doAccess:function(e,t){if(-8&t)return-28;var r=Fe.lookupPath(e,{follow:!0}).node;return r?(e="",4&t&&(e+="r"),2&t&&(e+="w"),1&t&&(e+="x"),e&&Fe.nodePermissions(r,e)?-2:0):-44},doDup:function(e,t,r){var n=Fe.getStream(r);return n&&Fe.close(n),Fe.open(e,t,0,r,r).fd},doReadv:function(e,t,r,n){for(var o=0,a=0;a<r;a++){var i=F[t+8*a>>2],s=F[t+(8*a+4)>>2];if((i=Fe.read(e,x,i,s,n))<0)return-1;if(o+=i,i<s)break}return o},doWritev:function(e,t,r,n){for(var o=0,a=0;a<r;a++){var i=F[t+8*a>>2],s=F[t+(8*a+4)>>2];if((s=Fe.write(e,x,i,s,n))<0)return-1;o+=s}return o},varargs:void 0,get:function(){return Te.varargs+=4,F[Te.varargs-4>>2]},getStr:function(e){return N(e)},getStreamFromFD:function(e){if(!(e=Fe.getStream(e)))throw new Fe.ErrnoError(8);return e},get64:function(e,t){return e}};function Re(e,t){if(h)return Le(3,1,e,t);try{var r=Te.getStreamFromFD(e);return Te.doStat(Fe.stat,r.path,t)}catch(e){return void 0!==Fe&&e instanceof Fe.ErrnoError||te(e),-e.errno}}function Oe(e,t,r,n,o,a){if(h)return Le(5,1,e,t,r,n,o,a);try{return function(e,t,r,n,o,a){a<<=12;var i=!1;if(0!=(16&n)&&e%16384!=0)return-28;if(0!=(32&n)){if(!(c=Tt(16384,t)))return-48;gt(c,0,t),i=!0}else{var s=Fe.getStream(o);if(!s)return-8;var c=(e=Fe.mmap(s,e,t,a,r,n)).ptr;i=e.allocated}return Te.mappings[c]={malloc:c,len:t,allocated:i,fd:o,prot:r,flags:n,offset:a},c}(e,t,r,n,o,a)}catch(e){return void 0!==Fe&&e instanceof Fe.ErrnoError||te(e),-e.errno}}function je(e,t){if(h)return Le(6,1,e,t);try{return function(e,t){if(-1==(0|e)||0===t)return-28;var r,n=Te.mappings[e];return n&&t===n.len&&(r=Fe.getStream(n.fd),2&n.prot&&Te.doMsync(e,r,t,n.flags,n.offset),Fe.munmap(r),Te.mappings[e]=null,n.allocated&&dt(n.malloc)),0}(e,t)}catch(e){return void 0!==Fe&&e instanceof Fe.ErrnoError||te(e),-e.errno}}function Me(e,t,r){if(h)return Le(7,1,e,t,r);Te.varargs=r;try{var n=Te.getStr(e),o=Te.get();return Fe.open(n,t,o).fd}catch(e){return void 0!==Fe&&e instanceof Fe.ErrnoError||te(e),-e.errno}}function Ie(e,t){if(h)return Le(8,1,e,t);try{return e=Te.getStr(e),Te.doStat(Fe.stat,e,t)}catch(e){return void 0!==Fe&&e instanceof Fe.ErrnoError||te(e),-e.errno}}function Be(){d||function e(t){e.shown||(e.shown={}),e.shown[t]||(e.shown[t]=1,S(t))}("Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread")}function Ne(e,t,r){if(e<=0||e>x.length||!0&e)return-28;if(f){if(Atomics.load(F,e>>2)!=t)return-6;var n=performance.now()+r;for(Atomics.exchange(F,Rt>>2,e);;){if(n<performance.now())return Atomics.exchange(F,Rt>>2,0),-73;if(0==Atomics.exchange(F,Rt>>2,0))break;if(wt(),Atomics.load(F,e>>2)!=t)return-6;Atomics.exchange(F,Rt>>2,e)}return 0}if("timed-out"===(r=Atomics.wait(F,e>>2,t,r)))return-73;if("not-equal"===r)return-6;if("ok"===r)return 0;throw"Atomics.wait returned an unexpected value "+r}function Le(e,t){for(var r=arguments.length-2,n=xt(),o=r,a=Pt(8*o),i=a>>3,s=0;s<r;s++){var c=arguments[2+s];R[i+s]=c}return a=kt(e,o,a,t),At(n),a}var Ce=[],Ue=[],ze={inEventHandler:0,removeAllEventListeners:function(){for(var e=ze.eventHandlers.length-1;0<=e;--e)ze._removeHandler(e);ze.eventHandlers=[],ze.deferredCalls=[]},registerRemoveEventListeners:function(){ze.removeEventListenersRegistered||($.push(ze.removeAllEventListeners),ze.removeEventListenersRegistered=!0)},deferredCalls:[],deferCall:function(e,t,r){for(var n in ze.deferredCalls){var o=ze.deferredCalls[n];if(o.targetFunction==e&&function(e,t){if(e.length==t.length){for(var r in e)if(e[r]!=t[r])return;return 1}}(o.argsList,r))return}ze.deferredCalls.push({targetFunction:e,precedence:t,argsList:r}),ze.deferredCalls.sort((function(e,t){return e.precedence<t.precedence}))},removeDeferredCalls:function(e){for(var t=0;t<ze.deferredCalls.length;++t)ze.deferredCalls[t].targetFunction==e&&(ze.deferredCalls.splice(t,1),--t)},canPerformEventHandlerRequests:function(){return ze.inEventHandler&&ze.currentEventHandler.allowsDeferredCalls},runDeferredCalls:function(){if(ze.canPerformEventHandlerRequests())for(var e=0;e<ze.deferredCalls.length;++e){var t=ze.deferredCalls[e];ze.deferredCalls.splice(e,1),--e,t.targetFunction.apply(null,t.argsList)}},eventHandlers:[],removeAllHandlersOnTarget:function(e,t){for(var r=0;r<ze.eventHandlers.length;++r)ze.eventHandlers[r].target!=e||t&&t!=ze.eventHandlers[r].eventTypeString||ze._removeHandler(r--)},_removeHandler:function(e){var t=ze.eventHandlers[e];t.target.removeEventListener(t.eventTypeString,t.eventListenerFunc,t.useCapture),ze.eventHandlers.splice(e,1)},registerOrRemoveHandler:function(e){function t(t){++ze.inEventHandler,ze.currentEventHandler=e,ze.runDeferredCalls(),e.handlerFunc(t),ze.runDeferredCalls(),--ze.inEventHandler}if(e.callbackfunc)e.eventListenerFunc=t,e.target.addEventListener(e.eventTypeString,t,e.useCapture),ze.eventHandlers.push(e),ze.registerRemoveEventListeners();else for(var r=0;r<ze.eventHandlers.length;++r)ze.eventHandlers[r].target==e.target&&ze.eventHandlers[r].eventTypeString==e.eventTypeString&&ze._removeHandler(r--)},queueEventHandlerOnThread_iiii:function(e,t,r,n,o){var a=xt(),i=Pt(12);F[i>>2]=r,F[i+4>>2]=n,F[i+8>>2]=o,St(0,e,637534208,t,n,i),At(a)},getTargetThreadForEventCallback:function(e){switch(e){case 1:return 0;case 2:return ge.currentProxiedOperationCallerThread;default:return e}},getNodeNameForTarget:function(e){return e?e==window?"#window":e==screen?"#screen":e&&e.nodeName?e.nodeName:"":""},fullscreenEnabled:function(){return document.fullscreenEnabled||document.webkitFullscreenEnabled}},We=[0,"undefined"!=typeof document?document:0,"undefined"!=typeof window?window:0];function He(e){return function(e){var t;return e=2<(t=e)?N(t):t,We[e]||("undefined"!=typeof document?document.querySelector(e):void 0)}(e)}function qe(e,t,r){var n=He(e);if(!n)return-4;if(n.canvasSharedPtr&&(F[n.canvasSharedPtr>>2]=t,F[n.canvasSharedPtr+4>>2]=r),!n.offscreenCanvas&&n.controlTransferredOffscreen)return n.canvasSharedPtr?(a=t,o=r,function(e,t,r,n){var o,a,i=xt(),s=Pt(12),c=0;t&&(a=U(o=t)+1,C(o,t=ft(a),a),c=t),F[s>>2]=c,F[s+4>>2]=r,F[s+8>>2]=n,St(0,e,657457152,0,c,s),At(i)}(F[n.canvasSharedPtr+8>>2],e=(e=e)?N(e):"",a,o),1):-4;var o,a=!1;return(n=n.offscreenCanvas?n.offscreenCanvas:n).GLctxObject&&n.GLctxObject.GLctx&&(a=0===(o=n.GLctxObject.GLctx.getParameter(2978))[0]&&0===o[1]&&o[2]===n.width&&o[3]===n.height),n.width=t,n.height=r,a&&n.GLctxObject.GLctx.viewport(0,0,t,r),0}function Ge(e,t,r){return h?Le(9,1,e,t,r):qe(e,t,r)}var Ve,Xe={counter:1,buffers:[],programs:[],framebuffers:[],renderbuffers:[],textures:[],uniforms:[],shaders:[],vaos:[],contexts:{},offscreenCanvases:{},timerQueriesEXT:[],programInfos:{},stringCache:{},unpackAlignment:4,recordError:function(e){Xe.lastError||(Xe.lastError=e)},getNewId:function(e){for(var t=Xe.counter++,r=e.length;r<t;r++)e[r]=null;return t},getSource:function(e,t,r,n){for(var o="",a=0;a<t;++a){var i=n?F[n+4*a>>2]:-1;o+=N(F[r+4*a>>2],i<0?void 0:i)}return o},createContext:function(e,t){return(e=e.getContext("webgl",t))?Xe.registerContext(e,t):0},registerContext:function(e,t){var r=ft(8);F[r+4>>2]=ht();var n={handle:r,attributes:t,version:t.majorVersion,GLctx:e};return e.canvas&&(e.canvas.GLctxObject=n),Xe.contexts[r]=n,void 0!==t.enableExtensionsByDefault&&!t.enableExtensionsByDefault||Xe.initExtensions(n),r},makeContextCurrent:function(e){return Xe.currentContext=Xe.contexts[e],a.ctx=Ve=Xe.currentContext&&Xe.currentContext.GLctx,!(e&&!Ve)},getContext:function(e){return Xe.contexts[e]},deleteContext:function(e){Xe.currentContext===Xe.contexts[e]&&(Xe.currentContext=null),"object"==typeof ze&&ze.removeAllHandlersOnTarget(Xe.contexts[e].GLctx.canvas),Xe.contexts[e]&&Xe.contexts[e].GLctx.canvas&&(Xe.contexts[e].GLctx.canvas.GLctxObject=void 0),dt(Xe.contexts[e].handle),Xe.contexts[e]=null},initExtensions:function(e){var t,r,n,o;(e=e||Xe.currentContext).initExtensionsDone||(e.initExtensionsDone=!0,t=e.GLctx,(r=(e=t).getExtension("ANGLE_instanced_arrays"))&&(e.vertexAttribDivisor=function(e,t){r.vertexAttribDivisorANGLE(e,t)},e.drawArraysInstanced=function(e,t,n,o){r.drawArraysInstancedANGLE(e,t,n,o)},e.drawElementsInstanced=function(e,t,n,o,a){r.drawElementsInstancedANGLE(e,t,n,o,a)}),(n=(e=t).getExtension("OES_vertex_array_object"))&&(e.createVertexArray=function(){return n.createVertexArrayOES()},e.deleteVertexArray=function(e){n.deleteVertexArrayOES(e)},e.bindVertexArray=function(e){n.bindVertexArrayOES(e)},e.isVertexArray=function(e){return n.isVertexArrayOES(e)}),(o=(e=t).getExtension("WEBGL_draw_buffers"))&&(e.drawBuffers=function(e,t){o.drawBuffersWEBGL(e,t)}),t.disjointTimerQueryExt=t.getExtension("EXT_disjoint_timer_query"),(e=t).multiDrawWebgl=e.getExtension("WEBGL_multi_draw"),(t.getSupportedExtensions()||[]).forEach((function(e){e.indexOf("lose_context")<0&&e.indexOf("debug")<0&&t.getExtension(e)})))},populateUniformTable:function(e){for(var t=Xe.programs[e],r=Xe.programInfos[e]={uniforms:{},maxUniformLength:0,maxAttributeLength:-1,maxUniformBlockNameLength:-1},n=r.uniforms,o=Ve.getProgramParameter(t,35718),a=0;a<o;++a){var i=Ve.getActiveUniform(t,a),s=i.name;if(r.maxUniformLength=Math.max(r.maxUniformLength,s.length+1),"]"==s.slice(-1)&&(s=s.slice(0,s.lastIndexOf("["))),f=Ve.getUniformLocation(t,s)){var c=Xe.getNewId(Xe.uniforms);n[s]=[i.size,c],Xe.uniforms[c]=f;for(var u=1;u<i.size;++u){var l=s+"["+u+"]",f=Ve.getUniformLocation(t,l);c=Xe.getNewId(Xe.uniforms),Xe.uniforms[c]=f}}}}},$e=["default","low-power","high-performance"],Ke={};function Je(){if(!Je.strings){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:u||"./this.program"};for(t in Ke)e[t]=Ke[t];var t,r=[];for(t in e)r.push(t+"="+e[t]);Je.strings=r}return Je.strings}function Ye(t,r){if(h)return Le(10,1,t,r);try{var n=0;return Je().forEach((function(e,o){var a=r+n;(function(e,t,r){for(var n=0;n<e.length;++n)x[t++>>0]=e.charCodeAt(n);x[t>>0]=0})(e,F[t+4*o>>2]=a),n+=e.length+1})),0}catch(e){return void 0!==Fe&&e instanceof Fe.ErrnoError||te(e),e.errno}}function Ze(e,t){if(h)return Le(11,1,e,t);try{var r=Je();F[e>>2]=r.length;var n=0;return r.forEach((function(e){n+=e.length+1})),F[t>>2]=n,0}catch(e){return void 0!==Fe&&e instanceof Fe.ErrnoError||te(e),e.errno}}function Qe(e){if(h)return Le(12,1,e);try{var t=Te.getStreamFromFD(e);return Fe.close(t),0}catch(e){return void 0!==Fe&&e instanceof Fe.ErrnoError||te(e),e.errno}}function et(e,t){if(h)return Le(13,1,e,t);try{var r=(r=Te.getStreamFromFD(e)).tty?2:Fe.isDir(r.mode)?3:Fe.isLink(r.mode)?7:4;return x[t>>0]=r,0}catch(e){return void 0!==Fe&&e instanceof Fe.ErrnoError||te(e),e.errno}}function tt(e,t,r,n){if(h)return Le(14,1,e,t,r,n);try{var o=Te.getStreamFromFD(e);return o=Te.doReadv(o,t,r),F[n>>2]=o,0}catch(e){return void 0!==Fe&&e instanceof Fe.ErrnoError||te(e),e.errno}}function rt(e,t,r,n,o){if(h)return Le(15,1,e,t,r,n,o);try{var a=Te.getStreamFromFD(e),i=4294967296*r+(t>>>0),s=9007199254740992;return i<=-s||s<=i?-61:(Fe.llseek(a,i,n),oe=[a.position>>>0,(ne=a.position,1<=+Math.abs(ne)?0<ne?(0|Math.min(+Math.floor(ne/4294967296),4294967295))>>>0:~~+Math.ceil((ne-(~~ne>>>0))/4294967296)>>>0:0)],F[o>>2]=oe[0],F[o+4>>2]=oe[1],a.getdents&&0==i&&0===n&&(a.getdents=null),0)}catch(e){return void 0!==Fe&&e instanceof Fe.ErrnoError||te(e),e.errno}}function nt(e,t,r,n){if(h)return Le(16,1,e,t,r,n);try{var o=Te.getStreamFromFD(e);return o=Te.doWritev(o,t,r),F[n>>2]=o,0}catch(e){return void 0!==Fe&&e instanceof Fe.ErrnoError||te(e),e.errno}}function ot(e){if(h)throw"Internal Error! spawnThread() can only ever be called from main application thread!";var t=ge.getNewWorker();if(void 0!==t.pthread)throw"Internal error!";if(!e.pthread_ptr)throw"Internal error, no pthread ptr!";ge.runningWorkers.push(t);for(var r=ft(512),n=0;n<128;++n)F[r+4*n>>2]=0;var o=e.stackBase+e.stackSize,a=ge.pthreads[e.pthread_ptr]={worker:t,stackBase:e.stackBase,stackSize:e.stackSize,allocatedOwnStack:e.allocatedOwnStack,thread:e.pthread_ptr,threadInfoStruct:e.pthread_ptr},i=a.threadInfoStruct>>2;Atomics.store(T,i,0),Atomics.store(T,1+i,0),Atomics.store(T,2+i,0),Atomics.store(T,16+i,e.detached),Atomics.store(T,25+i,r),Atomics.store(T,11+i,0),Atomics.store(T,10+i,a.threadInfoStruct),Atomics.store(T,20+i,e.stackSize),Atomics.store(T,19+i,o),Atomics.store(T,26+i,e.stackSize),Atomics.store(T,28+i,o),Atomics.store(T,29+i,e.detached),Atomics.store(T,31+i,e.schedPolicy),Atomics.store(T,32+i,e.schedPrio),o=mt()+40,Atomics.store(T,43+i,o),t.pthread=a;var s={cmd:"run",start_routine:e.startRoutine,arg:e.arg,threadInfoStruct:e.pthread_ptr,stackBase:e.stackBase,stackSize:e.stackSize};t.runPthread=function(){s.time=performance.now(),t.postMessage(s,e.transferList)},t.loaded&&(t.runPthread(),delete t.runPthread)}function at(e){if(h)return Le(17,1,e);switch(e){case 30:return 16384;case 85:return A.length/16384;case 132:case 133:case 12:case 137:case 138:case 15:case 235:case 16:case 17:case 18:case 19:case 20:case 149:case 13:case 10:case 236:case 153:case 9:case 21:case 22:case 159:case 154:case 14:case 77:case 78:case 139:case 80:case 81:case 82:case 68:case 67:case 164:case 11:case 29:case 47:case 48:case 95:case 52:case 51:case 46:case 79:return 200809;case 27:case 246:case 127:case 128:case 23:case 24:case 160:case 161:case 181:case 182:case 242:case 183:case 184:case 243:case 244:case 245:case 165:case 178:case 179:case 49:case 50:case 168:case 169:case 175:case 170:case 171:case 172:case 97:case 76:case 32:case 173:case 35:return-1;case 176:case 177:case 7:case 155:case 8:case 157:case 125:case 126:case 92:case 93:case 129:case 130:case 131:case 94:case 91:return 1;case 74:case 60:case 69:case 70:case 4:return 1024;case 31:case 42:case 72:return 32;case 87:case 26:case 33:return 2147483647;case 34:case 1:return 47839;case 38:case 36:return 99;case 43:case 37:return 2048;case 0:return 2097152;case 3:return 65536;case 28:return 32768;case 44:return 32767;case 75:return 16384;case 39:return 1e3;case 89:return 700;case 71:return 256;case 40:return 255;case 2:return 100;case 180:return 64;case 25:return 20;case 5:return 16;case 6:return 6;case 73:return 4;case 84:return"object"==typeof navigator&&navigator.hardwareConcurrency||1}return ye(28),-1}h||ge.initMainThreadBlock(),q=function(e,t,r,n){e=e||this,this.parent=e,this.mount=e.mount,this.mounted=null,this.id=Fe.nextInode++,this.name=t,this.mode=r,this.node_ops={},this.stream_ops={},this.rdev=n},Object.defineProperties(q.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(e){e?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(e){e?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return Fe.isDir(this.mode)}},isDevice:{get:function(){return Fe.isChrdev(this.mode)}}}),Fe.FSNode=q,Fe.staticInit(),a.FS_createPath=Fe.createPath,a.FS_createDataFile=Fe.createDataFile,a.FS_createPreloadedFile=Fe.createPreloadedFile,a.FS_createLazyFile=Fe.createLazyFile,a.FS_createDevice=Fe.createDevice,a.FS_unlink=Fe.unlink;var it=[null,function(e,t){if(h)return Le(1,1,e,t)},function(e,t,r){if(h)return Le(2,1,e,t,r);Te.varargs=r;try{var n=Te.getStreamFromFD(e);switch(t){case 0:return(o=Te.get())<0?-28:Fe.open(n.path,n.flags,0,o).fd;case 1:case 2:return 0;case 3:return n.flags;case 4:var o=Te.get();return n.flags|=o,0;case 12:return o=Te.get(),P[o+0>>1]=2,0;case 13:case 14:return 0;case 16:case 8:return-28;case 9:return ye(28),-1;default:return-28}}catch(e){return void 0!==Fe&&e instanceof Fe.ErrnoError||te(e),-e.errno}},Re,function(e,t,r){if(h)return Le(4,1,e,t,r);Te.varargs=r;try{var n=Te.getStreamFromFD(e);switch(t){case 21509:case 21505:return n.tty?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return n.tty?0:-59;case 21519:if(!n.tty)return-59;var o=Te.get();return F[o>>2]=0;case 21520:return n.tty?-28:-59;case 21531:return o=Te.get(),Fe.ioctl(n,t,o);case 21523:case 21524:return n.tty?0:-59;default:te("bad ioctl syscall "+t)}}catch(e){return void 0!==Fe&&e instanceof Fe.ErrnoError||te(e),-e.errno}},Oe,je,Me,Ie,Ge,Ye,Ze,Qe,et,tt,rt,nt,at];function st(e,t,r){return r=0<r?r:U(e)+1,e=L(e,r=new Array(r),0,r.length),t&&(r.length=e),r}h||V.push({func:function(){lt()}});var ct,ut={f:function(e,t,r,n){te("Assertion failed: "+N(e)+", at: "+[t?N(t):"unknown filename",r,n?N(n):"unknown function"])},s:function(e){return ft(e+ke)+ke},p:function(e,t,r){throw new Se(e).init(t,r),e},L:Re,J:Oe,I:je,N:Me,K:Ie,C:function(e,t){if(e==t)postMessage({cmd:"processQueuedMainThreadWork"});else if(h)postMessage({targetThread:e,cmd:"processThreadQueue"});else{if(!(e=(e=ge.pthreads[e])&&e.worker))return;e.postMessage({cmd:"processThreadQueue"})}return 1},b:function(){te()},y:function(e,t){var r;if(0===e)r=Date.now();else{if(1!==e&&4!==e)return ye(28),-1;r=me()}return F[t>>2]=r/1e3|0,F[t+4>>2]=r%1e3*1e3*1e3|0,0},O:function(e,t){te("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},r:function(e,t){te("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},n:function(e,t,r){return r=function(e,t){for(Ue.length=0,t>>=2;r=A[e++];){var r=r<105;r&&1&t&&t++,Ue.push(r?R[t++>>1]:F[t]),++t}return Ue}(t,r),se[e].apply(null,r)},E:Be,i:function(e,t){},d:Ne,c:pe,g:me,w:function(e,t,r){A.copyWithin(e,t,t+r)},t:function(){return navigator.hardwareConcurrency},z:function(e,t,r){Ce.length=t;for(var n=r>>3,o=0;o<t;o++)Ce[o]=R[n+o];return(e<0?se[-e-1]:it[e]).apply(null,Ce)},x:function(e){te("OOM")},A:function(e,t,r){return(He(e)?qe:Ge)(e,t,r)},m:function(e){},B:function(e,t){return r=e,e=F[6+(t=(e=t)>>2)],t={alpha:!!F[t],depth:!!F[1+t],stencil:!!F[2+t],antialias:!!F[3+t],premultipliedAlpha:!!F[4+t],preserveDrawingBuffer:!!F[5+t],powerPreference:$e[e],failIfMajorPerformanceCaveat:!!F[7+t],majorVersion:F[8+t],minorVersion:F[9+t],enableExtensionsByDefault:F[10+t],explicitSwapControl:F[11+t],proxyContextToMainThread:F[12+t],renderViaOffscreenBackBuffer:F[13+t]},!(r=He(r))||t.explicitSwapControl?0:Xe.createContext(r,t);var r},G:Ye,H:Ze,l:function(e){Mt(e)},q:Qe,F:et,M:tt,u:rt,k:nt,v:function(){ge.initRuntime()},a:b||a.wasmMemory,D:function(e){var t=ge.threadExitHandlers.pop();e&&t()},o:function(e,t){ge.threadExitHandlers.push((function(){H.get(e)(t)}))},h:function(e,t,r,n){if("undefined"==typeof SharedArrayBuffer)return S("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;if(!e)return S("pthread_create called with a null thread pointer!"),28;var o=[];if(h&&0===o.length)return _t(687865856,e,t,r,n);var a,i,s=0,c=0,u=0,l=0,f=0;t&&-1!=t?(s=F[t>>2],s+=81920,c=F[t+8>>2],u=0!==F[t+12>>2],0===F[t+16>>2]?(a=F[t+20>>2],i=F[t+24>>2],function(e,t,r){if(!t&&!r)return fe;if(!e)return S("pthread_getschedparam called with a null thread pointer!"),ue;if(F[e+12>>2]!==e)return S("pthread_getschedparam attempted on thread "+e+", which does not point to a valid thread, or does not exist anymore!"),ue;var n=Atomics.load(T,e+104+20>>2);e=Atomics.load(T,e+104+24>>2),t&&(F[t>>2]=n),r&&(F[r>>2]=e)}(ge.currentProxiedOperationCallerThread||ht(),t+20,t+24),l=F[t+20>>2],f=F[t+24>>2],F[t+20>>2]=a,F[t+24>>2]=i):(l=F[t+20>>2],f=F[t+24>>2])):s=2097152,(t=0==c)?c=Tt(16,s):j(0<(c-=s));for(var d=ft(228),p=0;p<57;++p)T[(d>>2)+p]=0;return F[e>>2]=d,e=(F[d+12>>2]=d)+152,F[e>>2]=e,n={stackBase:c,stackSize:s,allocatedOwnStack:t,schedPolicy:l,schedPrio:f,detached:u,startRoutine:r,pthread_ptr:d,arg:n,transferList:o},h?(n.cmd="spawnThread",postMessage(n,o)):ot(n),0},j:function(e,t){return function(e,t,r){if(!e)return S("pthread_join attempted on a null thread pointer!"),ue;if(h&&ht()==e)return S("PThread "+e+" is attempting to join to itself!"),de;if(!h&&yt()==e)return S("Main thread "+e+" is attempting to join to itself!"),de;if(F[e+12>>2]!==e)return S("pthread_join attempted on thread "+e+", which does not point to a valid thread, or does not exist anymore!"),ue;if(Atomics.load(T,e+64>>2))return S("Attempted to join thread "+e+", which was already detached!"),fe;for(r&&Be();;){var n=Atomics.load(T,e+0>>2);if(1==n){var o=Atomics.load(T,e+4>>2);return t&&(F[t>>2]=o),Atomics.store(T,e+64>>2,1),h?postMessage({cmd:"cleanupThread",thread:e}):he(e),0}if(!r)return le;!function(){if(h){var e=ht();if(e&&!Atomics.load(T,e+56>>2)&&2==Atomics.load(T,e+0>>2))throw"Canceled!"}}(),h||wt(),Ne(e+0,n,h?100:1)}}(e,t,!0)},e:at},lt=(function(){var t={a:ut};function r(e,t){e=e.exports,a.asm=e,H=a.asm.P,_=t,h||ee()}function n(e){r(e.instance,e.module)}function i(e){return(w||!f&&!d||"function"!=typeof fetch?Promise.resolve().then(ie):fetch(ae,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+ae+"'";return e.arrayBuffer()})).catch(ie)).then((function(e){return WebAssembly.instantiate(e,t)})).then(e,(function(e){S("failed to asynchronously prepare wasm: "+e),te(e)}))}if(h||Q(),a.instantiateWasm)try{return a.instantiateWasm(t,r)}catch(e){return S("Module.instantiateWasm callback failed with error: "+e)}(w||"function"!=typeof WebAssembly.instantiateStreaming||re(ae)||"function"!=typeof fetch?i(n):fetch(ae,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,t).then(n,(function(e){return S("wasm streaming compile failed: "+e),S("falling back to ArrayBuffer instantiation"),i(n)}))}))).catch(o)}(),a.___wasm_call_ctors=function(){return(lt=a.___wasm_call_ctors=a.asm.Q).apply(null,arguments)}),ft=(a._run_inference=function(){return(a._run_inference=a.asm.R).apply(null,arguments)},a._load_model=function(){return(a._load_model=a.asm.S).apply(null,arguments)},a._main=function(){return(a._main=a.asm.T).apply(null,arguments)},a._malloc=function(){return(ft=a._malloc=a.asm.U).apply(null,arguments)}),dt=a._free=function(){return(dt=a._free=a.asm.V).apply(null,arguments)},pt=a.___errno_location=function(){return(pt=a.___errno_location=a.asm.W).apply(null,arguments)},ht=a._pthread_self=function(){return(ht=a._pthread_self=a.asm.X).apply(null,arguments)},mt=(a.___em_js__initPthreadsJS=function(){return(a.___em_js__initPthreadsJS=a.asm.Y).apply(null,arguments)},a._emscripten_get_global_libc=function(){return(mt=a._emscripten_get_global_libc=a.asm.Z).apply(null,arguments)}),gt=a._memset=function(){return(gt=a._memset=a.asm._).apply(null,arguments)},yt=a._emscripten_main_browser_thread_id=function(){return(yt=a._emscripten_main_browser_thread_id=a.asm.$).apply(null,arguments)},vt=a.___pthread_tsd_run_dtors=function(){return(vt=a.___pthread_tsd_run_dtors=a.asm.aa).apply(null,arguments)},wt=a._emscripten_main_thread_process_queued_calls=function(){return(wt=a._emscripten_main_thread_process_queued_calls=a.asm.ba).apply(null,arguments)},Et=(a._emscripten_current_thread_process_queued_calls=function(){return(a._emscripten_current_thread_process_queued_calls=a.asm.ca).apply(null,arguments)},a._emscripten_register_main_browser_thread_id=function(){return(Et=a._emscripten_register_main_browser_thread_id=a.asm.da).apply(null,arguments)}),bt=a._do_emscripten_dispatch_to_thread=function(){return(bt=a._do_emscripten_dispatch_to_thread=a.asm.ea).apply(null,arguments)},_t=(a._emscripten_async_run_in_main_thread=function(){return(a._emscripten_async_run_in_main_thread=a.asm.fa).apply(null,arguments)},a._emscripten_sync_run_in_main_thread=function(){return(a._emscripten_sync_run_in_main_thread=a.asm.ga).apply(null,arguments)},a._emscripten_sync_run_in_main_thread_0=function(){return(a._emscripten_sync_run_in_main_thread_0=a.asm.ha).apply(null,arguments)},a._emscripten_sync_run_in_main_thread_1=function(){return(a._emscripten_sync_run_in_main_thread_1=a.asm.ia).apply(null,arguments)},a._emscripten_sync_run_in_main_thread_2=function(){return(a._emscripten_sync_run_in_main_thread_2=a.asm.ja).apply(null,arguments)},a._emscripten_sync_run_in_main_thread_xprintf_varargs=function(){return(a._emscripten_sync_run_in_main_thread_xprintf_varargs=a.asm.ka).apply(null,arguments)},a._emscripten_sync_run_in_main_thread_3=function(){return(a._emscripten_sync_run_in_main_thread_3=a.asm.la).apply(null,arguments)},a._emscripten_sync_run_in_main_thread_4=function(){return(_t=a._emscripten_sync_run_in_main_thread_4=a.asm.ma).apply(null,arguments)}),kt=(a._emscripten_sync_run_in_main_thread_5=function(){return(a._emscripten_sync_run_in_main_thread_5=a.asm.na).apply(null,arguments)},a._emscripten_sync_run_in_main_thread_6=function(){return(a._emscripten_sync_run_in_main_thread_6=a.asm.oa).apply(null,arguments)},a._emscripten_sync_run_in_main_thread_7=function(){return(a._emscripten_sync_run_in_main_thread_7=a.asm.pa).apply(null,arguments)},a._emscripten_run_in_main_runtime_thread_js=function(){return(kt=a._emscripten_run_in_main_runtime_thread_js=a.asm.qa).apply(null,arguments)}),St=a.__emscripten_call_on_thread=function(){return(St=a.__emscripten_call_on_thread=a.asm.ra).apply(null,arguments)},Dt=(a._emscripten_tls_init=function(){return(a._emscripten_tls_init=a.asm.sa).apply(null,arguments)},a.__emscripten_thread_init=function(){return(Dt=a.__emscripten_thread_init=a.asm.ta).apply(null,arguments)}),xt=a.stackSave=function(){return(xt=a.stackSave=a.asm.ua).apply(null,arguments)},At=a.stackRestore=function(){return(At=a.stackRestore=a.asm.va).apply(null,arguments)},Pt=a.stackAlloc=function(){return(Pt=a.stackAlloc=a.asm.wa).apply(null,arguments)},Ft=a._emscripten_stack_set_limits=function(){return(Ft=a._emscripten_stack_set_limits=a.asm.xa).apply(null,arguments)},Tt=a._memalign=function(){return(Tt=a._memalign=a.asm.ya).apply(null,arguments)},Rt=a.__emscripten_main_thread_futex=115216;function Ot(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function jt(e){function t(){ct||(ct=!0,a.calledRun=!0,O||(a.noFSInit||Fe.init.initialized||Fe.init(),Ae.init(),ce(V),h||(Fe.ignorePermissions=!1,ce(X)),n(a),a.onRuntimeInitialized&&a.onRuntimeInitialized(),It&&function(e){var t=a._main,r=(e=e||[]).length+1,n=Pt(4*(r+1));F[n>>2]=z(u);for(var o=1;o<r;o++)F[(n>>2)+o]=z(e[o-1]);F[(n>>2)+r]=0;try{Mt(t(r,n),!0)}catch(e){if(e instanceof Ot)return;if("unwind"==e)return E=!0;var i=e;e&&"object"==typeof e&&e.stack&&(i=[e,e.stack]),S("exception thrown: "+i),l(1,e)}}(e),function(){if(!h){if(a.postRun)for("function"==typeof a.postRun&&(a.postRun=[a.postRun]);a.postRun.length;)e=a.postRun.shift(),K.unshift(e);var e;ce(K)}}()))}e=e||c,0<J||(function(){if(!h){if(a.preRun)for("function"==typeof a.preRun&&(a.preRun=[a.preRun]);a.preRun.length;)e=a.preRun.shift(),G.unshift(e);var e;ce(G)}}(),0<J||(a.setStatus?(a.setStatus("Running..."),setTimeout((function(){setTimeout((function(){a.setStatus("")}),1),t()}),1)):t()))}function Mt(e,t){if(!t||!E||0!==e){if(!t&&h)throw postMessage({cmd:"exitProcess",returnCode:e}),new Ot(e);E||(ge.terminateAllThreads(),a.onExit&&a.onExit(e),O=!0),l(e,new Ot(e))}}if(a.cwrap=function(e,t,r,n){var o=(r=r||[]).every((function(e){return"number"===e}));return"string"!==t&&o&&!n?M(e):function(){return I(e,t,r,arguments)}},a.addRunDependency=Q,a.removeRunDependency=ee,a.FS_createPath=Fe.createPath,a.FS_createDataFile=Fe.createDataFile,a.FS_createPreloadedFile=Fe.createPreloadedFile,a.FS_createLazyFile=Fe.createLazyFile,a.FS_createDevice=Fe.createDevice,a.FS_unlink=Fe.unlink,a.PThread=ge,a.PThread=ge,a._pthread_self=ht,a.wasmMemory=b,a.ExitStatus=Ot,Z=function e(){ct||jt(),ct||(Z=e)},a.run=jt,a.preInit)for("function"==typeof a.preInit&&(a.preInit=[a.preInit]);0<a.preInit.length;)a.preInit.pop()();var It=!0;return a.noInitialRun&&(It=!1),E=!h,h?ge.initWorker():jt(),e.ready});e.exports=n},3349:function(e){var t,r=(t="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,function(e){var r,n,o=void 0!==(e=e||{})?e:{};o.ready=new Promise((function(e,t){r=e,n=t})),o.expectedDataFileDownloads||(o.expectedDataFileDownloads=0),o.expectedDataFileDownloads++,function(e){if("object"==typeof window)window.encodeURIComponent(window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/");else{if("undefined"==typeof location)throw"using preloaded data can only be done on a web page or in a web worker";encodeURIComponent(location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/")}var t="tflite-wasm.data";"function"!=typeof o.locateFilePackage||o.locateFile||(o.locateFile=o.locateFilePackage,g("warning: you defined Module.locateFilePackage, that has been renamed to Module.locateFile (using your locateFilePackage for now)"));var r,n,a,i,s=o.locateFile?o.locateFile(t,""):t,c=(t=e.remote_package_size,null),u=o.getPreloadedPackage?o.getPreloadedPackage(s,t):null;function l(){function t(e,t){if(!e)throw t+(new Error).stack}function r(e,t,r){this.start=e,this.end=t,this.audio=r}r.prototype={requests:{},open:function(e,t){this.name=t,this.requests[t]=this,o.addRunDependency("fp "+this.name)},send:function(){},onload:function(){var e=this.byteArray.subarray(this.start,this.end);this.finish(e)},finish:function(e){o.FS_createDataFile(this.name,null,e,!0,!0,!0),o.removeRunDependency("fp "+this.name),this.requests[this.name]=null}};for(var n=e.files,a=0;a<n.length;++a)new r(n[a].start,n[a].end,n[a].audio).open("GET",n[a].filename);function i(n){t(n,"Loading data file failed."),t(n instanceof ArrayBuffer,"bad input to processPackageData"),n=new Uint8Array(n),r.prototype.byteArray=n;for(var a=e.files,i=0;i<a.length;++i)r.prototype.requests[a[i].filename].onload();o.removeRunDependency("datafile_bazel-out/wasm-opt/bin/tflite-wasm.data")}o.addRunDependency("datafile_bazel-out/wasm-opt/bin/tflite-wasm.data"),o.preloadResults||(o.preloadResults={}),o.preloadResults["bazel-out/wasm-opt/bin/tflite-wasm.data"]={fromCache:!1},u?(i(u),u=null):c=i}u||(r=s,n=t,a=function(e){c?(c(e),c=null):u=e},(i=new XMLHttpRequest).open("GET",r,!0),i.responseType="arraybuffer",i.onprogress=function(e){var t=r,a=n;if(e.total&&(a=e.total),e.loaded){i.addedTotal?o.dataFileDownloads[t].loaded=e.loaded:(i.addedTotal=!0,o.dataFileDownloads||(o.dataFileDownloads={}),o.dataFileDownloads[t]={loaded:e.loaded,total:a});var s,c=0,u=0,l=0;for(s in o.dataFileDownloads){var f=o.dataFileDownloads[s];c+=f.total,u+=f.loaded,l++}c=Math.ceil(c*o.expectedDataFileDownloads/l),o.setStatus&&o.setStatus("Downloading data... ("+u+"/"+c+")")}else o.dataFileDownloads||o.setStatus&&o.setStatus("Downloading data...")},i.onerror=function(e){throw new Error("NetworkError for: "+r)},i.onload=function(e){if(!(200==i.status||304==i.status||206==i.status||0==i.status&&i.response))throw new Error(i.statusText+" : "+i.responseURL);var t=i.response;a(t)},i.send(null)),o.calledRun?l():(o.preRun||(o.preRun=[]),o.preRun.push(l))}({files:[{filename:"/segm_full_sparse_v1008.tflite",start:0,end:308672,audio:0},{filename:"/segm_lite_v1082.tflite",start:308672,end:557680,audio:0}],remote_package_size:557680,package_uuid:"5e3e4f0a-4cbf-4145-9537-63c7c5dd7951"});var a,i={};for(a in o)o.hasOwnProperty(a)&&(i[a]=o[a]);var s,c,u=[],l="./this.program",f=function(e,t){throw t},d="";"undefined"!=typeof document&&document.currentScript&&(d=document.currentScript.src),d=0!==(d=t||d).indexOf("blob:")?d.substr(0,d.lastIndexOf("/")+1):"",s=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText};var p,h,m=o.print||console.log.bind(console),g=o.printErr||console.warn.bind(console);for(a in i)i.hasOwnProperty(a)&&(o[a]=i[a]);i=null,o.arguments&&(u=o.arguments),o.thisProgram&&(l=o.thisProgram),o.quit&&(f=o.quit),o.wasmBinary&&(p=o.wasmBinary),o.noExitRuntime&&(h=o.noExitRuntime),"object"!=typeof WebAssembly&&W("no native wasm support detected");var y=!1;function v(e,t){e||W("Assertion failed: "+t)}function w(e){var t=o["_"+e];return v(t,"Cannot call unknown function "+e+", make sure it is exported"),t}function E(e,t,r,n){var o,a={string:function(e){var t,r=0;return null!=e&&0!==e&&(t=1+(e.length<<2),F(e,r=Se(t),t)),r},array:function(e){var t,r=Se(e.length);return t=e,e=r,_.set(t,e),r}},i=(e=w(e),[]),s=0;if(n)for(var c=0;c<n.length;c++){var u=a[r[c]];u?(0===s&&(s=_e()),i[c]=u(n[c])):i[c]=n[c]}return o=e=e.apply(null,i),e="string"===t?A(o):"boolean"===t?Boolean(o):o,0!==s&&ke(s),e}var b,_,k,S,D="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function x(e,t,r){for(var n=t+r,o=t;e[o]&&!(n<=o);)++o;if(16<o-t&&e.subarray&&D)return D.decode(e.subarray(t,o));for(var a="";t<o;){var i,s,c=e[t++];128&c?(i=63&e[t++],192!=(224&c)?(s=63&e[t++],(c=224==(240&c)?(15&c)<<12|i<<6|s:(7&c)<<18|i<<12|s<<6|63&e[t++])<65536?a+=String.fromCharCode(c):(s=c-65536,a+=String.fromCharCode(55296|s>>10,56320|1023&s))):a+=String.fromCharCode((31&c)<<6|i)):a+=String.fromCharCode(c)}return a}function A(e,t){return e?x(k,e,t):""}function P(e,t,r,n){if(!(0<n))return 0;for(var o=r,a=r+n-1,i=0;i<e.length;++i){var s=e.charCodeAt(i);if((s=55296<=s&&s<=57343?65536+((1023&s)<<10)|1023&e.charCodeAt(++i):s)<=127){if(a<=r)break;t[r++]=s}else if(s<=2047){if(a<=r+1)break;t[r++]=192|s>>6,t[r++]=128|63&s}else if(s<=65535){if(a<=r+2)break;t[r++]=224|s>>12,t[r++]=128|s>>6&63,t[r++]=128|63&s}else{if(a<=r+3)break;t[r++]=240|s>>18,t[r++]=128|s>>12&63,t[r++]=128|s>>6&63,t[r++]=128|63&s}}return t[r]=0,r-o}function F(e,t,r){return P(e,k,t,r)}function T(e){for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);(n=55296<=n&&n<=57343?65536+((1023&n)<<10)|1023&e.charCodeAt(++r):n)<=127?++t:t+=n<=2047?2:n<=65535?3:4}return t}function R(e){var t=T(e)+1,r=Se(t);return P(e,_,r,t),r}o.INITIAL_MEMORY;var O,j=[],M=[],I=[],B=[],N=0,L=null,C=null;function U(e){N++,o.monitorRunDependencies&&o.monitorRunDependencies(N)}function z(e){var t;N--,o.monitorRunDependencies&&o.monitorRunDependencies(N),0==N&&(null!==L&&(clearInterval(L),L=null),C&&(t=C,C=null,t()))}function W(e){throw o.onAbort&&o.onAbort(e),g(e+=""),y=!0,e="abort("+e+"). Build with -s ASSERTIONS=1 for more info.",e=new WebAssembly.RuntimeError(e),n(e),e}function H(e){return t=e,e="data:application/octet-stream;base64,",String.prototype.startsWith?t.startsWith(e):0===t.indexOf(e);var t}o.preloadedImages={},o.preloadedAudios={};var q,G,V,X="tflite-wasm.wasm";function $(){try{if(p)return new Uint8Array(p);if(c)return c(X);throw"both async and sync fetching of the wasm failed"}catch(e){W(e)}}function K(e){for(;0<e.length;){var t,r=e.shift();"function"!=typeof r?"number"==typeof(t=r.func)?void 0===r.arg?O.get(t)():O.get(t)(r.arg):t(void 0===r.arg?null:r.arg):r(o)}}H(X)||(q=X,X=o.locateFile?o.locateFile(q,d):d+q);var J=0,Y=4,Z=8,Q=12,ee=13,te=16;function re(e){this.excPtr=e,this.ptr=e-te,this.set_type=function(e){S[this.ptr+Z>>2]=e},this.get_type=function(){return S[this.ptr+Z>>2]},this.set_destructor=function(e){S[this.ptr+J>>2]=e},this.get_destructor=function(){return S[this.ptr+J>>2]},this.set_refcount=function(e){S[this.ptr+Y>>2]=e},this.set_caught=function(e){e=e?1:0,_[this.ptr+Q>>0]=e},this.get_caught=function(){return 0!=_[this.ptr+Q>>0]},this.set_rethrown=function(e){e=e?1:0,_[this.ptr+ee>>0]=e},this.get_rethrown=function(){return 0!=_[this.ptr+ee>>0]},this.init=function(e,t){this.set_type(e),this.set_destructor(t),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var e=S[this.ptr+Y>>2];S[this.ptr+Y>>2]=e+1},this.release_ref=function(){var e=S[this.ptr+Y>>2];return S[this.ptr+Y>>2]=e-1,1===e}}function ne(e){return S[be()>>2]=e}var oe,ae={splitPath:function(e){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1)},normalizeArray:function(e,t){for(var r=0,n=e.length-1;0<=n;n--){var o=e[n];"."===o?e.splice(n,1):".."===o?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r;r--)e.unshift("..");return e},normalize:function(e){var t="/"===e.charAt(0),r="/"===e.substr(-1);return(e=(e=ae.normalizeArray(e.split("/").filter((function(e){return!!e})),!t).join("/"))||t?e:".")&&r&&(e+="/"),(t?"/":"")+e},dirname:function(e){e=(t=ae.splitPath(e))[0];var t=t[1];return e||t?e+(t=t&&t.substr(0,t.length-1)):"."},basename:function(e){if("/"===e)return"/";var t=(e=(e=ae.normalize(e)).replace(/\/$/,"")).lastIndexOf("/");return-1===t?e:e.substr(t+1)},extname:function(e){return ae.splitPath(e)[3]},join:function(){var e=Array.prototype.slice.call(arguments,0);return ae.normalize(e.join("/"))},join2:function(e,t){return ae.normalize(e+"/"+t)}},ie={resolve:function(){for(var e="",t=!1,r=arguments.length-1;-1<=r&&!t;r--){var n=0<=r?arguments[r]:ue.cwd();if("string"!=typeof n)throw new TypeError("Arguments to path.resolve must be strings");if(!n)return"";e=n+"/"+e,t="/"===n.charAt(0)}return(t?"/":"")+(e=ae.normalizeArray(e.split("/").filter((function(e){return!!e})),!t).join("/"))||"."},relative:function(e,t){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;0<=r&&""===e[r];r--);return r<t?[]:e.slice(t,r-t+1)}e=ie.resolve(e).substr(1),t=ie.resolve(t).substr(1);for(var n=r(e.split("/")),o=r(t.split("/")),a=Math.min(n.length,o.length),i=a,s=0;s<a;s++)if(n[s]!==o[s]){i=s;break}var c=[];for(s=i;s<n.length;s++)c.push("..");return(c=c.concat(o.slice(i))).join("/")}},se={ttys:[],init:function(){},shutdown:function(){},register:function(e,t){se.ttys[e]={input:[],output:[],ops:t},ue.registerDevice(e,se.stream_ops)},stream_ops:{open:function(e){var t=se.ttys[e.node.rdev];if(!t)throw new ue.ErrnoError(43);e.tty=t,e.seekable=!1},close:function(e){e.tty.ops.flush(e.tty)},flush:function(e){e.tty.ops.flush(e.tty)},read:function(e,t,r,n,o){if(!e.tty||!e.tty.ops.get_char)throw new ue.ErrnoError(60);for(var a,i=0,s=0;s<n;s++){try{a=e.tty.ops.get_char(e.tty)}catch(e){throw new ue.ErrnoError(29)}if(void 0===a&&0===i)throw new ue.ErrnoError(6);if(null==a)break;i++,t[r+s]=a}return i&&(e.node.timestamp=Date.now()),i},write:function(e,t,r,n,o){if(!e.tty||!e.tty.ops.put_char)throw new ue.ErrnoError(60);try{for(var a=0;a<n;a++)e.tty.ops.put_char(e.tty,t[r+a])}catch(e){throw new ue.ErrnoError(29)}return n&&(e.node.timestamp=Date.now()),a}},default_tty_ops:{get_char:function(e){if(!e.input.length){var t=null;if("undefined"!=typeof window&&"function"==typeof window.prompt?null!==(t=window.prompt("Input: "))&&(t+="\n"):"function"==typeof readline&&null!==(t=readline())&&(t+="\n"),!t)return null;e.input=he(t,!0)}return e.input.shift()},put_char:function(e,t){null===t||10===t?(m(x(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&0<e.output.length&&(m(x(e.output,0)),e.output=[])}},default_tty1_ops:{put_char:function(e,t){null===t||10===t?(g(x(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&0<e.output.length&&(g(x(e.output,0)),e.output=[])}}},ce={ops_table:null,mount:function(e){return ce.createNode(null,"/",16895,0)},createNode:function(e,t,r,n){if(ue.isBlkdev(r)||ue.isFIFO(r))throw new ue.ErrnoError(63);return ce.ops_table||(ce.ops_table={dir:{node:{getattr:ce.node_ops.getattr,setattr:ce.node_ops.setattr,lookup:ce.node_ops.lookup,mknod:ce.node_ops.mknod,rename:ce.node_ops.rename,unlink:ce.node_ops.unlink,rmdir:ce.node_ops.rmdir,readdir:ce.node_ops.readdir,symlink:ce.node_ops.symlink},stream:{llseek:ce.stream_ops.llseek}},file:{node:{getattr:ce.node_ops.getattr,setattr:ce.node_ops.setattr},stream:{llseek:ce.stream_ops.llseek,read:ce.stream_ops.read,write:ce.stream_ops.write,allocate:ce.stream_ops.allocate,mmap:ce.stream_ops.mmap,msync:ce.stream_ops.msync}},link:{node:{getattr:ce.node_ops.getattr,setattr:ce.node_ops.setattr,readlink:ce.node_ops.readlink},stream:{}},chrdev:{node:{getattr:ce.node_ops.getattr,setattr:ce.node_ops.setattr},stream:ue.chrdev_stream_ops}}),n=ue.createNode(e,t,r,n),ue.isDir(n.mode)?(n.node_ops=ce.ops_table.dir.node,n.stream_ops=ce.ops_table.dir.stream,n.contents={}):ue.isFile(n.mode)?(n.node_ops=ce.ops_table.file.node,n.stream_ops=ce.ops_table.file.stream,n.usedBytes=0,n.contents=null):ue.isLink(n.mode)?(n.node_ops=ce.ops_table.link.node,n.stream_ops=ce.ops_table.link.stream):ue.isChrdev(n.mode)&&(n.node_ops=ce.ops_table.chrdev.node,n.stream_ops=ce.ops_table.chrdev.stream),n.timestamp=Date.now(),e&&(e.contents[t]=n),n},getFileDataAsRegularArray:function(e){if(e.contents&&e.contents.subarray){for(var t=[],r=0;r<e.usedBytes;++r)t.push(e.contents[r]);return t}return e.contents},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array(0)},expandFileStorage:function(e,t){var r=e.contents?e.contents.length:0;t<=r||(t=Math.max(t,r*(r<1048576?2:1.125)>>>0),0!=r&&(t=Math.max(t,256)),r=e.contents,e.contents=new Uint8Array(t),0<e.usedBytes&&e.contents.set(r.subarray(0,e.usedBytes),0))},resizeFileStorage:function(e,t){if(e.usedBytes!=t){if(0==t)return e.contents=null,void(e.usedBytes=0);if(!e.contents||e.contents.subarray){var r=e.contents;return e.contents=new Uint8Array(t),r&&e.contents.set(r.subarray(0,Math.min(t,e.usedBytes))),void(e.usedBytes=t)}if(e.contents||(e.contents=[]),e.contents.length>t)e.contents.length=t;else for(;e.contents.length<t;)e.contents.push(0);e.usedBytes=t}},node_ops:{getattr:function(e){var t={};return t.dev=ue.isChrdev(e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,ue.isDir(e.mode)?t.size=4096:ue.isFile(e.mode)?t.size=e.usedBytes:ue.isLink(e.mode)?t.size=e.link.length:t.size=0,t.atime=new Date(e.timestamp),t.mtime=new Date(e.timestamp),t.ctime=new Date(e.timestamp),t.blksize=4096,t.blocks=Math.ceil(t.size/t.blksize),t},setattr:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp),void 0!==t.size&&ce.resizeFileStorage(e,t.size)},lookup:function(e,t){throw ue.genericErrors[44]},mknod:function(e,t,r,n){return ce.createNode(e,t,r,n)},rename:function(e,t,r){if(ue.isDir(e.mode)){var n;try{n=ue.lookupNode(t,r)}catch(e){}if(n)for(var o in n.contents)throw new ue.ErrnoError(55)}delete e.parent.contents[e.name],e.name=r,(t.contents[r]=e).parent=t},unlink:function(e,t){delete e.contents[t]},rmdir:function(e,t){for(var r in ue.lookupNode(e,t).contents)throw new ue.ErrnoError(55);delete e.contents[t]},readdir:function(e){var t,r=[".",".."];for(t in e.contents)e.contents.hasOwnProperty(t)&&r.push(t);return r},symlink:function(e,t,r){return(t=ce.createNode(e,t,41471,0)).link=r,t},readlink:function(e){if(!ue.isLink(e.mode))throw new ue.ErrnoError(28);return e.link}},stream_ops:{read:function(e,t,r,n,o){var a=e.node.contents;if(o>=e.node.usedBytes)return 0;var i=Math.min(e.node.usedBytes-o,n);if(8<i&&a.subarray)t.set(a.subarray(o,o+i),r);else for(var s=0;s<i;s++)t[r+s]=a[o+s];return i},write:function(e,t,r,n,o,a){if(!n)return 0;var i=e.node;if(i.timestamp=Date.now(),t.subarray&&(!i.contents||i.contents.subarray)){if(a)return i.contents=t.subarray(r,r+n),i.usedBytes=n;if(0===i.usedBytes&&0===o)return i.contents=t.slice(r,r+n),i.usedBytes=n;if(o+n<=i.usedBytes)return i.contents.set(t.subarray(r,r+n),o),n}if(ce.expandFileStorage(i,o+n),i.contents.subarray&&t.subarray)i.contents.set(t.subarray(r,r+n),o);else for(var s=0;s<n;s++)i.contents[o+s]=t[r+s];return i.usedBytes=Math.max(i.usedBytes,o+n),n},llseek:function(e,t,r){if(1===r?t+=e.position:2===r&&ue.isFile(e.node.mode)&&(t+=e.node.usedBytes),t<0)throw new ue.ErrnoError(28);return t},allocate:function(e,t,r){ce.expandFileStorage(e.node,t+r),e.node.usedBytes=Math.max(e.node.usedBytes,t+r)},mmap:function(e,t,r,n,o,a){if(v(0===t),!ue.isFile(e.node.mode))throw new ue.ErrnoError(43);var i,s;if(e=e.node.contents,2&a||e.buffer!==b){if((0<n||n+r<e.length)&&(e=e.subarray?e.subarray(n,n+r):Array.prototype.slice.call(e,n,n+r)),s=!0,!(i=function(e){for(var t,r,n=(t=e,r=(r=16384)||16,Math.ceil(t/r)*r),o=we(n);e<n;)_[o+e++]=0;return o}(r)))throw new ue.ErrnoError(48);_.set(e,i)}else s=!1,i=e.byteOffset;return{ptr:i,allocated:s}},msync:function(e,t,r,n,o){if(!ue.isFile(e.node.mode))throw new ue.ErrnoError(43);return 2&o||ce.stream_ops.write(e,t,0,n,r,!1),0}}},ue={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:function(e,t){if(t=t||{},!(e=ie.resolve(ue.cwd(),e)))return{path:"",node:null};var r,n={follow_mount:!0,recurse_count:0};for(r in n)void 0===t[r]&&(t[r]=n[r]);if(8<t.recurse_count)throw new ue.ErrnoError(32);for(var o=ae.normalizeArray(e.split("/").filter((function(e){return!!e})),!1),a=ue.root,i="/",s=0;s<o.length;s++){var c=s===o.length-1;if(c&&t.parent)break;if(a=ue.lookupNode(a,o[s]),i=ae.join2(i,o[s]),ue.isMountpoint(a)&&(!c||c&&t.follow_mount)&&(a=a.mounted.root),!c||t.follow)for(var u=0;ue.isLink(a.mode);){var l=ue.readlink(i);if(i=ie.resolve(ae.dirname(i),l),a=ue.lookupPath(i,{recurse_count:t.recurse_count}).node,40<u++)throw new ue.ErrnoError(32)}}return{path:i,node:a}},getPath:function(e){for(var t;;){if(ue.isRoot(e)){var r=e.mount.mountpoint;return t?"/"!==r[r.length-1]?r+"/"+t:r+t:r}t=t?e.name+"/"+t:e.name,e=e.parent}},hashName:function(e,t){for(var r=0,n=0;n<t.length;n++)r=(r<<5)-r+t.charCodeAt(n)|0;return(e+r>>>0)%ue.nameTable.length},hashAddNode:function(e){var t=ue.hashName(e.parent.id,e.name);e.name_next=ue.nameTable[t],ue.nameTable[t]=e},hashRemoveNode:function(e){var t=ue.hashName(e.parent.id,e.name);if(ue.nameTable[t]===e)ue.nameTable[t]=e.name_next;else for(var r=ue.nameTable[t];r;){if(r.name_next===e){r.name_next=e.name_next;break}r=r.name_next}},lookupNode:function(e,t){if(r=ue.mayLookup(e))throw new ue.ErrnoError(r,e);for(var r=ue.hashName(e.id,t),n=ue.nameTable[r];n;n=n.name_next){var o=n.name;if(n.parent.id===e.id&&o===t)return n}return ue.lookup(e,t)},createNode:function(e,t,r,n){return n=new ue.FSNode(e,t,r,n),ue.hashAddNode(n),n},destroyNode:function(e){ue.hashRemoveNode(e)},isRoot:function(e){return e===e.parent},isMountpoint:function(e){return!!e.mounted},isFile:function(e){return 32768==(61440&e)},isDir:function(e){return 16384==(61440&e)},isLink:function(e){return 40960==(61440&e)},isChrdev:function(e){return 8192==(61440&e)},isBlkdev:function(e){return 24576==(61440&e)},isFIFO:function(e){return 4096==(61440&e)},isSocket:function(e){return 49152==(49152&e)},flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:function(e){var t=ue.flagModes[e];if(void 0===t)throw new Error("Unknown file open mode: "+e);return t},flagsToPermissionString:function(e){var t=["r","w","rw"][3&e];return 512&e&&(t+="w"),t},nodePermissions:function(e,t){return ue.ignorePermissions||(-1===t.indexOf("r")||292&e.mode)&&(-1===t.indexOf("w")||146&e.mode)&&(-1===t.indexOf("x")||73&e.mode)?0:2},mayLookup:function(e){return ue.nodePermissions(e,"x")||(e.node_ops.lookup?0:2)},mayCreate:function(e,t){try{return ue.lookupNode(e,t),20}catch(e){}return ue.nodePermissions(e,"wx")},mayDelete:function(e,t,r){var n;try{n=ue.lookupNode(e,t)}catch(e){return e.errno}var o=ue.nodePermissions(e,"wx");if(o)return o;if(r){if(!ue.isDir(n.mode))return 54;if(ue.isRoot(n)||ue.getPath(n)===ue.cwd())return 10}else if(ue.isDir(n.mode))return 31;return 0},mayOpen:function(e,t){return e?ue.isLink(e.mode)?32:ue.isDir(e.mode)&&("r"!==ue.flagsToPermissionString(t)||512&t)?31:ue.nodePermissions(e,ue.flagsToPermissionString(t)):44},MAX_OPEN_FDS:4096,nextfd:function(e,t){e=e||0,t=t||ue.MAX_OPEN_FDS;for(var r=e;r<=t;r++)if(!ue.streams[r])return r;throw new ue.ErrnoError(33)},getStream:function(e){return ue.streams[e]},createStream:function(e,t,r){ue.FSStream||(ue.FSStream=function(){},ue.FSStream.prototype={object:{get:function(){return this.node},set:function(e){this.node=e}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}}});var n,o=new ue.FSStream;for(n in e)o[n]=e[n];return e=o,r=ue.nextfd(t,r),e.fd=r,ue.streams[r]=e},closeStream:function(e){ue.streams[e]=null},chrdev_stream_ops:{open:function(e){var t=ue.getDevice(e.node.rdev);e.stream_ops=t.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:function(){throw new ue.ErrnoError(70)}},major:function(e){return e>>8},minor:function(e){return 255&e},makedev:function(e,t){return e<<8|t},registerDevice:function(e,t){ue.devices[e]={stream_ops:t}},getDevice:function(e){return ue.devices[e]},getMounts:function(e){for(var t=[],r=[e];r.length;){var n=r.pop();t.push(n),r.push.apply(r,n.mounts)}return t},syncfs:function(e,t){"function"==typeof e&&(t=e,e=!1),ue.syncFSRequests++,1<ue.syncFSRequests&&g("warning: "+ue.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var r=ue.getMounts(ue.root.mount),n=0;function o(e){return ue.syncFSRequests--,t(e)}function a(e){if(e)return a.errored?void 0:(a.errored=!0,o(e));++n>=r.length&&o(null)}r.forEach((function(t){return t.type.syncfs?void t.type.syncfs(t,e,a):a(null)}))},mount:function(e,t,r){var n="/"===r,o=!r;if(n&&ue.root)throw new ue.ErrnoError(10);if(!n&&!o){var a=ue.lookupPath(r,{follow_mount:!1});if(r=a.path,a=a.node,ue.isMountpoint(a))throw new ue.ErrnoError(10);if(!ue.isDir(a.mode))throw new ue.ErrnoError(54)}return r={type:e,opts:t,mountpoint:r,mounts:[]},((e=e.mount(r)).mount=r).root=e,n?ue.root=e:a&&(a.mounted=r,a.mount&&a.mount.mounts.push(r)),e},unmount:function(e){var t=ue.lookupPath(e,{follow_mount:!1});if(!ue.isMountpoint(t.node))throw new ue.ErrnoError(28);t=(e=t.node).mounted;var r=ue.getMounts(t);Object.keys(ue.nameTable).forEach((function(e){for(var t=ue.nameTable[e];t;){var n=t.name_next;-1!==r.indexOf(t.mount)&&ue.destroyNode(t),t=n}})),e.mounted=null,t=e.mount.mounts.indexOf(t),e.mount.mounts.splice(t,1)},lookup:function(e,t){return e.node_ops.lookup(e,t)},mknod:function(e,t,r){var n=ue.lookupPath(e,{parent:!0}).node,o=ae.basename(e);if(!o||"."===o||".."===o)throw new ue.ErrnoError(28);if(e=ue.mayCreate(n,o))throw new ue.ErrnoError(e);if(!n.node_ops.mknod)throw new ue.ErrnoError(63);return n.node_ops.mknod(n,o,t,r)},create:function(e,t){return t=void 0!==t?t:438,t&=4095,t|=32768,ue.mknod(e,t,0)},mkdir:function(e,t){return t=void 0!==t?t:511,t&=1023,t|=16384,ue.mknod(e,t,0)},mkdirTree:function(e,t){for(var r=e.split("/"),n="",o=0;o<r.length;++o)if(r[o]){n+="/"+r[o];try{ue.mkdir(n,t)}catch(e){if(20!=e.errno)throw e}}},mkdev:function(e,t,r){return void 0===r&&(r=t,t=438),t|=8192,ue.mknod(e,t,r)},symlink:function(e,t){if(!ie.resolve(e))throw new ue.ErrnoError(44);var r=ue.lookupPath(t,{parent:!0}).node;if(!r)throw new ue.ErrnoError(44);var n=ae.basename(t);if(t=ue.mayCreate(r,n))throw new ue.ErrnoError(t);if(!r.node_ops.symlink)throw new ue.ErrnoError(63);return r.node_ops.symlink(r,n,e)},rename:function(e,t){var r=ae.dirname(e),n=ae.dirname(t),o=ae.basename(e),a=ae.basename(t),i=ue.lookupPath(e,{parent:!0}).node,s=ue.lookupPath(t,{parent:!0}).node;if(!i||!s)throw new ue.ErrnoError(44);if(i.mount!==s.mount)throw new ue.ErrnoError(75);var c,u=ue.lookupNode(i,o);if("."!==(n=ie.relative(e,n)).charAt(0))throw new ue.ErrnoError(28);if("."!==(n=ie.relative(t,r)).charAt(0))throw new ue.ErrnoError(55);try{c=ue.lookupNode(s,a)}catch(r){}if(u!==c){if(n=ue.isDir(u.mode),o=ue.mayDelete(i,o,n))throw new ue.ErrnoError(o);if(o=c?ue.mayDelete(s,a,n):ue.mayCreate(s,a))throw new ue.ErrnoError(o);if(!i.node_ops.rename)throw new ue.ErrnoError(63);if(ue.isMountpoint(u)||c&&ue.isMountpoint(c))throw new ue.ErrnoError(10);if(s!==i&&(o=ue.nodePermissions(i,"w")))throw new ue.ErrnoError(o);try{ue.trackingDelegate.willMovePath&&ue.trackingDelegate.willMovePath(e,t)}catch(r){g("FS.trackingDelegate['willMovePath']('"+e+"', '"+t+"') threw an exception: "+r.message)}ue.hashRemoveNode(u);try{i.node_ops.rename(u,s,a)}catch(r){throw r}finally{ue.hashAddNode(u)}try{ue.trackingDelegate.onMovePath&&ue.trackingDelegate.onMovePath(e,t)}catch(r){g("FS.trackingDelegate['onMovePath']('"+e+"', '"+t+"') threw an exception: "+r.message)}}},rmdir:function(e){var t=ue.lookupPath(e,{parent:!0}).node,r=ae.basename(e),n=ue.lookupNode(t,r),o=ue.mayDelete(t,r,!0);if(o)throw new ue.ErrnoError(o);if(!t.node_ops.rmdir)throw new ue.ErrnoError(63);if(ue.isMountpoint(n))throw new ue.ErrnoError(10);try{ue.trackingDelegate.willDeletePath&&ue.trackingDelegate.willDeletePath(e)}catch(t){g("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+t.message)}t.node_ops.rmdir(t,r),ue.destroyNode(n);try{ue.trackingDelegate.onDeletePath&&ue.trackingDelegate.onDeletePath(e)}catch(t){g("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+t.message)}},readdir:function(e){if(!(e=ue.lookupPath(e,{follow:!0}).node).node_ops.readdir)throw new ue.ErrnoError(54);return e.node_ops.readdir(e)},unlink:function(e){var t=ue.lookupPath(e,{parent:!0}).node,r=ae.basename(e),n=ue.lookupNode(t,r),o=ue.mayDelete(t,r,!1);if(o)throw new ue.ErrnoError(o);if(!t.node_ops.unlink)throw new ue.ErrnoError(63);if(ue.isMountpoint(n))throw new ue.ErrnoError(10);try{ue.trackingDelegate.willDeletePath&&ue.trackingDelegate.willDeletePath(e)}catch(t){g("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+t.message)}t.node_ops.unlink(t,r),ue.destroyNode(n);try{ue.trackingDelegate.onDeletePath&&ue.trackingDelegate.onDeletePath(e)}catch(t){g("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+t.message)}},readlink:function(e){if(!(e=ue.lookupPath(e).node))throw new ue.ErrnoError(44);if(!e.node_ops.readlink)throw new ue.ErrnoError(28);return ie.resolve(ue.getPath(e.parent),e.node_ops.readlink(e))},stat:function(e,t){if(!(t=ue.lookupPath(e,{follow:!t}).node))throw new ue.ErrnoError(44);if(!t.node_ops.getattr)throw new ue.ErrnoError(63);return t.node_ops.getattr(t)},lstat:function(e){return ue.stat(e,!0)},chmod:function(e,t,r){if(!(e="string"==typeof e?ue.lookupPath(e,{follow:!r}).node:e).node_ops.setattr)throw new ue.ErrnoError(63);e.node_ops.setattr(e,{mode:4095&t|-4096&e.mode,timestamp:Date.now()})},lchmod:function(e,t){ue.chmod(e,t,!0)},fchmod:function(e,t){if(!(e=ue.getStream(e)))throw new ue.ErrnoError(8);ue.chmod(e.node,t)},chown:function(e,t,r,n){if(!(e="string"==typeof e?ue.lookupPath(e,{follow:!n}).node:e).node_ops.setattr)throw new ue.ErrnoError(63);e.node_ops.setattr(e,{timestamp:Date.now()})},lchown:function(e,t,r){ue.chown(e,t,r,!0)},fchown:function(e,t,r){if(!(e=ue.getStream(e)))throw new ue.ErrnoError(8);ue.chown(e.node,t,r)},truncate:function(e,t){if(t<0)throw new ue.ErrnoError(28);var r;if(!(r="string"==typeof e?ue.lookupPath(e,{follow:!0}).node:e).node_ops.setattr)throw new ue.ErrnoError(63);if(ue.isDir(r.mode))throw new ue.ErrnoError(31);if(!ue.isFile(r.mode))throw new ue.ErrnoError(28);if(e=ue.nodePermissions(r,"w"))throw new ue.ErrnoError(e);r.node_ops.setattr(r,{size:t,timestamp:Date.now()})},ftruncate:function(e,t){if(!(e=ue.getStream(e)))throw new ue.ErrnoError(8);if(0==(2097155&e.flags))throw new ue.ErrnoError(28);ue.truncate(e.node,t)},utime:function(e,t,r){(e=ue.lookupPath(e,{follow:!0}).node).node_ops.setattr(e,{timestamp:Math.max(t,r)})},open:function(e,t,r,n,a){if(""===e)throw new ue.ErrnoError(44);if(r=void 0===r?438:r,r=64&(t="string"==typeof t?ue.modeStringToFlags(t):t)?4095&r|32768:0,"object"==typeof e)i=e;else{e=ae.normalize(e);try{var i=ue.lookupPath(e,{follow:!(131072&t)}).node}catch(t){}}var s,c=!1;if(64&t)if(i){if(128&t)throw new ue.ErrnoError(20)}else i=ue.mknod(e,r,0),c=!0;if(!i)throw new ue.ErrnoError(44);if(ue.isChrdev(i.mode)&&(t&=-513),65536&t&&!ue.isDir(i.mode))throw new ue.ErrnoError(54);if(!c&&(c=ue.mayOpen(i,t)))throw new ue.ErrnoError(c);512&t&&ue.truncate(i,0),t&=-131713,(a=ue.createStream({node:i,path:ue.getPath(i),flags:t,seekable:!0,position:0,stream_ops:i.stream_ops,ungotten:[],error:!1},n,a)).stream_ops.open&&a.stream_ops.open(a),!o.logReadFiles||1&t||(ue.readFiles||(ue.readFiles={}),e in ue.readFiles||(ue.readFiles[e]=1,g("FS.trackingDelegate error on read file: "+e)));try{ue.trackingDelegate.onOpenFile&&(s=0,1!=(2097155&t)&&(s|=ue.tracking.openFlags.READ),0!=(2097155&t)&&(s|=ue.tracking.openFlags.WRITE),ue.trackingDelegate.onOpenFile(e,s))}catch(t){g("FS.trackingDelegate['onOpenFile']('"+e+"', flags) threw an exception: "+t.message)}return a},close:function(e){if(ue.isClosed(e))throw new ue.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(e){throw e}finally{ue.closeStream(e.fd)}e.fd=null},isClosed:function(e){return null===e.fd},llseek:function(e,t,r){if(ue.isClosed(e))throw new ue.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new ue.ErrnoError(70);if(0!=r&&1!=r&&2!=r)throw new ue.ErrnoError(28);return e.position=e.stream_ops.llseek(e,t,r),e.ungotten=[],e.position},read:function(e,t,r,n,o){if(n<0||o<0)throw new ue.ErrnoError(28);if(ue.isClosed(e))throw new ue.ErrnoError(8);if(1==(2097155&e.flags))throw new ue.ErrnoError(8);if(ue.isDir(e.node.mode))throw new ue.ErrnoError(31);if(!e.stream_ops.read)throw new ue.ErrnoError(28);var a=void 0!==o;if(a){if(!e.seekable)throw new ue.ErrnoError(70)}else o=e.position;return o=e.stream_ops.read(e,t,r,n,o),a||(e.position+=o),o},write:function(e,t,r,n,o,a){if(n<0||o<0)throw new ue.ErrnoError(28);if(ue.isClosed(e))throw new ue.ErrnoError(8);if(0==(2097155&e.flags))throw new ue.ErrnoError(8);if(ue.isDir(e.node.mode))throw new ue.ErrnoError(31);if(!e.stream_ops.write)throw new ue.ErrnoError(28);e.seekable&&1024&e.flags&&ue.llseek(e,0,2);var i=void 0!==o;if(i){if(!e.seekable)throw new ue.ErrnoError(70)}else o=e.position;a=e.stream_ops.write(e,t,r,n,o,a),i||(e.position+=a);try{e.path&&ue.trackingDelegate.onWriteToFile&&ue.trackingDelegate.onWriteToFile(e.path)}catch(t){g("FS.trackingDelegate['onWriteToFile']('"+e.path+"') threw an exception: "+t.message)}return a},allocate:function(e,t,r){if(ue.isClosed(e))throw new ue.ErrnoError(8);if(t<0||r<=0)throw new ue.ErrnoError(28);if(0==(2097155&e.flags))throw new ue.ErrnoError(8);if(!ue.isFile(e.node.mode)&&!ue.isDir(e.node.mode))throw new ue.ErrnoError(43);if(!e.stream_ops.allocate)throw new ue.ErrnoError(138);e.stream_ops.allocate(e,t,r)},mmap:function(e,t,r,n,o,a){if(0!=(2&o)&&0==(2&a)&&2!=(2097155&e.flags))throw new ue.ErrnoError(2);if(1==(2097155&e.flags))throw new ue.ErrnoError(2);if(!e.stream_ops.mmap)throw new ue.ErrnoError(43);return e.stream_ops.mmap(e,t,r,n,o,a)},msync:function(e,t,r,n,o){return e&&e.stream_ops.msync?e.stream_ops.msync(e,t,r,n,o):0},munmap:function(e){return 0},ioctl:function(e,t,r){if(!e.stream_ops.ioctl)throw new ue.ErrnoError(59);return e.stream_ops.ioctl(e,t,r)},readFile:function(e,t){if((t=t||{}).flags=t.flags||0,t.encoding=t.encoding||"binary","utf8"!==t.encoding&&"binary"!==t.encoding)throw new Error('Invalid encoding type "'+t.encoding+'"');var r,n=ue.open(e,t.flags),o=ue.stat(e).size;return e=new Uint8Array(o),ue.read(n,e,0,o,0),"utf8"===t.encoding?r=x(e,0):"binary"===t.encoding&&(r=e),ue.close(n),r},writeFile:function(e,t,r){(r=r||{}).flags=r.flags||577;var n=ue.open(e,r.flags,r.mode);if("string"==typeof t){var o=new Uint8Array(T(t)+1);e=P(t,o,0,o.length),ue.write(n,o,0,e,void 0,r.canOwn)}else{if(!ArrayBuffer.isView(t))throw new Error("Unsupported data type");ue.write(n,t,0,t.byteLength,void 0,r.canOwn)}ue.close(n)},cwd:function(){return ue.currentPath},chdir:function(e){var t=ue.lookupPath(e,{follow:!0});if(null===t.node)throw new ue.ErrnoError(44);if(!ue.isDir(t.node.mode))throw new ue.ErrnoError(54);if(e=ue.nodePermissions(t.node,"x"))throw new ue.ErrnoError(e);ue.currentPath=t.path},createDefaultDirectories:function(){ue.mkdir("/tmp"),ue.mkdir("/home"),ue.mkdir("/home/web_user")},createDefaultDevices:function(){ue.mkdir("/dev"),ue.registerDevice(ue.makedev(1,3),{read:function(){return 0},write:function(e,t,r,n,o){return n}}),ue.mkdev("/dev/null",ue.makedev(1,3)),se.register(ue.makedev(5,0),se.default_tty_ops),se.register(ue.makedev(6,0),se.default_tty1_ops),ue.mkdev("/dev/tty",ue.makedev(5,0)),ue.mkdev("/dev/tty1",ue.makedev(6,0));var e=function(){if("object"!=typeof crypto||"function"!=typeof crypto.getRandomValues)return function(){W("randomDevice")};var e=new Uint8Array(1);return function(){return crypto.getRandomValues(e),e[0]}}();ue.createDevice("/dev","random",e),ue.createDevice("/dev","urandom",e),ue.mkdir("/dev/shm"),ue.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){ue.mkdir("/proc"),ue.mkdir("/proc/self"),ue.mkdir("/proc/self/fd"),ue.mount({mount:function(){var e=ue.createNode("/proc/self","fd",16895,73);return e.node_ops={lookup:function(e,t){t=+t;var r=ue.getStream(t);if(!r)throw new ue.ErrnoError(8);return(t={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return r.path}}}).parent=t}},e}},{},"/proc/self/fd")},createStandardStreams:function(){o.stdin?ue.createDevice("/dev","stdin",o.stdin):ue.symlink("/dev/tty","/dev/stdin"),o.stdout?ue.createDevice("/dev","stdout",null,o.stdout):ue.symlink("/dev/tty","/dev/stdout"),o.stderr?ue.createDevice("/dev","stderr",null,o.stderr):ue.symlink("/dev/tty1","/dev/stderr"),ue.open("/dev/stdin",0),ue.open("/dev/stdout",1),ue.open("/dev/stderr",1)},ensureErrnoError:function(){ue.ErrnoError||(ue.ErrnoError=function(e,t){this.node=t,this.setErrno=function(e){this.errno=e},this.setErrno(e),this.message="FS error"},ue.ErrnoError.prototype=new Error,ue.ErrnoError.prototype.constructor=ue.ErrnoError,[44].forEach((function(e){ue.genericErrors[e]=new ue.ErrnoError(e),ue.genericErrors[e].stack="<generic error, no stack>"})))},staticInit:function(){ue.ensureErrnoError(),ue.nameTable=new Array(4096),ue.mount(ce,{},"/"),ue.createDefaultDirectories(),ue.createDefaultDevices(),ue.createSpecialDirectories(),ue.filesystems={MEMFS:ce}},init:function(e,t,r){ue.init.initialized=!0,ue.ensureErrnoError(),o.stdin=e||o.stdin,o.stdout=t||o.stdout,o.stderr=r||o.stderr,ue.createStandardStreams()},quit:function(){ue.init.initialized=!1;var e=o._fflush;e&&e(0);for(var t=0;t<ue.streams.length;t++){var r=ue.streams[t];r&&ue.close(r)}},getMode:function(e,t){var r=0;return e&&(r|=365),t&&(r|=146),r},findObject:function(e,t){return(t=ue.analyzePath(e,t)).exists?t.object:null},analyzePath:function(e,t){try{e=(n=ue.lookupPath(e,{follow:!t})).path}catch(e){}var r={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var n=ue.lookupPath(e,{parent:!0});r.parentExists=!0,r.parentPath=n.path,r.parentObject=n.node,r.name=ae.basename(e),n=ue.lookupPath(e,{follow:!t}),r.exists=!0,r.path=n.path,r.object=n.node,r.name=n.node.name,r.isRoot="/"===n.path}catch(e){r.error=e.errno}return r},createPath:function(e,t,r,n){e="string"==typeof e?e:ue.getPath(e);for(var o=t.split("/").reverse();o.length;){var a=o.pop();if(a){var i=ae.join2(e,a);try{ue.mkdir(i)}catch(e){}e=i}}return i},createFile:function(e,t,r,n,o){return t=ae.join2("string"==typeof e?e:ue.getPath(e),t),o=ue.getMode(n,o),ue.create(t,o)},createDataFile:function(e,t,r,n,o,a){if(e=t?ae.join2("string"==typeof e?e:ue.getPath(e),t):e,n=ue.getMode(n,o),o=ue.create(e,n),r){if("string"==typeof r){for(var i=new Array(r.length),s=0,c=r.length;s<c;++s)i[s]=r.charCodeAt(s);r=i}ue.chmod(o,146|n),e=ue.open(o,577),ue.write(e,r,0,r.length,0,a),ue.close(e),ue.chmod(o,n)}return o},createDevice:function(e,t,r,n){var o=ae.join2("string"==typeof e?e:ue.getPath(e),t);return e=ue.getMode(!!r,!!n),ue.createDevice.major||(ue.createDevice.major=64),t=ue.makedev(ue.createDevice.major++,0),ue.registerDevice(t,{open:function(e){e.seekable=!1},close:function(e){n&&n.buffer&&n.buffer.length&&n(10)},read:function(e,t,n,o,a){for(var i,s=0,c=0;c<o;c++){try{i=r()}catch(e){throw new ue.ErrnoError(29)}if(void 0===i&&0===s)throw new ue.ErrnoError(6);if(null==i)break;s++,t[n+c]=i}return s&&(e.node.timestamp=Date.now()),s},write:function(e,t,r,o,a){for(var i=0;i<o;i++)try{n(t[r+i])}catch(e){throw new ue.ErrnoError(29)}return o&&(e.node.timestamp=Date.now()),i}}),ue.mkdev(o,e,t)},forceLoadFile:function(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!s)throw new Error("Cannot load without read() or XMLHttpRequest.");try{e.contents=he(s(e.url),!0),e.usedBytes=e.contents.length}catch(e){throw new ue.ErrnoError(29)}},createLazyFile:function(e,t,r,n,o){function a(){this.lengthKnown=!1,this.chunks=[]}var i;if(a.prototype.get=function(e){if(!(e>this.length-1||e<0)){var t=e%this.chunkSize;return e=e/this.chunkSize|0,this.getter(e)[t]}},a.prototype.setDataGetter=function(e){this.getter=e},a.prototype.cacheLength=function(){var e=new XMLHttpRequest;if(e.open("HEAD",r,!1),e.send(null),!(200<=e.status&&e.status<300||304===e.status))throw new Error("Couldn't load "+r+". Status: "+e.status);var t=Number(e.getResponseHeader("Content-length")),n=(o=e.getResponseHeader("Accept-Ranges"))&&"bytes"===o,o=(o=e.getResponseHeader("Content-Encoding"))&&"gzip"===o,a=1048576;n||(a=t);var i=this;i.setDataGetter((function(e){var n=e*a,o=(e+1)*a-1;if(o=Math.min(o,t-1),void 0===i.chunks[e]&&(i.chunks[e]=function(e,n){if(n<e)throw new Error("invalid range ("+e+", "+n+") or no bytes requested!");if(t-1<n)throw new Error("only "+t+" bytes available! programmer error!");var o=new XMLHttpRequest;if(o.open("GET",r,!1),t!==a&&o.setRequestHeader("Range","bytes="+e+"-"+n),"undefined"!=typeof Uint8Array&&(o.responseType="arraybuffer"),o.overrideMimeType&&o.overrideMimeType("text/plain; charset=x-user-defined"),o.send(null),!(200<=o.status&&o.status<300||304===o.status))throw new Error("Couldn't load "+r+". Status: "+o.status);return void 0!==o.response?new Uint8Array(o.response||[]):he(o.responseText||"",!0)}(n,o)),void 0===i.chunks[e])throw new Error("doXHR failed!");return i.chunks[e]})),!o&&t||(a=t=1,t=this.getter(0).length,a=t,m("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=t,this._chunkSize=a,this.lengthKnown=!0},"undefined"!=typeof XMLHttpRequest)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";i={isDevice:!1,url:r};var s=ue.createFile(e,t,i,n,o);i.contents?s.contents=i.contents:i.url&&(s.contents=null,s.url=i.url),Object.defineProperties(s,{usedBytes:{get:function(){return this.contents.length}}});var c={};return Object.keys(s.stream_ops).forEach((function(e){var t=s.stream_ops[e];c[e]=function(){return ue.forceLoadFile(s),t.apply(null,arguments)}})),c.read=function(e,t,r,n,o){ue.forceLoadFile(s);var a=e.node.contents;if(o>=a.length)return 0;var i=Math.min(a.length-o,n);if(a.slice)for(var c=0;c<i;c++)t[r+c]=a[o+c];else for(c=0;c<i;c++)t[r+c]=a.get(o+c);return i},s.stream_ops=c,s},createPreloadedFile:function(e,t,r,n,a,i,s,c,u,l){Browser.init();var f=t?ie.resolve(ae.join2(e,t)):e;function d(r){function d(r){l&&l(),c||ue.createDataFile(e,t,r,n,a,u),i&&i(),z()}var p=!1;o.preloadPlugins.forEach((function(e){p||e.canHandle(f)&&(e.handle(r,f,d,(function(){s&&s(),z()})),p=!0)})),p||d(r)}U(),"string"==typeof r?Browser.asyncLoad(r,(function(e){d(e)}),s):d(r)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(e,t,r){t=t||function(){},r=r||function(){};var n=ue.indexedDB();try{var o=n.open(ue.DB_NAME(),ue.DB_VERSION)}catch(n){return r(n)}o.onupgradeneeded=function(){m("creating db"),o.result.createObjectStore(ue.DB_STORE_NAME)},o.onsuccess=function(){var n=o.result.transaction([ue.DB_STORE_NAME],"readwrite"),a=n.objectStore(ue.DB_STORE_NAME),i=0,s=0,c=e.length;function u(){(0==s?t:r)()}e.forEach((function(e){(e=a.put(ue.analyzePath(e).object.contents,e)).onsuccess=function(){++i+s==c&&u()},e.onerror=function(){i+ ++s==c&&u()}})),n.onerror=r},o.onerror=r},loadFilesFromDB:function(e,t,r){t=t||function(){},r=r||function(){};var n=ue.indexedDB();try{var o=n.open(ue.DB_NAME(),ue.DB_VERSION)}catch(n){return r(n)}o.onupgradeneeded=r,o.onsuccess=function(){var n=o.result;try{var a=n.transaction([ue.DB_STORE_NAME],"readonly")}catch(n){return void r(n)}var i=a.objectStore(ue.DB_STORE_NAME),s=0,c=0,u=e.length;function l(){(0==c?t:r)()}e.forEach((function(e){var t=i.get(e);t.onsuccess=function(){ue.analyzePath(e).exists&&ue.unlink(e),ue.createDataFile(ae.dirname(e),ae.basename(e),t.result,!0,!0,!0),++s+c==u&&l()},t.onerror=function(){s+ ++c==u&&l()}})),a.onerror=r},o.onerror=r}},le={mappings:{},DEFAULT_POLLMASK:5,umask:511,calculateAt:function(e,t){if("/"!==t[0]){var r;if(-100===e)r=ue.cwd();else{if(!(e=ue.getStream(e)))throw new ue.ErrnoError(8);r=e.path}t=ae.join2(r,t)}return t},doStat:function(e,t,r){try{var n=e(t)}catch(e){if(e&&e.node&&ae.normalize(t)!==ae.normalize(ue.getPath(e.node)))return-54;throw e}return S[r>>2]=n.dev,S[r+4>>2]=0,S[r+8>>2]=n.ino,S[r+12>>2]=n.mode,S[r+16>>2]=n.nlink,S[r+20>>2]=n.uid,S[r+24>>2]=n.gid,S[r+28>>2]=n.rdev,S[r+32>>2]=0,V=[n.size>>>0,(G=n.size,1<=+Math.abs(G)?0<G?(0|Math.min(+Math.floor(G/4294967296),4294967295))>>>0:~~+Math.ceil((G-(~~G>>>0))/4294967296)>>>0:0)],S[r+40>>2]=V[0],S[r+44>>2]=V[1],S[r+48>>2]=4096,S[r+52>>2]=n.blocks,S[r+56>>2]=n.atime.getTime()/1e3|0,S[r+60>>2]=0,S[r+64>>2]=n.mtime.getTime()/1e3|0,S[r+68>>2]=0,S[r+72>>2]=n.ctime.getTime()/1e3|0,S[r+76>>2]=0,V=[n.ino>>>0,(G=n.ino,1<=+Math.abs(G)?0<G?(0|Math.min(+Math.floor(G/4294967296),4294967295))>>>0:~~+Math.ceil((G-(~~G>>>0))/4294967296)>>>0:0)],S[r+80>>2]=V[0],S[r+84>>2]=V[1],0},doMsync:function(e,t,r,n,o){e=k.slice(e,e+r),ue.msync(t,e,o,r,n)},doMkdir:function(e,t){return"/"===(e=ae.normalize(e))[e.length-1]&&(e=e.substr(0,e.length-1)),ue.mkdir(e,t,0),0},doMknod:function(e,t,r){switch(61440&t){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-28}return ue.mknod(e,t,r),0},doReadlink:function(e,t,r){if(r<=0)return-28;var n=ue.readlink(e),o=Math.min(r,T(n));return e=_[t+o],F(n,t,r+1),_[t+o]=e,o},doAccess:function(e,t){if(-8&t)return-28;var r=ue.lookupPath(e,{follow:!0}).node;return r?(e="",4&t&&(e+="r"),2&t&&(e+="w"),1&t&&(e+="x"),e&&ue.nodePermissions(r,e)?-2:0):-44},doDup:function(e,t,r){var n=ue.getStream(r);return n&&ue.close(n),ue.open(e,t,0,r,r).fd},doReadv:function(e,t,r,n){for(var o=0,a=0;a<r;a++){var i=S[t+8*a>>2],s=S[t+(8*a+4)>>2];if((i=ue.read(e,_,i,s,n))<0)return-1;if(o+=i,i<s)break}return o},doWritev:function(e,t,r,n){for(var o=0,a=0;a<r;a++){var i=S[t+8*a>>2],s=S[t+(8*a+4)>>2];if((s=ue.write(e,_,i,s,n))<0)return-1;o+=s}return o},varargs:void 0,get:function(){return le.varargs+=4,S[le.varargs-4>>2]},getStr:function(e){return A(e)},getStreamFromFD:function(e){if(!(e=ue.getStream(e)))throw new ue.ErrnoError(8);return e},get64:function(e,t){return e}};oe=function(){return performance.now()};var fe={};function de(){if(!de.strings){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:l||"./this.program"};for(t in fe)e[t]=fe[t];var t,r=[];for(t in e)r.push(t+"="+e[t]);de.strings=r}return de.strings}function pe(e,t,r,n){e=e||this,this.parent=e,this.mount=e.mount,this.mounted=null,this.id=ue.nextInode++,this.name=t,this.mode=r,this.node_ops={},this.stream_ops={},this.rdev=n}function he(e,t,r){return r=0<r?r:T(e)+1,e=P(e,r=new Array(r),0,r.length),t&&(r.length=e),r}Object.defineProperties(pe.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(e){e?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(e){e?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return ue.isDir(this.mode)}},isDevice:{get:function(){return ue.isChrdev(this.mode)}}}),ue.FSNode=pe,ue.staticInit(),o.FS_createPath=ue.createPath,o.FS_createDataFile=ue.createDataFile,o.FS_createPreloadedFile=ue.createPreloadedFile,o.FS_createLazyFile=ue.createLazyFile,o.FS_createDevice=ue.createDevice,o.FS_unlink=ue.unlink,M.push({func:function(){ye()}});var me,ge={j:function(e){return we(e+te)+te},h:function(e,t,r){throw new re(e).init(t,r),e},w:function(e,t){try{var r=le.getStreamFromFD(e);return le.doStat(ue.stat,r.path,t)}catch(e){return void 0!==ue&&e instanceof ue.ErrnoError||W(e),-e.errno}},u:function(e,t,r,n,o,a){try{return function(e,t,r,n,o,a){a<<=12;var i=!1;if(0!=(16&n)&&e%16384!=0)return-28;if(0!=(32&n)){if(!(c=De(16384,t)))return-48;ve(c,0,t),i=!0}else{var s=ue.getStream(o);if(!s)return-8;var c=(e=ue.mmap(s,e,t,a,r,n)).ptr;i=e.allocated}return le.mappings[c]={malloc:c,len:t,allocated:i,fd:o,prot:r,flags:n,offset:a},c}(e,t,r,n,o,a)}catch(e){return void 0!==ue&&e instanceof ue.ErrnoError||W(e),-e.errno}},t:function(e,t){try{return function(e,t){if(-1==(0|e)||0===t)return-28;var r,n=le.mappings[e];return n&&t===n.len&&(r=ue.getStream(n.fd),2&n.prot&&le.doMsync(e,r,t,n.flags,n.offset),ue.munmap(r),le.mappings[e]=null,n.allocated&&Ee(n.malloc)),0}(e,t)}catch(e){return void 0!==ue&&e instanceof ue.ErrnoError||W(e),-e.errno}},y:function(e,t,r){le.varargs=r;try{var n=le.getStr(e),o=le.get();return ue.open(n,t,o).fd}catch(e){return void 0!==ue&&e instanceof ue.ErrnoError||W(e),-e.errno}},v:function(e,t){try{return e=le.getStr(e),le.doStat(ue.stat,e,t)}catch(e){return void 0!==ue&&e instanceof ue.ErrnoError||W(e),-e.errno}},a:function(){W()},p:function(e,t){var r;if(0===e)r=Date.now();else{if(1!==e&&4!==e)return ne(28),-1;r=oe()}return S[t>>2]=r/1e3|0,S[t+4>>2]=r%1e3*1e3*1e3|0,0},k:function(e,t){W("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},f:function(e,t){W("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},m:function(e,t,r){k.copyWithin(e,t,t+r)},n:function(e){W("OOM")},o:function(e){for(var t=oe();oe()-t<e;);},r:function(t,r){try{var n=0;return de().forEach((function(e,o){var a=r+n;(function(e,t,r){for(var n=0;n<e.length;++n)_[t++>>0]=e.charCodeAt(n);_[t>>0]=0})(e,S[t+4*o>>2]=a),n+=e.length+1})),0}catch(e){return void 0!==ue&&e instanceof ue.ErrnoError||W(e),e.errno}},s:function(e,t){try{var r=de();S[e>>2]=r.length;var n=0;return r.forEach((function(e){n+=e.length+1})),S[t>>2]=n,0}catch(e){return void 0!==ue&&e instanceof ue.ErrnoError||W(e),e.errno}},e:function(e){Pe(e)},i:function(e){try{var t=le.getStreamFromFD(e);return ue.close(t),0}catch(e){return void 0!==ue&&e instanceof ue.ErrnoError||W(e),e.errno}},q:function(e,t){try{var r=(r=le.getStreamFromFD(e)).tty?2:ue.isDir(r.mode)?3:ue.isLink(r.mode)?7:4;return _[t>>0]=r,0}catch(e){return void 0!==ue&&e instanceof ue.ErrnoError||W(e),e.errno}},x:function(e,t,r,n){try{var o=le.getStreamFromFD(e);return o=le.doReadv(o,t,r),S[n>>2]=o,0}catch(e){return void 0!==ue&&e instanceof ue.ErrnoError||W(e),e.errno}},l:function(e,t,r,n,o){try{var a=le.getStreamFromFD(e),i=4294967296*r+(t>>>0),s=9007199254740992;return i<=-s||s<=i?-61:(ue.llseek(a,i,n),V=[a.position>>>0,(G=a.position,1<=+Math.abs(G)?0<G?(0|Math.min(+Math.floor(G/4294967296),4294967295))>>>0:~~+Math.ceil((G-(~~G>>>0))/4294967296)>>>0:0)],S[o>>2]=V[0],S[o+4>>2]=V[1],a.getdents&&0==i&&0===n&&(a.getdents=null),0)}catch(e){return void 0!==ue&&e instanceof ue.ErrnoError||W(e),e.errno}},c:function(e,t,r,n){try{var o=le.getStreamFromFD(e);return o=le.doWritev(o,t,r),S[n>>2]=o,0}catch(e){return void 0!==ue&&e instanceof ue.ErrnoError||W(e),e.errno}},d:function(){return 6},g:function(){return 28},b:function(e){switch(e){case 30:return 16384;case 85:return k.length/16384;case 132:case 133:case 12:case 137:case 138:case 15:case 235:case 16:case 17:case 18:case 19:case 20:case 149:case 13:case 10:case 236:case 153:case 9:case 21:case 22:case 159:case 154:case 14:case 77:case 78:case 139:case 80:case 81:case 82:case 68:case 67:case 164:case 11:case 29:case 47:case 48:case 95:case 52:case 51:case 46:case 79:return 200809;case 27:case 246:case 127:case 128:case 23:case 24:case 160:case 161:case 181:case 182:case 242:case 183:case 184:case 243:case 244:case 245:case 165:case 178:case 179:case 49:case 50:case 168:case 169:case 175:case 170:case 171:case 172:case 97:case 76:case 32:case 173:case 35:return-1;case 176:case 177:case 7:case 155:case 8:case 157:case 125:case 126:case 92:case 93:case 129:case 130:case 131:case 94:case 91:return 1;case 74:case 60:case 69:case 70:case 4:return 1024;case 31:case 42:case 72:return 32;case 87:case 26:case 33:return 2147483647;case 34:case 1:return 47839;case 38:case 36:return 99;case 43:case 37:return 2048;case 0:return 2097152;case 3:return 65536;case 28:return 32768;case 44:return 32767;case 75:return 16384;case 39:return 1e3;case 89:return 700;case 71:return 256;case 40:return 255;case 2:return 100;case 180:return 64;case 25:return 20;case 5:return 16;case 6:return 6;case 73:return 4;case 84:return"object"==typeof navigator&&navigator.hardwareConcurrency||1}return ne(28),-1}},ye=(function(){var t={a:ge};function r(e,t){e=e.exports,o.asm=e,e=o.asm.z.buffer,b=e,o.HEAP8=_=new Int8Array(e),o.HEAP16=new Int16Array(e),o.HEAP32=S=new Int32Array(e),o.HEAPU8=k=new Uint8Array(e),o.HEAPU16=new Uint16Array(e),o.HEAPU32=new Uint32Array(e),o.HEAPF32=new Float32Array(e),o.HEAPF64=new Float64Array(e),O=o.asm.A,z()}function a(e){r(e.instance)}function i(e){return(p||"function"!=typeof fetch?Promise.resolve().then($):fetch(X,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+X+"'";return e.arrayBuffer()})).catch($)).then((function(e){return WebAssembly.instantiate(e,t)})).then(e,(function(e){g("failed to asynchronously prepare wasm: "+e),W(e)}))}if(U(),o.instantiateWasm)try{return o.instantiateWasm(t,r)}catch(e){return g("Module.instantiateWasm callback failed with error: "+e)}(p||"function"!=typeof WebAssembly.instantiateStreaming||H(X)||"function"!=typeof fetch?i(a):fetch(X,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,t).then(a,(function(e){return g("wasm streaming compile failed: "+e),g("falling back to ArrayBuffer instantiation"),i(a)}))}))).catch(n)}(),o.___wasm_call_ctors=function(){return(ye=o.___wasm_call_ctors=o.asm.B).apply(null,arguments)}),ve=(o._run_inference=function(){return(o._run_inference=o.asm.C).apply(null,arguments)},o._load_model=function(){return(o._load_model=o.asm.D).apply(null,arguments)},o._main=function(){return(o._main=o.asm.E).apply(null,arguments)},o._memset=function(){return(ve=o._memset=o.asm.F).apply(null,arguments)}),we=o._malloc=function(){return(we=o._malloc=o.asm.G).apply(null,arguments)},Ee=o._free=function(){return(Ee=o._free=o.asm.H).apply(null,arguments)},be=o.___errno_location=function(){return(be=o.___errno_location=o.asm.I).apply(null,arguments)},_e=o.stackSave=function(){return(_e=o.stackSave=o.asm.J).apply(null,arguments)},ke=o.stackRestore=function(){return(ke=o.stackRestore=o.asm.K).apply(null,arguments)},Se=o.stackAlloc=function(){return(Se=o.stackAlloc=o.asm.L).apply(null,arguments)},De=o._memalign=function(){return(De=o._memalign=o.asm.M).apply(null,arguments)};function xe(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function Ae(e){function t(){me||(me=!0,o.calledRun=!0,y||(o.noFSInit||ue.init.initialized||ue.init(),se.init(),K(M),ue.ignorePermissions=!1,K(I),r(o),o.onRuntimeInitialized&&o.onRuntimeInitialized(),Fe&&function(e){var t=o._main,r=(e=e||[]).length+1,n=Se(4*(r+1));S[n>>2]=R(l);for(var a=1;a<r;a++)S[(n>>2)+a]=R(e[a-1]);S[(n>>2)+r]=0;try{Pe(t(r,n),!0)}catch(e){if(e instanceof xe)return;if("unwind"==e)return h=!0;var i=e;e&&"object"==typeof e&&e.stack&&(i=[e,e.stack]),g("exception thrown: "+i),f(1,e)}}(e),function(){if(o.postRun)for("function"==typeof o.postRun&&(o.postRun=[o.postRun]);o.postRun.length;)e=o.postRun.shift(),B.unshift(e);var e;K(B)}()))}e=e||u,0<N||(function(){if(o.preRun)for("function"==typeof o.preRun&&(o.preRun=[o.preRun]);o.preRun.length;)e=o.preRun.shift(),j.unshift(e);var e;K(j)}(),0<N||(o.setStatus?(o.setStatus("Running..."),setTimeout((function(){setTimeout((function(){o.setStatus("")}),1),t()}),1)):t()))}function Pe(e,t){t&&h&&0===e||(h||(o.onExit&&o.onExit(e),y=!0),f(e,new xe(e)))}if(o.cwrap=function(e,t,r,n){var o=(r=r||[]).every((function(e){return"number"===e}));return"string"!==t&&o&&!n?w(e):function(){return E(e,t,r,arguments)}},o.addRunDependency=U,o.removeRunDependency=z,o.FS_createPath=ue.createPath,o.FS_createDataFile=ue.createDataFile,o.FS_createPreloadedFile=ue.createPreloadedFile,o.FS_createLazyFile=ue.createLazyFile,o.FS_createDevice=ue.createDevice,o.FS_unlink=ue.unlink,C=function e(){me||Ae(),me||(C=e)},o.run=Ae,o.preInit)for("function"==typeof o.preInit&&(o.preInit=[o.preInit]);0<o.preInit.length;)o.preInit.pop()();var Fe=!0;return o.noInitialRun&&(Fe=!1),h=!0,Ae(),e.ready});e.exports=r}},n={},e.d=function(t,r){for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var t;e.g.importScripts&&(t=e.g.location+"");var r=e.g.document;if(!t&&r&&((t=r.currentScript?r.currentScript.src:t)||(r=r.getElementsByTagName("script")).length&&(t=r[r.length-1].src)),!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t}(),e(3607);function e(t){if(n[t])return n[t].exports;var o=n[t]={exports:{}};return r[t].call(o.exports,o,o.exports,e),o.exports}var r,n}()}).call(this,r(7))},function(e,t,r){},function(e,t,r){"use strict";r.r(t);var n=r(0),o=r.n(n),a=r(8),i=r.n(a),s=(r(14),r(1)),c=r(3),u=r.n(c),l=r(2),f=r.n(l),d=r(4),p=r(5);var h=function(e){var t=Object(n.useRef)(null);return Object(n.useEffect)((function(){var r;if(t.current)return null===(r=e.videoTrack)||void 0===r||r.play(t.current),function(){var t;null===(t=e.videoTrack)||void 0===t||t.stop()}}),[t,e.videoTrack]),Object(n.useEffect)((function(){var t;return null===(t=e.audioTrack)||void 0===t||t.play(),function(){var t;null===(t=e.audioTrack)||void 0===t||t.stop()}}),[e.audioTrack]),o.a.createElement("div",{ref:t,className:"video-player",style:{width:"640px",height:"360px"}})},m=(r(18),u.a.createClient({codec:"h264",mode:"rtc"}));var g=function(){var e=function(e){var t=window.location.search,r=new URLSearchParams(t).get(e);return r||""},t=Object(n.useState)(e("appid")),r=Object(s.a)(t,2),a=r[0],i=r[1],c=Object(n.useState)(e("token")),l=Object(s.a)(c,2),g=l[0],y=l[1],v=Object(n.useState)(e("channel")),w=Object(s.a)(v,2),E=w[0],b=w[1],_=function(e){var t=Object(n.useState)(void 0),r=Object(s.a)(t,2),o=r[0],a=r[1],i=Object(n.useState)(void 0),c=Object(s.a)(i,2),l=c[0],h=c[1],m=Object(n.useRef)(document.createElement("video")),g=Object(n.useRef)(p.TfLite.getInstance()),y=Object(n.useRef)(),v=Object(n.useState)(!1),w=Object(s.a)(v,2),E=w[0],b=w[1],_=Object(n.useState)([]),k=Object(s.a)(_,2),S=k[0],D=k[1],x=Object(n.useCallback)((function(e){var t=performance.now();g.current.process(m.current,!1,m.current.videoWidth,m.current.videoHeight),g.current.render();var r=performance.now()-t;y.current=window.setTimeout(x,Math.max(0,e-r),e)}),[]);function A(e,t){return P.apply(this,arguments)}function P(){return(P=Object(d.a)(f.a.mark((function e(t,r){var n,o,i,s,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.createMicrophoneAudioTrack(t);case 2:return n=e.sent,h(n),o=15,e.next=7,navigator.mediaDevices.getUserMedia({video:{frameRate:o,width:640,height:360}});case 7:return i=e.sent,m.current.autoplay=!0,m.current.onloadedmetadata=function(){g.current.canvas.width=m.current.videoWidth,g.current.canvas.height=m.current.videoHeight,x(1e3/o)},m.current.srcObject=i,s=g.current.canvas.captureStream(),e.next=14,u.a.createCustomVideoTrack({mediaStreamTrack:s.getVideoTracks()[0]});case 14:return c=e.sent,a(c),e.abrupt("return",[n,c]);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(){return(F=Object(d.a)(f.a.mark((function t(r,n,o,a){var i,c,u,l;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,A();case 4:return i=t.sent,c=Object(s.a)(i,2),u=c[0],l=c[1],t.next=10,e.join(r,n,o||null);case 10:return t.next=12,e.publish([u,l]);case 12:window.client=e,window.videoTrack=l,b(!0);case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function T(){return(T=Object(d.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return clearTimeout(y.current),l&&(l.stop(),l.close()),o&&(o.stop(),o.close()),m.current&&m.current.srcObject.getTracks().forEach((function(e){e.stop()})),D([]),b(!1),t.next=8,null===e||void 0===e?void 0:e.leave();case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(n.useEffect)((function(){if(e){D(e.remoteUsers);var t=function(){var t=Object(d.a)(f.a.mark((function t(r,n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.subscribe(r,n);case 2:D((function(t){return Array.from(e.remoteUsers)}));case 3:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),r=function(t){D((function(t){return Array.from(e.remoteUsers)}))},n=function(t){D((function(t){return Array.from(e.remoteUsers)}))},o=function(t){D((function(t){return Array.from(e.remoteUsers)}))};return e.on("user-published",t),e.on("user-unpublished",r),e.on("user-joined",n),e.on("user-left",o),function(){e.off("user-published",t),e.off("user-unpublished",r),e.off("user-joined",n),e.off("user-left",o)}}}),[e]),{localAudioTrack:l,localVideoTrack:o,joinState:E,leave:function(){return T.apply(this,arguments)},join:function(e,t,r,n){return F.apply(this,arguments)},changeBkg:function(e){if(g.current.blurBackground="blur"===e,"blur"!==e)if("black"===e)g.current.setBackground(p.TfLite.TRANSPARENT);else{g.current.blurBackground=!1;var t=new Image;t.onload=function(){g.current.setBackground(t)},t.src=e}},remoteUsers:S}}(m),k=_.localVideoTrack,S=_.leave,D=_.join,x=_.changeBkg,A=_.joinState,P=_.remoteUsers;return o.a.createElement("div",{className:"call"},o.a.createElement("form",{className:"call-form"},o.a.createElement("label",null,"AppID:",o.a.createElement("input",{type:"text",name:"appid",value:a,onChange:function(e){i(e.target.value)}})),o.a.createElement("label",null,"Token(Optional):",o.a.createElement("input",{type:"text",name:"token",value:g,onChange:function(e){y(e.target.value)}})),o.a.createElement("label",null,"Channel:",o.a.createElement("input",{type:"text",name:"channel",value:E,onChange:function(e){b(e.target.value)}})),o.a.createElement("div",null,"Background:",o.a.createElement("select",{name:"custom_bkg",id:"custom_bkg",defaultValue:"black",onChange:function(e){x(e.target.value)}},o.a.createElement("option",{value:"black"},"Black"),o.a.createElement("option",{value:"blur"},"Blur"),o.a.createElement("option",{value:"./images/V-CUBE.png"},"V-CUBE"),o.a.createElement("option",{value:"./images/bg_library.jpg"},"Library"),o.a.createElement("option",{value:"./images/bg_office.jpg"},"Office"),o.a.createElement("option",{value:"./images/bg_beach.jpeg"},"Beach"),o.a.createElement("option",{value:"./images/ems_country_cover_17.jpg"},"Nature"))),o.a.createElement("div",{className:"button-group"},o.a.createElement("button",{id:"join",type:"button",className:"btn btn-primary btn-sm",disabled:A,onClick:function(){D(a,E,g)}},"Join"),o.a.createElement("button",{id:"leave",type:"button",className:"btn btn-primary btn-sm",disabled:!A,onClick:function(){S()}},"Leave"))),o.a.createElement("div",{className:"player-container"},o.a.createElement("div",{className:"local-player-wrapper"},o.a.createElement("p",{className:"local-player-text"},k&&"localTrack",A&&k?"(".concat(m.uid,")"):""),o.a.createElement(h,{videoTrack:k,audioTrack:void 0})),P.map((function(e){return o.a.createElement("div",{className:"remote-player-wrapper",key:e.uid},o.a.createElement("p",{className:"remote-player-text"},"remoteVideo(".concat(e.uid,")")),o.a.createElement(h,{videoTrack:e.videoTrack,audioTrack:e.audioTrack}))}))))};i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(g,null)),document.getElementById("root"))}],[[9,1,2]]]);
//# sourceMappingURL=main.e4feacfa.chunk.js.map
(()=>{var t={221:function(e,r,t){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,r,t,n){void 0===n&&(n=t),Object.defineProperty(e,n,{enumerable:!0,get:function(){return r[t]}})}:function(e,r,t,n){e[n=void 0===n?t:n]=r[t]}),o=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)"default"!==t&&Object.prototype.hasOwnProperty.call(e,t)&&n(r,e,t);return o(r,e),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});var s=a(t(618)),u=i(t(707)),c=i(t(349)),l=i(t(931)),f=i(t(641)),t=(d.getWidth=function(e){return(e=void 0===e?!1:e)?160:256},d.getHeight=function(e){return(e=void 0===e?!1:e)?96:144},d.getModelId=function(e){switch(void 0===e&&(e=!1),d.getWidth(e)){case 192:return"segm_full_v491.tflite";case 128:return"segm_lite_v509.tflite";case 256:return"segm_full_sparse_v1008.tflite";case 160:return"segm_lite_v1082.tflite"}},d.prototype.isInitDone=function(){return null!=this.loadModel&&null!=this.runInference},d.prototype.runInference=function(e){if(!(e.width===d.getWidth()&&e.height===d.getHeight()||e.width===d.getWidth(!0)&&e.height===d.getHeight(!0)))throw new Error("TfLiteWasm process imageData must be "+d.getWidth()+"x"+d.getHeight()+" or "+d.getWidth(!0)+"x"+d.getHeight(!0));return this.width===e.width&&this.height===e.height||(this.width=e.width,this.height=e.height,this.loadModel(d.getModelId(this.width===d.getWidth(!0)),this.threads)),this.instance.HEAPU8.set(e.data,this.offset),this.runInferenceWasm(this.offset,this.width*this.height*4),this.instance.HEAPU8.slice(this.offset,this.offset+this.width*this.height*4)},d.prototype.prepareLiteModel=function(){var r=this;return 0<this.liteModelProgress?2<=this.liteModelProgress:(this.liteModelProgress=1,fetch(this.instance.locateFile(d.getModelId(!0))).then(function(e){return e.arrayBuffer()}).then(function(e){r.instance.FS_createDataFile("/",d.getModelId(!0),new Uint8Array(e),!0,!0),r.liteModelProgress=2}).catch(function(e){console.error(e),r.liteModelProgress=0}),!1)},d);function d(t,e,n){var a=this;this.offset=0,this.runInferenceWasm=null,this.loadModel=null,this.width=d.getWidth(),this.height=d.getHeight(),this.liteModelProgress=0,this.tfLiteWasmInit=function(r,e){a.instance=r,a.offset=r._malloc(a.width*a.height*4),a.runInferenceWasm=r.cwrap("run_inference","void",["number","number"]),a.loadModel=r.cwrap("load_model","int",["string","number"]);function t(){a.loadModel(d.getModelId(),a.threads),e()}var n=1;if(fetch(r.locateFile(d.getModelId())).then(function(e){return e.arrayBuffer()}).then(function(e){r.FS_createDataFile("/",d.getModelId(),new Uint8Array(e),!0,!0),--n||t()}),r.PThread&&1<a.threads){for(var o=0;o<a.threads-1;o++)r.PThread.allocateUnusedWorker();n+=r.PThread.unusedWorkers.length,r.PThread.unusedWorkers.forEach(function(e){r.PThread.loadWasmModuleToWorker(e,function(){--n||t()})})}else 0==n&&t()},this.threads=e,this.initDone=new Promise(function(r){try{if(!s.feature.simd)throw new Error("NO Wasm SIMD feature");try{if(!(s.feature.threads&&"function"==typeof SharedArrayBuffer&&1<a.threads))throw new Error("NO Wasm threads feature or threads is not requested");f.default({mainScriptUrlOrBlob:"./tflite-wasm-thread-simd.js",locateFile:n}).then(function(e){return a.tfLiteWasmInit(e,r)})}catch(e){a.threads=0,l.default({mainScriptUrlOrBlob:"./tflite-wasm-simd.js",locateFile:n}).then(function(e){return a.tfLiteWasmInit(e,r)})}}catch(e){try{if(a.threads=t,!(s.feature.threads&&"function"==typeof SharedArrayBuffer&&1<a.threads))throw new Error("NO Wasm threads feature or threads is not requested");u.default({mainScriptUrlOrBlob:"./tflite-wasm-thread.js",locateFile:n}).then(function(e){return a.tfLiteWasmInit(e,r)})}catch(e){a.threads=0,c.default({mainScriptUrlOrBlob:"./tflite-wasm.js",locateFile:n}).then(function(e){return a.tfLiteWasmInit(e,r)})}}})}r.default=t},618:e=>{"use strict";function r(e,r){if(!l)return!1;var t=e.buffer;let n=d.get(t);if(null==n){if((n=o.validate(t))&&r)try{new o.Instance(new o.Module(t)).exports[0]()}catch(e){n=!1}d.set(t,n)}return n}const o=WebAssembly,t=(...e)=>Uint8Array.of(0,97,115,109,1,0,0,0,...e),n=(...e)=>Uint32Array.of(1836278016,1,...e),a=(...e)=>t(1,4,1,96,0,0,3,2,1,0,...e,11,0,10,4,110,97,109,101,2,3,1,0,0),i=(...e)=>Uint16Array.of(24832,28019,1,0,1025,24577,0,515,1,...e),s=(...e)=>n(1610679297,33751040,...e,40239360,259),u=(...e)=>i(...e,2842,4096,28164,28001,357,260,256,560,259,0),c=(...e)=>i(...e,2560,28164,28001,613,259,0),l="object"==typeof o,f=e=>l&&"function"==typeof e,d=new WeakMap,m=n(1610679553,58589440,117440770,805372165,101318656,1107297281,268438272,1835101700,17039717,36700416,259),h=c(773,1,2561,269,11,65,65,65,3068,2816),p=c(781,1,2560,265,7,16390,2311,2827),w=t(2,8,1,1,97,1,98,3,127,1,6,6,1,127,1,65,0,11,7,5,1,1,97,3,1,0,8,4,110,97,109,101,2,1,0),g=Uint16Array.of(24832,28019,1,0,1537,24577,512,32639,515,1,2058,1537,16640,16640,2816,2560,28164,28001,613,259,0),E=u(3082,2561,17152,0,0,252),v=u(2058,1537,16640,49152),y=s(101318657,301990913,268438272,1835101700,17039717),_=a(5,4,1,3,1,1,10,7,1,5,0,254,3,0),k=s(84344833,6357249,17369600,4259847,186257917,1845758464),b=a(10,7,1,5,0,208,112,26);e.exports={support:(e=1)=>r(Uint32Array.of(1836278016,e)),get supportStreaming(){return f(o.instantiateStreaming)},feature:{get bigInt(){return r(m,!0)},get bulk(){return r(h)},get exceptions(){return r(p)},get mutableGlobal(){return r(w)},get multiValue(){return r(g)},get saturateConversions(){return r(E)},get signExtensions(){return r(v)},get tailCall(){return r(y)},get threads(){return r(_)},get simd(){return r(k)},get references(){return r(b)},get typeReflection(){return f(o.Memory.type)},get funcReferences(){return f(o.Function)}}}},931:e=>{var xe,r=(xe="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,function(e){var t,a,h=void 0!==(e=e||{})?e:{};h.ready=new Promise(function(e,r){t=e,a=r});var r,n={};for(r in h)h.hasOwnProperty(r)&&(n[r]=h[r]);var o,i,s=[],u="./this.program",c=function(e,r){throw r},l=!0,f=!1,d="";(l||f)&&(f?d=self.location.href:"undefined"!=typeof document&&document.currentScript&&(d=document.currentScript.src),d=0!==(d=xe?xe:d).indexOf("blob:")?d.substr(0,d.lastIndexOf("/")+1):"",o=function(e){var r=new XMLHttpRequest;return r.open("GET",e,!1),r.send(null),r.responseText},f&&(i=function(e){var r=new XMLHttpRequest;return r.open("GET",e,!1),r.responseType="arraybuffer",r.send(null),new Uint8Array(r.response)}));var m=h.print||console.log.bind(console),p=h.printErr||console.warn.bind(console);for(r in n)n.hasOwnProperty(r)&&(h[r]=n[r]);n=null,h.arguments&&(s=h.arguments),h.thisProgram&&(u=h.thisProgram),h.quit&&(c=h.quit);var w,g=16;h.wasmBinary&&(w=h.wasmBinary);var E,v=h.noExitRuntime||!0;"object"!=typeof WebAssembly&&V("no native wasm support detected");var y=!1;function _(e){var r=h["_"+e];return e="Cannot call unknown function "+e+", make sure it is exported",r||V("Assertion failed: "+e),r}function k(e,r,t,n){var o={string:function(e){var r,t=0;return null!=e&&0!==e&&(r=1+(e.length<<2),M(e,t=be(r),r)),t},array:function(e){var r,t=be(e.length);return r=e,e=t,D.set(r,e),t}};var e=_(e),a=[],i=0;if(n)for(var s=0;s<n.length;s++){var u=o[t[s]];u?(0===i&&(i=_e()),a[s]=u(n[s])):a[s]=n[s]}var c,e=e.apply(null,a);return c=e,e="string"===r?x(c):"boolean"===r?Boolean(c):c,0!==i&&ke(i),e}var b,D,S,A,P="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function F(e,r,t){for(var n=r+t,o=r;e[o]&&!(n<=o);)++o;if(16<o-r&&e.subarray&&P)return P.decode(e.subarray(r,o));for(var a="";r<o;){var i,s,u=e[r++];128&u?(i=63&e[r++],192!=(224&u)?(s=63&e[r++],(u=224==(240&u)?(15&u)<<12|i<<6|s:(7&u)<<18|i<<12|s<<6|63&e[r++])<65536?a+=String.fromCharCode(u):(s=u-65536,a+=String.fromCharCode(55296|s>>10,56320|1023&s))):a+=String.fromCharCode((31&u)<<6|i)):a+=String.fromCharCode(u)}return a}function x(e,r){return e?F(S,e,r):""}function T(e,r,t,n){if(!(0<n))return 0;for(var o=t,a=t+n-1,i=0;i<e.length;++i){var s=e.charCodeAt(i);if((s=55296<=s&&s<=57343?65536+((1023&s)<<10)|1023&e.charCodeAt(++i):s)<=127){if(a<=t)break;r[t++]=s}else if(s<=2047){if(a<=t+1)break;r[t++]=192|s>>6,r[t++]=128|63&s}else if(s<=65535){if(a<=t+2)break;r[t++]=224|s>>12,r[t++]=128|s>>6&63,r[t++]=128|63&s}else{if(a<=t+3)break;r[t++]=240|s>>18,r[t++]=128|s>>12&63,r[t++]=128|s>>6&63,r[t++]=128|63&s}}return r[t]=0,t-o}function M(e,r,t){return T(e,S,r,t)}function O(e){for(var r=0,t=0;t<e.length;++t){var n=e.charCodeAt(t);(n=55296<=n&&n<=57343?65536+((1023&n)<<10)|1023&e.charCodeAt(++t):n)<=127?++r:r+=n<=2047?2:n<=65535?3:4}return r}function R(e){var r=O(e)+1,t=be(r);return T(e,D,t,r),t}h.INITIAL_MEMORY;var N,L=[],C=[],I=[],B=[];function z(){if(h.preRun)for("function"==typeof h.preRun&&(h.preRun=[h.preRun]);h.preRun.length;)e=h.preRun.shift(),L.unshift(e);var e;ee(L)}function j(){if(h.postRun)for("function"==typeof h.postRun&&(h.postRun=[h.postRun]);h.postRun.length;)e=h.postRun.shift(),B.unshift(e);var e;ee(B)}C.push({func:function(){we()}});var H=0,W=null,U=null;function G(e){H++,h.monitorRunDependencies&&h.monitorRunDependencies(H)}function q(e){var r;H--,h.monitorRunDependencies&&h.monitorRunDependencies(H),0==H&&(null!==W&&(clearInterval(W),W=null),U&&(r=U,U=null,r()))}function V(e){h.onAbort&&h.onAbort(e),p(e+=""),y=!0,e="abort("+e+"). Build with -s ASSERTIONS=1 for more info.";e=new WebAssembly.RuntimeError(e);throw a(e),e}h.preloadedImages={},h.preloadedAudios={};var X="data:application/octet-stream;base64,";function K(e){return r=e,e=X,String.prototype.startsWith?r.startsWith(e):0===r.indexOf(e);var r}var Q,Y,$,J="tflite-wasm-simd.wasm";function Z(e){try{if(e==J&&w)return new Uint8Array(w);if(i)return i(e);throw"both async and sync fetching of the wasm failed"}catch(e){V(e)}}function ee(e){for(;0<e.length;){var r,t=e.shift();"function"!=typeof t?"number"==typeof(r=t.func)?void 0===t.arg?N.get(r)():N.get(r)(t.arg):r(void 0===t.arg?null:t.arg):t(h)}}function re(e){return A[ye()>>2]=e}K(J)||(Q=J,J=h.locateFile?h.locateFile(Q,d):d+Q);var te={splitPath:function(e){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1)},normalizeArray:function(e,r){for(var t=0,n=e.length-1;0<=n;n--){var o=e[n];"."===o?e.splice(n,1):".."===o?(e.splice(n,1),t++):t&&(e.splice(n,1),t--)}if(r)for(;t;t--)e.unshift("..");return e},normalize:function(e){var r="/"===e.charAt(0),t="/"===e.substr(-1);return(e=!(e=te.normalizeArray(e.split("/").filter(function(e){return!!e}),!r).join("/"))&&!r?".":e)&&t&&(e+="/"),(r?"/":"")+e},dirname:function(e){var r=te.splitPath(e),e=r[0],r=r[1];return e||r?e+(r=r&&r.substr(0,r.length-1)):"."},basename:function(e){if("/"===e)return"/";var r=(e=(e=te.normalize(e)).replace(/\/$/,"")).lastIndexOf("/");return-1===r?e:e.substr(r+1)},extname:function(e){return te.splitPath(e)[3]},join:function(){var e=Array.prototype.slice.call(arguments,0);return te.normalize(e.join("/"))},join2:function(e,r){return te.normalize(e+"/"+r)}};var ne={resolve:function(){for(var e="",r=!1,t=arguments.length-1;-1<=t&&!r;t--){var n=0<=t?arguments[t]:ue.cwd();if("string"!=typeof n)throw new TypeError("Arguments to path.resolve must be strings");if(!n)return"";e=n+"/"+e,r="/"===n.charAt(0)}return(r?"/":"")+(e=te.normalizeArray(e.split("/").filter(function(e){return!!e}),!r).join("/"))||"."},relative:function(e,r){function t(e){for(var r=0;r<e.length&&""===e[r];r++);for(var t=e.length-1;0<=t&&""===e[t];t--);return t<r?[]:e.slice(r,t-r+1)}e=ne.resolve(e).substr(1),r=ne.resolve(r).substr(1);for(var n=t(e.split("/")),o=t(r.split("/")),a=Math.min(n.length,o.length),i=a,s=0;s<a;s++)if(n[s]!==o[s]){i=s;break}for(var u=[],s=i;s<n.length;s++)u.push("..");return(u=u.concat(o.slice(i))).join("/")}},oe={ttys:[],init:function(){},shutdown:function(){},register:function(e,r){oe.ttys[e]={input:[],output:[],ops:r},ue.registerDevice(e,oe.stream_ops)},stream_ops:{open:function(e){var r=oe.ttys[e.node.rdev];if(!r)throw new ue.ErrnoError(43);e.tty=r,e.seekable=!1},close:function(e){e.tty.ops.flush(e.tty)},flush:function(e){e.tty.ops.flush(e.tty)},read:function(e,r,t,n,o){if(!e.tty||!e.tty.ops.get_char)throw new ue.ErrnoError(60);for(var a,i=0,s=0;s<n;s++){try{a=e.tty.ops.get_char(e.tty)}catch(e){throw new ue.ErrnoError(29)}if(void 0===a&&0===i)throw new ue.ErrnoError(6);if(null==a)break;i++,r[t+s]=a}return i&&(e.node.timestamp=Date.now()),i},write:function(e,r,t,n,o){if(!e.tty||!e.tty.ops.put_char)throw new ue.ErrnoError(60);try{for(var a=0;a<n;a++)e.tty.ops.put_char(e.tty,r[t+a])}catch(e){throw new ue.ErrnoError(29)}return n&&(e.node.timestamp=Date.now()),a}},default_tty_ops:{get_char:function(e){if(!e.input.length){var r=null;if("undefined"!=typeof window&&"function"==typeof window.prompt?null!==(r=window.prompt("Input: "))&&(r+="\n"):"function"==typeof readline&&null!==(r=readline())&&(r+="\n"),!r)return null;e.input=me(r,!0)}return e.input.shift()},put_char:function(e,r){null===r||10===r?(m(F(e.output,0)),e.output=[]):0!=r&&e.output.push(r)},flush:function(e){e.output&&0<e.output.length&&(m(F(e.output,0)),e.output=[])}},default_tty1_ops:{put_char:function(e,r){null===r||10===r?(p(F(e.output,0)),e.output=[]):0!=r&&e.output.push(r)},flush:function(e){e.output&&0<e.output.length&&(p(F(e.output,0)),e.output=[])}}};function ae(e){for(var r,t,n=(r=e,t=(t=16384)||g,Math.ceil(r/t)*t),o=Ee(n);e<n;)D[o+e++]=0;return o}var ie,se={ops_table:null,mount:function(e){return se.createNode(null,"/",16895,0)},createNode:function(e,r,t,n){if(ue.isBlkdev(t)||ue.isFIFO(t))throw new ue.ErrnoError(63);se.ops_table||(se.ops_table={dir:{node:{getattr:se.node_ops.getattr,setattr:se.node_ops.setattr,lookup:se.node_ops.lookup,mknod:se.node_ops.mknod,rename:se.node_ops.rename,unlink:se.node_ops.unlink,rmdir:se.node_ops.rmdir,readdir:se.node_ops.readdir,symlink:se.node_ops.symlink},stream:{llseek:se.stream_ops.llseek}},file:{node:{getattr:se.node_ops.getattr,setattr:se.node_ops.setattr},stream:{llseek:se.stream_ops.llseek,read:se.stream_ops.read,write:se.stream_ops.write,allocate:se.stream_ops.allocate,mmap:se.stream_ops.mmap,msync:se.stream_ops.msync}},link:{node:{getattr:se.node_ops.getattr,setattr:se.node_ops.setattr,readlink:se.node_ops.readlink},stream:{}},chrdev:{node:{getattr:se.node_ops.getattr,setattr:se.node_ops.setattr},stream:ue.chrdev_stream_ops}});n=ue.createNode(e,r,t,n);return ue.isDir(n.mode)?(n.node_ops=se.ops_table.dir.node,n.stream_ops=se.ops_table.dir.stream,n.contents={}):ue.isFile(n.mode)?(n.node_ops=se.ops_table.file.node,n.stream_ops=se.ops_table.file.stream,n.usedBytes=0,n.contents=null):ue.isLink(n.mode)?(n.node_ops=se.ops_table.link.node,n.stream_ops=se.ops_table.link.stream):ue.isChrdev(n.mode)&&(n.node_ops=se.ops_table.chrdev.node,n.stream_ops=se.ops_table.chrdev.stream),n.timestamp=Date.now(),e&&(e.contents[r]=n,e.timestamp=n.timestamp),n},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array(0)},expandFileStorage:function(e,r){var t=e.contents?e.contents.length:0;r<=t||(r=Math.max(r,t*(t<1048576?2:1.125)>>>0),0!=t&&(r=Math.max(r,256)),t=e.contents,e.contents=new Uint8Array(r),0<e.usedBytes&&e.contents.set(t.subarray(0,e.usedBytes),0))},resizeFileStorage:function(e,r){var t;e.usedBytes!=r&&(0==r?(e.contents=null,e.usedBytes=0):(t=e.contents,e.contents=new Uint8Array(r),t&&e.contents.set(t.subarray(0,Math.min(r,e.usedBytes))),e.usedBytes=r))},node_ops:{getattr:function(e){var r={};return r.dev=ue.isChrdev(e.mode)?e.id:1,r.ino=e.id,r.mode=e.mode,r.nlink=1,r.uid=0,r.gid=0,r.rdev=e.rdev,ue.isDir(e.mode)?r.size=4096:ue.isFile(e.mode)?r.size=e.usedBytes:ue.isLink(e.mode)?r.size=e.link.length:r.size=0,r.atime=new Date(e.timestamp),r.mtime=new Date(e.timestamp),r.ctime=new Date(e.timestamp),r.blksize=4096,r.blocks=Math.ceil(r.size/r.blksize),r},setattr:function(e,r){void 0!==r.mode&&(e.mode=r.mode),void 0!==r.timestamp&&(e.timestamp=r.timestamp),void 0!==r.size&&se.resizeFileStorage(e,r.size)},lookup:function(e,r){throw ue.genericErrors[44]},mknod:function(e,r,t,n){return se.createNode(e,r,t,n)},rename:function(e,r,t){if(ue.isDir(e.mode)){var n;try{n=ue.lookupNode(r,t)}catch(e){}if(n)for(var o in n.contents)throw new ue.ErrnoError(55)}delete e.parent.contents[e.name],e.parent.timestamp=Date.now(),e.name=t,r.contents[t]=e,r.timestamp=e.parent.timestamp,e.parent=r},unlink:function(e,r){delete e.contents[r],e.timestamp=Date.now()},rmdir:function(e,r){for(var t in ue.lookupNode(e,r).contents)throw new ue.ErrnoError(55);delete e.contents[r],e.timestamp=Date.now()},readdir:function(e){var r,t=[".",".."];for(r in e.contents)e.contents.hasOwnProperty(r)&&t.push(r);return t},symlink:function(e,r,t){r=se.createNode(e,r,41471,0);return r.link=t,r},readlink:function(e){if(!ue.isLink(e.mode))throw new ue.ErrnoError(28);return e.link}},stream_ops:{read:function(e,r,t,n,o){var a=e.node.contents;if(o>=e.node.usedBytes)return 0;var i=Math.min(e.node.usedBytes-o,n);if(8<i&&a.subarray)r.set(a.subarray(o,o+i),t);else for(var s=0;s<i;s++)r[t+s]=a[o+s];return i},write:function(e,r,t,n,o,a){if(!n)return 0;var i=e.node;if(i.timestamp=Date.now(),r.subarray&&(!i.contents||i.contents.subarray)){if(a)return i.contents=r.subarray(t,t+n),i.usedBytes=n;if(0===i.usedBytes&&0===o)return i.contents=r.slice(t,t+n),i.usedBytes=n;if(o+n<=i.usedBytes)return i.contents.set(r.subarray(t,t+n),o),n}if(se.expandFileStorage(i,o+n),i.contents.subarray&&r.subarray)i.contents.set(r.subarray(t,t+n),o);else for(var s=0;s<n;s++)i.contents[o+s]=r[t+s];return i.usedBytes=Math.max(i.usedBytes,o+n),n},llseek:function(e,r,t){if(1===t?r+=e.position:2===t&&ue.isFile(e.node.mode)&&(r+=e.node.usedBytes),r<0)throw new ue.ErrnoError(28);return r},allocate:function(e,r,t){se.expandFileStorage(e.node,r+t),e.node.usedBytes=Math.max(e.node.usedBytes,r+t)},mmap:function(e,r,t,n,o,a){if(0!==r)throw new ue.ErrnoError(28);if(!ue.isFile(e.node.mode))throw new ue.ErrnoError(43);var i,s,e=e.node.contents;if(2&a||e.buffer!==b){if((0<n||n+t<e.length)&&(e=e.subarray?e.subarray(n,n+t):Array.prototype.slice.call(e,n,n+t)),s=!0,!(i=ae(t)))throw new ue.ErrnoError(48);D.set(e,i)}else s=!1,i=e.byteOffset;return{ptr:i,allocated:s}},msync:function(e,r,t,n,o){if(!ue.isFile(e.node.mode))throw new ue.ErrnoError(43);if(2&o)return 0;se.stream_ops.write(e,r,0,n,t,!1);return 0}}},ue={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:function(e,r){if(r=r||{},!(e=ne.resolve(ue.cwd(),e)))return{path:"",node:null};var t,n={follow_mount:!0,recurse_count:0};for(t in n)void 0===r[t]&&(r[t]=n[t]);if(8<r.recurse_count)throw new ue.ErrnoError(32);for(var o=te.normalizeArray(e.split("/").filter(function(e){return!!e}),!1),a=ue.root,i="/",s=0;s<o.length;s++){var u=s===o.length-1;if(u&&r.parent)break;if(a=ue.lookupNode(a,o[s]),i=te.join2(i,o[s]),ue.isMountpoint(a)&&(!u||u&&r.follow_mount)&&(a=a.mounted.root),!u||r.follow)for(var c=0;ue.isLink(a.mode);){var l=ue.readlink(i),i=ne.resolve(te.dirname(i),l),a=ue.lookupPath(i,{recurse_count:r.recurse_count}).node;if(40<c++)throw new ue.ErrnoError(32)}}return{path:i,node:a}},getPath:function(e){for(var r;;){if(ue.isRoot(e)){var t=e.mount.mountpoint;return r?"/"!==t[t.length-1]?t+"/"+r:t+r:t}r=r?e.name+"/"+r:e.name,e=e.parent}},hashName:function(e,r){for(var t=0,n=0;n<r.length;n++)t=(t<<5)-t+r.charCodeAt(n)|0;return(e+t>>>0)%ue.nameTable.length},hashAddNode:function(e){var r=ue.hashName(e.parent.id,e.name);e.name_next=ue.nameTable[r],ue.nameTable[r]=e},hashRemoveNode:function(e){var r=ue.hashName(e.parent.id,e.name);if(ue.nameTable[r]===e)ue.nameTable[r]=e.name_next;else for(var t=ue.nameTable[r];t;){if(t.name_next===e){t.name_next=e.name_next;break}t=t.name_next}},lookupNode:function(e,r){var t=ue.mayLookup(e);if(t)throw new ue.ErrnoError(t,e);for(var t=ue.hashName(e.id,r),n=ue.nameTable[t];n;n=n.name_next){var o=n.name;if(n.parent.id===e.id&&o===r)return n}return ue.lookup(e,r)},createNode:function(e,r,t,n){n=new ue.FSNode(e,r,t,n);return ue.hashAddNode(n),n},destroyNode:function(e){ue.hashRemoveNode(e)},isRoot:function(e){return e===e.parent},isMountpoint:function(e){return!!e.mounted},isFile:function(e){return 32768==(61440&e)},isDir:function(e){return 16384==(61440&e)},isLink:function(e){return 40960==(61440&e)},isChrdev:function(e){return 8192==(61440&e)},isBlkdev:function(e){return 24576==(61440&e)},isFIFO:function(e){return 4096==(61440&e)},isSocket:function(e){return 49152==(49152&e)},flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:function(e){var r=ue.flagModes[e];if(void 0===r)throw new Error("Unknown file open mode: "+e);return r},flagsToPermissionString:function(e){var r=["r","w","rw"][3&e];return 512&e&&(r+="w"),r},nodePermissions:function(e,r){return ue.ignorePermissions||(-1===r.indexOf("r")||292&e.mode)&&(-1===r.indexOf("w")||146&e.mode)&&(-1===r.indexOf("x")||73&e.mode)?0:2},mayLookup:function(e){var r=ue.nodePermissions(e,"x");return r||(e.node_ops.lookup?0:2)},mayCreate:function(e,r){try{ue.lookupNode(e,r);return 20}catch(e){}return ue.nodePermissions(e,"wx")},mayDelete:function(e,r,t){var n;try{n=ue.lookupNode(e,r)}catch(e){return e.errno}var o=ue.nodePermissions(e,"wx");if(o)return o;if(t){if(!ue.isDir(n.mode))return 54;if(ue.isRoot(n)||ue.getPath(n)===ue.cwd())return 10}else if(ue.isDir(n.mode))return 31;return 0},mayOpen:function(e,r){return e?ue.isLink(e.mode)?32:ue.isDir(e.mode)&&("r"!==ue.flagsToPermissionString(r)||512&r)?31:ue.nodePermissions(e,ue.flagsToPermissionString(r)):44},MAX_OPEN_FDS:4096,nextfd:function(e,r){e=e||0,r=r||ue.MAX_OPEN_FDS;for(var t=e;t<=r;t++)if(!ue.streams[t])return t;throw new ue.ErrnoError(33)},getStream:function(e){return ue.streams[e]},createStream:function(e,r,t){ue.FSStream||(ue.FSStream=function(){},ue.FSStream.prototype={object:{get:function(){return this.node},set:function(e){this.node=e}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}}});var n,o=new ue.FSStream;for(n in e)o[n]=e[n];e=o;t=ue.nextfd(r,t);return e.fd=t,ue.streams[t]=e},closeStream:function(e){ue.streams[e]=null},chrdev_stream_ops:{open:function(e){var r=ue.getDevice(e.node.rdev);e.stream_ops=r.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:function(){throw new ue.ErrnoError(70)}},major:function(e){return e>>8},minor:function(e){return 255&e},makedev:function(e,r){return e<<8|r},registerDevice:function(e,r){ue.devices[e]={stream_ops:r}},getDevice:function(e){return ue.devices[e]},getMounts:function(e){for(var r=[],t=[e];t.length;){var n=t.pop();r.push(n),t.push.apply(t,n.mounts)}return r},syncfs:function(r,t){"function"==typeof r&&(t=r,r=!1),ue.syncFSRequests++,1<ue.syncFSRequests&&p("warning: "+ue.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var n=ue.getMounts(ue.root.mount),o=0;function a(e){return ue.syncFSRequests--,t(e)}function i(e){if(e)return i.errored?void 0:(i.errored=!0,a(e));++o>=n.length&&a(null)}n.forEach(function(e){return e.type.syncfs?void e.type.syncfs(e,r,i):i(null)})},mount:function(e,r,t){var n="/"===t,o=!t;if(n&&ue.root)throw new ue.ErrnoError(10);if(!n&&!o){var a=ue.lookupPath(t,{follow_mount:!1});if(t=a.path,a=a.node,ue.isMountpoint(a))throw new ue.ErrnoError(10);if(!ue.isDir(a.mode))throw new ue.ErrnoError(54)}t={type:e,opts:r,mountpoint:t,mounts:[]},e=e.mount(t);return(e.mount=t).root=e,n?ue.root=e:a&&(a.mounted=t,a.mount&&a.mount.mounts.push(t)),e},unmount:function(e){var r=ue.lookupPath(e,{follow_mount:!1});if(!ue.isMountpoint(r.node))throw new ue.ErrnoError(28);var e=r.node,r=e.mounted,n=ue.getMounts(r);Object.keys(ue.nameTable).forEach(function(e){for(var r=ue.nameTable[e];r;){var t=r.name_next;-1!==n.indexOf(r.mount)&&ue.destroyNode(r),r=t}}),e.mounted=null;r=e.mount.mounts.indexOf(r);e.mount.mounts.splice(r,1)},lookup:function(e,r){return e.node_ops.lookup(e,r)},mknod:function(e,r,t){var n=ue.lookupPath(e,{parent:!0}).node,o=te.basename(e);if(!o||"."===o||".."===o)throw new ue.ErrnoError(28);e=ue.mayCreate(n,o);if(e)throw new ue.ErrnoError(e);if(!n.node_ops.mknod)throw new ue.ErrnoError(63);return n.node_ops.mknod(n,o,r,t)},create:function(e,r){return r=void 0!==r?r:438,r&=4095,r|=32768,ue.mknod(e,r,0)},mkdir:function(e,r){return r=void 0!==r?r:511,r&=1023,r|=16384,ue.mknod(e,r,0)},mkdirTree:function(e,r){for(var t=e.split("/"),n="",o=0;o<t.length;++o)if(t[o]){n+="/"+t[o];try{ue.mkdir(n,r)}catch(e){if(20!=e.errno)throw e}}},mkdev:function(e,r,t){return void 0===t&&(t=r,r=438),r|=8192,ue.mknod(e,r,t)},symlink:function(e,r){if(!ne.resolve(e))throw new ue.ErrnoError(44);var t=ue.lookupPath(r,{parent:!0}).node;if(!t)throw new ue.ErrnoError(44);var n=te.basename(r),r=ue.mayCreate(t,n);if(r)throw new ue.ErrnoError(r);if(!t.node_ops.symlink)throw new ue.ErrnoError(63);return t.node_ops.symlink(t,n,e)},rename:function(r,t){var e=te.dirname(r),n=te.dirname(t),o=te.basename(r),a=te.basename(t),i=ue.lookupPath(r,{parent:!0}),s=i.node,u=ue.lookupPath(t,{parent:!0}).node;if(!s||!u)throw new ue.ErrnoError(44);if(s.mount!==u.mount)throw new ue.ErrnoError(75);var c,l=ue.lookupNode(s,o),n=ne.relative(r,n);if("."!==n.charAt(0))throw new ue.ErrnoError(28);if("."!==(n=ne.relative(t,e)).charAt(0))throw new ue.ErrnoError(55);try{c=ue.lookupNode(u,a)}catch(e){}if(l!==c){n=ue.isDir(l.mode),o=ue.mayDelete(s,o,n);if(o)throw new ue.ErrnoError(o);if(o=c?ue.mayDelete(u,a,n):ue.mayCreate(u,a))throw new ue.ErrnoError(o);if(!s.node_ops.rename)throw new ue.ErrnoError(63);if(ue.isMountpoint(l)||c&&ue.isMountpoint(c))throw new ue.ErrnoError(10);if(u!==s&&(o=ue.nodePermissions(s,"w")))throw new ue.ErrnoError(o);try{ue.trackingDelegate.willMovePath&&ue.trackingDelegate.willMovePath(r,t)}catch(e){p("FS.trackingDelegate['willMovePath']('"+r+"', '"+t+"') threw an exception: "+e.message)}ue.hashRemoveNode(l);try{s.node_ops.rename(l,u,a)}catch(e){throw e}finally{ue.hashAddNode(l)}try{ue.trackingDelegate.onMovePath&&ue.trackingDelegate.onMovePath(r,t)}catch(e){p("FS.trackingDelegate['onMovePath']('"+r+"', '"+t+"') threw an exception: "+e.message)}}},rmdir:function(r){var e=ue.lookupPath(r,{parent:!0}).node,t=te.basename(r),n=ue.lookupNode(e,t),o=ue.mayDelete(e,t,!0);if(o)throw new ue.ErrnoError(o);if(!e.node_ops.rmdir)throw new ue.ErrnoError(63);if(ue.isMountpoint(n))throw new ue.ErrnoError(10);try{ue.trackingDelegate.willDeletePath&&ue.trackingDelegate.willDeletePath(r)}catch(e){p("FS.trackingDelegate['willDeletePath']('"+r+"') threw an exception: "+e.message)}e.node_ops.rmdir(e,t),ue.destroyNode(n);try{ue.trackingDelegate.onDeletePath&&ue.trackingDelegate.onDeletePath(r)}catch(e){p("FS.trackingDelegate['onDeletePath']('"+r+"') threw an exception: "+e.message)}},readdir:function(e){e=ue.lookupPath(e,{follow:!0}).node;if(!e.node_ops.readdir)throw new ue.ErrnoError(54);return e.node_ops.readdir(e)},unlink:function(r){var e=ue.lookupPath(r,{parent:!0}).node,t=te.basename(r),n=ue.lookupNode(e,t),o=ue.mayDelete(e,t,!1);if(o)throw new ue.ErrnoError(o);if(!e.node_ops.unlink)throw new ue.ErrnoError(63);if(ue.isMountpoint(n))throw new ue.ErrnoError(10);try{ue.trackingDelegate.willDeletePath&&ue.trackingDelegate.willDeletePath(r)}catch(e){p("FS.trackingDelegate['willDeletePath']('"+r+"') threw an exception: "+e.message)}e.node_ops.unlink(e,t),ue.destroyNode(n);try{ue.trackingDelegate.onDeletePath&&ue.trackingDelegate.onDeletePath(r)}catch(e){p("FS.trackingDelegate['onDeletePath']('"+r+"') threw an exception: "+e.message)}},readlink:function(e){e=ue.lookupPath(e).node;if(!e)throw new ue.ErrnoError(44);if(!e.node_ops.readlink)throw new ue.ErrnoError(28);return ne.resolve(ue.getPath(e.parent),e.node_ops.readlink(e))},stat:function(e,r){r=ue.lookupPath(e,{follow:!r}).node;if(!r)throw new ue.ErrnoError(44);if(!r.node_ops.getattr)throw new ue.ErrnoError(63);return r.node_ops.getattr(r)},lstat:function(e){return ue.stat(e,!0)},chmod:function(e,r,t){if(!(e="string"==typeof e?ue.lookupPath(e,{follow:!t}).node:e).node_ops.setattr)throw new ue.ErrnoError(63);e.node_ops.setattr(e,{mode:4095&r|-4096&e.mode,timestamp:Date.now()})},lchmod:function(e,r){ue.chmod(e,r,!0)},fchmod:function(e,r){e=ue.getStream(e);if(!e)throw new ue.ErrnoError(8);ue.chmod(e.node,r)},chown:function(e,r,t,n){if(!(e="string"==typeof e?ue.lookupPath(e,{follow:!n}).node:e).node_ops.setattr)throw new ue.ErrnoError(63);e.node_ops.setattr(e,{timestamp:Date.now()})},lchown:function(e,r,t){ue.chown(e,r,t,!0)},fchown:function(e,r,t){e=ue.getStream(e);if(!e)throw new ue.ErrnoError(8);ue.chown(e.node,r,t)},truncate:function(e,r){if(r<0)throw new ue.ErrnoError(28);var t;if(!(t="string"==typeof e?ue.lookupPath(e,{follow:!0}).node:e).node_ops.setattr)throw new ue.ErrnoError(63);if(ue.isDir(t.mode))throw new ue.ErrnoError(31);if(!ue.isFile(t.mode))throw new ue.ErrnoError(28);e=ue.nodePermissions(t,"w");if(e)throw new ue.ErrnoError(e);t.node_ops.setattr(t,{size:r,timestamp:Date.now()})},ftruncate:function(e,r){e=ue.getStream(e);if(!e)throw new ue.ErrnoError(8);if(0==(2097155&e.flags))throw new ue.ErrnoError(28);ue.truncate(e.node,r)},utime:function(e,r,t){e=ue.lookupPath(e,{follow:!0}).node;e.node_ops.setattr(e,{timestamp:Math.max(r,t)})},open:function(r,e,t,n,o){if(""===r)throw new ue.ErrnoError(44);if(t=void 0===t?438:t,t=64&(e="string"==typeof e?ue.modeStringToFlags(e):e)?4095&t|32768:0,"object"==typeof r)a=r;else{r=te.normalize(r);try{var a=ue.lookupPath(r,{follow:!(131072&e)}).node}catch(e){}}var i=!1;if(64&e)if(a){if(128&e)throw new ue.ErrnoError(20)}else a=ue.mknod(r,t,0),i=!0;if(!a)throw new ue.ErrnoError(44);if(ue.isChrdev(a.mode)&&(e&=-513),65536&e&&!ue.isDir(a.mode))throw new ue.ErrnoError(54);if(!i){i=ue.mayOpen(a,e);if(i)throw new ue.ErrnoError(i)}512&e&&ue.truncate(a,0),e&=-131713;var s,o=ue.createStream({node:a,path:ue.getPath(a),flags:e,seekable:!0,position:0,stream_ops:a.stream_ops,ungotten:[],error:!1},n,o);o.stream_ops.open&&o.stream_ops.open(o),!h.logReadFiles||1&e||(ue.readFiles||(ue.readFiles={}),r in ue.readFiles||(ue.readFiles[r]=1,p("FS.trackingDelegate error on read file: "+r)));try{ue.trackingDelegate.onOpenFile&&(s=0,1!=(2097155&e)&&(s|=ue.tracking.openFlags.READ),0!=(2097155&e)&&(s|=ue.tracking.openFlags.WRITE),ue.trackingDelegate.onOpenFile(r,s))}catch(e){p("FS.trackingDelegate['onOpenFile']('"+r+"', flags) threw an exception: "+e.message)}return o},close:function(e){if(ue.isClosed(e))throw new ue.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(e){throw e}finally{ue.closeStream(e.fd)}e.fd=null},isClosed:function(e){return null===e.fd},llseek:function(e,r,t){if(ue.isClosed(e))throw new ue.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new ue.ErrnoError(70);if(0!=t&&1!=t&&2!=t)throw new ue.ErrnoError(28);return e.position=e.stream_ops.llseek(e,r,t),e.ungotten=[],e.position},read:function(e,r,t,n,o){if(n<0||o<0)throw new ue.ErrnoError(28);if(ue.isClosed(e))throw new ue.ErrnoError(8);if(1==(2097155&e.flags))throw new ue.ErrnoError(8);if(ue.isDir(e.node.mode))throw new ue.ErrnoError(31);if(!e.stream_ops.read)throw new ue.ErrnoError(28);var a=void 0!==o;if(a){if(!e.seekable)throw new ue.ErrnoError(70)}else o=e.position;o=e.stream_ops.read(e,r,t,n,o);return a||(e.position+=o),o},write:function(r,e,t,n,o,a){if(n<0||o<0)throw new ue.ErrnoError(28);if(ue.isClosed(r))throw new ue.ErrnoError(8);if(0==(2097155&r.flags))throw new ue.ErrnoError(8);if(ue.isDir(r.node.mode))throw new ue.ErrnoError(31);if(!r.stream_ops.write)throw new ue.ErrnoError(28);r.seekable&&1024&r.flags&&ue.llseek(r,0,2);var i=void 0!==o;if(i){if(!r.seekable)throw new ue.ErrnoError(70)}else o=r.position;a=r.stream_ops.write(r,e,t,n,o,a);i||(r.position+=a);try{r.path&&ue.trackingDelegate.onWriteToFile&&ue.trackingDelegate.onWriteToFile(r.path)}catch(e){p("FS.trackingDelegate['onWriteToFile']('"+r.path+"') threw an exception: "+e.message)}return a},allocate:function(e,r,t){if(ue.isClosed(e))throw new ue.ErrnoError(8);if(r<0||t<=0)throw new ue.ErrnoError(28);if(0==(2097155&e.flags))throw new ue.ErrnoError(8);if(!ue.isFile(e.node.mode)&&!ue.isDir(e.node.mode))throw new ue.ErrnoError(43);if(!e.stream_ops.allocate)throw new ue.ErrnoError(138);e.stream_ops.allocate(e,r,t)},mmap:function(e,r,t,n,o,a){if(0!=(2&o)&&0==(2&a)&&2!=(2097155&e.flags))throw new ue.ErrnoError(2);if(1==(2097155&e.flags))throw new ue.ErrnoError(2);if(!e.stream_ops.mmap)throw new ue.ErrnoError(43);return e.stream_ops.mmap(e,r,t,n,o,a)},msync:function(e,r,t,n,o){return e&&e.stream_ops.msync?e.stream_ops.msync(e,r,t,n,o):0},munmap:function(e){return 0},ioctl:function(e,r,t){if(!e.stream_ops.ioctl)throw new ue.ErrnoError(59);return e.stream_ops.ioctl(e,r,t)},readFile:function(e,r){if((r=r||{}).flags=r.flags||0,r.encoding=r.encoding||"binary","utf8"!==r.encoding&&"binary"!==r.encoding)throw new Error('Invalid encoding type "'+r.encoding+'"');var t,n=ue.open(e,r.flags),o=ue.stat(e).size,e=new Uint8Array(o);return ue.read(n,e,0,o,0),"utf8"===r.encoding?t=F(e,0):"binary"===r.encoding&&(t=e),ue.close(n),t},writeFile:function(e,r,t){(t=t||{}).flags=t.flags||577;var n=ue.open(e,t.flags,t.mode);if("string"==typeof r){var o=new Uint8Array(O(r)+1),e=T(r,o,0,o.length);ue.write(n,o,0,e,void 0,t.canOwn)}else{if(!ArrayBuffer.isView(r))throw new Error("Unsupported data type");ue.write(n,r,0,r.byteLength,void 0,t.canOwn)}ue.close(n)},cwd:function(){return ue.currentPath},chdir:function(e){var r=ue.lookupPath(e,{follow:!0});if(null===r.node)throw new ue.ErrnoError(44);if(!ue.isDir(r.node.mode))throw new ue.ErrnoError(54);e=ue.nodePermissions(r.node,"x");if(e)throw new ue.ErrnoError(e);ue.currentPath=r.path},createDefaultDirectories:function(){ue.mkdir("/tmp"),ue.mkdir("/home"),ue.mkdir("/home/web_user")},createDefaultDevices:function(){ue.mkdir("/dev"),ue.registerDevice(ue.makedev(1,3),{read:function(){return 0},write:function(e,r,t,n,o){return n}}),ue.mkdev("/dev/null",ue.makedev(1,3)),oe.register(ue.makedev(5,0),oe.default_tty_ops),oe.register(ue.makedev(6,0),oe.default_tty1_ops),ue.mkdev("/dev/tty",ue.makedev(5,0)),ue.mkdev("/dev/tty1",ue.makedev(6,0));var e=function(){if("object"!=typeof crypto||"function"!=typeof crypto.getRandomValues)return function(){V("randomDevice")};var e=new Uint8Array(1);return function(){return crypto.getRandomValues(e),e[0]}}();ue.createDevice("/dev","random",e),ue.createDevice("/dev","urandom",e),ue.mkdir("/dev/shm"),ue.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){ue.mkdir("/proc");var r=ue.mkdir("/proc/self");ue.mkdir("/proc/self/fd"),ue.mount({mount:function(){var e=ue.createNode(r,"fd",16895,73);return e.node_ops={lookup:function(e,r){var r=+r,t=ue.getStream(r);if(!t)throw new ue.ErrnoError(8);r={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return t.path}}};return r.parent=r}},e}},{},"/proc/self/fd")},createStandardStreams:function(){h.stdin?ue.createDevice("/dev","stdin",h.stdin):ue.symlink("/dev/tty","/dev/stdin"),h.stdout?ue.createDevice("/dev","stdout",null,h.stdout):ue.symlink("/dev/tty","/dev/stdout"),h.stderr?ue.createDevice("/dev","stderr",null,h.stderr):ue.symlink("/dev/tty1","/dev/stderr");ue.open("/dev/stdin",0),ue.open("/dev/stdout",1),ue.open("/dev/stderr",1)},ensureErrnoError:function(){ue.ErrnoError||(ue.ErrnoError=function(e,r){this.node=r,this.setErrno=function(e){this.errno=e},this.setErrno(e),this.message="FS error"},ue.ErrnoError.prototype=new Error,ue.ErrnoError.prototype.constructor=ue.ErrnoError,[44].forEach(function(e){ue.genericErrors[e]=new ue.ErrnoError(e),ue.genericErrors[e].stack="<generic error, no stack>"}))},staticInit:function(){ue.ensureErrnoError(),ue.nameTable=new Array(4096),ue.mount(se,{},"/"),ue.createDefaultDirectories(),ue.createDefaultDevices(),ue.createSpecialDirectories(),ue.filesystems={MEMFS:se}},init:function(e,r,t){ue.init.initialized=!0,ue.ensureErrnoError(),h.stdin=e||h.stdin,h.stdout=r||h.stdout,h.stderr=t||h.stderr,ue.createStandardStreams()},quit:function(){ue.init.initialized=!1;var e=h._fflush;e&&e(0);for(var r=0;r<ue.streams.length;r++){var t=ue.streams[r];t&&ue.close(t)}},getMode:function(e,r){var t=0;return e&&(t|=365),r&&(t|=146),t},findObject:function(e,r){r=ue.analyzePath(e,r);return r.exists?r.object:null},analyzePath:function(e,r){try{e=(n=ue.lookupPath(e,{follow:!r})).path}catch(e){}var t={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var n=ue.lookupPath(e,{parent:!0});t.parentExists=!0,t.parentPath=n.path,t.parentObject=n.node,t.name=te.basename(e),n=ue.lookupPath(e,{follow:!r}),t.exists=!0,t.path=n.path,t.object=n.node,t.name=n.node.name,t.isRoot="/"===n.path}catch(e){t.error=e.errno}return t},createPath:function(e,r,t,n){e="string"==typeof e?e:ue.getPath(e);for(var o=r.split("/").reverse();o.length;){var a=o.pop();if(a){var i=te.join2(e,a);try{ue.mkdir(i)}catch(e){}e=i}}return i},createFile:function(e,r,t,n,o){r=te.join2("string"==typeof e?e:ue.getPath(e),r),o=ue.getMode(n,o);return ue.create(r,o)},createDataFile:function(e,r,t,n,o,a){e=r?te.join2("string"==typeof e?e:ue.getPath(e),r):e,n=ue.getMode(n,o),o=ue.create(e,n);if(t){if("string"==typeof t){for(var i=new Array(t.length),s=0,u=t.length;s<u;++s)i[s]=t.charCodeAt(s);t=i}ue.chmod(o,146|n);e=ue.open(o,577);ue.write(e,t,0,t.length,0,a),ue.close(e),ue.chmod(o,n)}return o},createDevice:function(e,r,u,i){var t=te.join2("string"==typeof e?e:ue.getPath(e),r),e=ue.getMode(!!u,!!i);ue.createDevice.major||(ue.createDevice.major=64);r=ue.makedev(ue.createDevice.major++,0);return ue.registerDevice(r,{open:function(e){e.seekable=!1},close:function(e){i&&i.buffer&&i.buffer.length&&i(10)},read:function(e,r,t,n,o){for(var a,i=0,s=0;s<n;s++){try{a=u()}catch(e){throw new ue.ErrnoError(29)}if(void 0===a&&0===i)throw new ue.ErrnoError(6);if(null==a)break;i++,r[t+s]=a}return i&&(e.node.timestamp=Date.now()),i},write:function(e,r,t,n,o){for(var a=0;a<n;a++)try{i(r[t+a])}catch(e){throw new ue.ErrnoError(29)}return n&&(e.node.timestamp=Date.now()),a}}),ue.mkdev(t,e,r)},forceLoadFile:function(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!o)throw new Error("Cannot load without read() or XMLHttpRequest.");try{e.contents=me(o(e.url),!0),e.usedBytes=e.contents.length}catch(e){throw new ue.ErrnoError(29)}},createLazyFile:function(e,r,i,t,n){function o(){this.lengthKnown=!1,this.chunks=[]}if(o.prototype.get=function(e){if(!(e>this.length-1||e<0)){var r=e%this.chunkSize,e=e/this.chunkSize|0;return this.getter(e)[r]}},o.prototype.setDataGetter=function(e){this.getter=e},o.prototype.cacheLength=function(){var e=new XMLHttpRequest;if(e.open("HEAD",i,!1),e.send(null),!(200<=e.status&&e.status<300||304===e.status))throw new Error("Couldn't load "+i+". Status: "+e.status);var n=Number(e.getResponseHeader("Content-length")),r=(t=e.getResponseHeader("Accept-Ranges"))&&"bytes"===t,t=(t=e.getResponseHeader("Content-Encoding"))&&"gzip"===t,o=1048576;r||(o=n);var a=this;a.setDataGetter(function(e){var r=e*o,t=(e+1)*o-1,t=Math.min(t,n-1);if(void 0===a.chunks[e]&&(a.chunks[e]=function(e,r){if(r<e)throw new Error("invalid range ("+e+", "+r+") or no bytes requested!");if(n-1<r)throw new Error("only "+n+" bytes available! programmer error!");var t=new XMLHttpRequest;if(t.open("GET",i,!1),n!==o&&t.setRequestHeader("Range","bytes="+e+"-"+r),"undefined"!=typeof Uint8Array&&(t.responseType="arraybuffer"),t.overrideMimeType&&t.overrideMimeType("text/plain; charset=x-user-defined"),t.send(null),!(200<=t.status&&t.status<300||304===t.status))throw new Error("Couldn't load "+i+". Status: "+t.status);return void 0!==t.response?new Uint8Array(t.response||[]):me(t.responseText||"",!0)}(r,t)),void 0===a.chunks[e])throw new Error("doXHR failed!");return a.chunks[e]}),!t&&n||(o=n=1,n=this.getter(0).length,o=n,m("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=n,this._chunkSize=o,this.lengthKnown=!0},"undefined"!=typeof XMLHttpRequest){if(!f)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var a=new o;Object.defineProperties(a,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});a={isDevice:!1,contents:a}}else a={isDevice:!1,url:i};var u=ue.createFile(e,r,a,t,n);a.contents?u.contents=a.contents:a.url&&(u.contents=null,u.url=a.url),Object.defineProperties(u,{usedBytes:{get:function(){return this.contents.length}}});var s={};return Object.keys(u.stream_ops).forEach(function(e){var r=u.stream_ops[e];s[e]=function(){return ue.forceLoadFile(u),r.apply(null,arguments)}}),s.read=function(e,r,t,n,o){ue.forceLoadFile(u);var a=e.node.contents;if(o>=a.length)return 0;var i=Math.min(a.length-o,n);if(a.slice)for(var s=0;s<i;s++)r[t+s]=a[o+s];else for(s=0;s<i;s++)r[t+s]=a.get(o+s);return i},u.stream_ops=s,u},createPreloadedFile:function(o,a,e,i,s,u,c,l,f,d){Browser.init();var m=a?ne.resolve(te.join2(o,a)):o;function r(r){function t(e){d&&d(),l||ue.createDataFile(o,a,e,i,s,f),u&&u(),q()}var n=!1;h.preloadPlugins.forEach(function(e){n||e.canHandle(m)&&(e.handle(r,m,t,function(){c&&c(),q()}),n=!0)}),n||t(r)}G(),"string"==typeof e?Browser.asyncLoad(e,function(e){r(e)},c):r(e)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(i,s,u){s=s||function(){},u=u||function(){};var e=ue.indexedDB();try{var c=e.open(ue.DB_NAME(),ue.DB_VERSION)}catch(e){return u(e)}c.onupgradeneeded=function(){m("creating db"),c.result.createObjectStore(ue.DB_STORE_NAME)},c.onsuccess=function(){var e=c.result.transaction([ue.DB_STORE_NAME],"readwrite"),r=e.objectStore(ue.DB_STORE_NAME),t=0,n=0,o=i.length;function a(){(0==n?s:u)()}i.forEach(function(e){e=r.put(ue.analyzePath(e).object.contents,e);e.onsuccess=function(){++t+n==o&&a()},e.onerror=function(){t+ ++n==o&&a()}}),e.onerror=u},c.onerror=u},loadFilesFromDB:function(s,u,c){u=u||function(){},c=c||function(){};var e=ue.indexedDB();try{var l=e.open(ue.DB_NAME(),ue.DB_VERSION)}catch(e){return c(e)}l.onupgradeneeded=c,l.onsuccess=function(){var e=l.result;try{var r=e.transaction([ue.DB_STORE_NAME],"readonly")}catch(e){return void c(e)}var t=r.objectStore(ue.DB_STORE_NAME),n=0,o=0,a=s.length;function i(){(0==o?u:c)()}s.forEach(function(e){var r=t.get(e);r.onsuccess=function(){ue.analyzePath(e).exists&&ue.unlink(e),ue.createDataFile(te.dirname(e),te.basename(e),r.result,!0,!0,!0),++n+o==a&&i()},r.onerror=function(){n+ ++o==a&&i()}}),r.onerror=c},l.onerror=c}},ce={mappings:{},DEFAULT_POLLMASK:5,umask:511,calculateAt:function(e,r,t){if("/"===r[0])return r;var n;if(-100===e)n=ue.cwd();else{e=ue.getStream(e);if(!e)throw new ue.ErrnoError(8);n=e.path}if(0!=r.length)return te.join2(n,r);if(!t)throw new ue.ErrnoError(44);return n},doStat:function(e,r,t){try{var n=e(r)}catch(e){if(e&&e.node&&te.normalize(r)!==te.normalize(ue.getPath(e.node)))return-54;throw e}return A[t>>2]=n.dev,A[t+4>>2]=0,A[t+8>>2]=n.ino,A[t+12>>2]=n.mode,A[t+16>>2]=n.nlink,A[t+20>>2]=n.uid,A[t+24>>2]=n.gid,A[t+28>>2]=n.rdev,A[t+32>>2]=0,$=[n.size>>>0,(Y=n.size,1<=+Math.abs(Y)?0<Y?(0|Math.min(+Math.floor(Y/4294967296),4294967295))>>>0:~~+Math.ceil((Y-(~~Y>>>0))/4294967296)>>>0:0)],A[t+40>>2]=$[0],A[t+44>>2]=$[1],A[t+48>>2]=4096,A[t+52>>2]=n.blocks,A[t+56>>2]=n.atime.getTime()/1e3|0,A[t+60>>2]=0,A[t+64>>2]=n.mtime.getTime()/1e3|0,A[t+68>>2]=0,A[t+72>>2]=n.ctime.getTime()/1e3|0,A[t+76>>2]=0,$=[n.ino>>>0,(Y=n.ino,1<=+Math.abs(Y)?0<Y?(0|Math.min(+Math.floor(Y/4294967296),4294967295))>>>0:~~+Math.ceil((Y-(~~Y>>>0))/4294967296)>>>0:0)],A[t+80>>2]=$[0],A[t+84>>2]=$[1],0},doMsync:function(e,r,t,n,o){e=S.slice(e,e+t);ue.msync(r,e,o,t,n)},doMkdir:function(e,r){return"/"===(e=te.normalize(e))[e.length-1]&&(e=e.substr(0,e.length-1)),ue.mkdir(e,r,0),0},doMknod:function(e,r,t){switch(61440&r){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-28}return ue.mknod(e,r,t),0},doReadlink:function(e,r,t){if(t<=0)return-28;var n=ue.readlink(e),o=Math.min(t,O(n)),e=D[r+o];return M(n,r,t+1),D[r+o]=e,o},doAccess:function(e,r){if(-8&r)return-28;var t=ue.lookupPath(e,{follow:!0}).node;if(!t)return-44;e="";return 4&r&&(e+="r"),2&r&&(e+="w"),1&r&&(e+="x"),e&&ue.nodePermissions(t,e)?-2:0},doDup:function(e,r,t){var n=ue.getStream(t);return n&&ue.close(n),ue.open(e,r,0,t,t).fd},doReadv:function(e,r,t,n){for(var o=0,a=0;a<t;a++){var i=A[r+8*a>>2],s=A[r+(8*a+4)>>2],i=ue.read(e,D,i,s,n);if(i<0)return-1;if(o+=i,i<s)break}return o},doWritev:function(e,r,t,n){for(var o=0,a=0;a<t;a++){var i=A[r+8*a>>2],s=A[r+(8*a+4)>>2],s=ue.write(e,D,i,s,n);if(s<0)return-1;o+=s}return o},varargs:void 0,get:function(){return ce.varargs+=4,A[ce.varargs-4>>2]},getStr:function(e){return x(e)},getStreamFromFD:function(e){e=ue.getStream(e);if(!e)throw new ue.ErrnoError(8);return e},get64:function(e,r){return e}};ie=function(){return performance.now()};var le={};function fe(){if(!fe.strings){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:u||"./this.program"};for(r in le)e[r]=le[r];var r,t=[];for(r in e)t.push(r+"="+e[r]);fe.strings=t}return fe.strings}function de(e,r,t,n){e=e||this,this.parent=e,this.mount=e.mount,this.mounted=null,this.id=ue.nextInode++,this.name=r,this.mode=t,this.node_ops={},this.stream_ops={},this.rdev=n}function me(e,r,t){t=0<t?t:O(e)+1,t=new Array(t),e=T(e,t,0,t.length);return r&&(t.length=e),t}Object.defineProperties(de.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(e){e?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(e){e?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return ue.isDir(this.mode)}},isDevice:{get:function(){return ue.isChrdev(this.mode)}}}),ue.FSNode=de,ue.staticInit(),h.FS_createPath=ue.createPath,h.FS_createDataFile=ue.createDataFile,h.FS_createPreloadedFile=ue.createPreloadedFile,h.FS_createLazyFile=ue.createLazyFile,h.FS_createDevice=ue.createDevice,h.FS_unlink=ue.unlink;var he,pe={v:function(e,r){try{var t=ce.getStreamFromFD(e);return ce.doStat(ue.stat,t.path,r)}catch(e){return void 0!==ue&&e instanceof ue.ErrnoError||V(e),-e.errno}},t:function(e,r,t,n,o,a){try{return function(e,r,t,n,o,a){a<<=12;var i=!1;if(0!=(16&n)&&e%16384!=0)return-28;if(0!=(32&n)){if(!(u=De(16384,r)))return-48;ge(u,0,r),i=!0}else{var s=ue.getStream(o);if(!s)return-8;var e=ue.mmap(s,e,r,a,t,n),u=e.ptr,i=e.allocated}return ce.mappings[u]={malloc:u,len:r,allocated:i,fd:o,prot:t,flags:n,offset:a},u}(e,r,t,n,o,a)}catch(e){return void 0!==ue&&e instanceof ue.ErrnoError||V(e),-e.errno}},s:function(e,r){try{return function(e,r){if(-1==(0|e)||0===r)return-28;var t,n=ce.mappings[e];return n&&r===n.len&&((t=ue.getStream(n.fd))&&(2&n.prot&&ce.doMsync(e,t,r,n.flags,n.offset),ue.munmap(t)),ce.mappings[e]=null,n.allocated&&ve(n.malloc)),0}(e,r)}catch(e){return void 0!==ue&&e instanceof ue.ErrnoError||V(e),-e.errno}},i:function(e,r,t){ce.varargs=t;try{var n=ce.getStr(e),o=t?ce.get():0;return ue.open(n,r,o).fd}catch(e){return void 0!==ue&&e instanceof ue.ErrnoError||V(e),-e.errno}},u:function(e,r){try{return e=ce.getStr(e),ce.doStat(ue.stat,e,r)}catch(e){return void 0!==ue&&e instanceof ue.ErrnoError||V(e),-e.errno}},a:function(){V()},n:function(e,r){var t;if(0===e)t=Date.now();else{if(1!==e&&4!==e)return re(28),-1;t=ie()}return A[r>>2]=t/1e3|0,A[r+4>>2]=t%1e3*1e3*1e3|0,0},j:function(e,r){V("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},g:function(e,r){V("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},l:function(e,r,t){S.copyWithin(e,r,r+t)},m:function(e){V("OOM")},o:function(e){for(var r=ie();ie()-r<e;);},q:function(n,o){try{var a=0;return fe().forEach(function(e,r){var t=o+a;(function(e,r,t){for(var n=0;n<e.length;++n)D[r++>>0]=e.charCodeAt(n);t||(D[r>>0]=0)})(e,A[n+4*r>>2]=t),a+=e.length+1}),0}catch(e){return void 0!==ue&&e instanceof ue.ErrnoError||V(e),e.errno}},r:function(e,r){try{var t=fe();A[e>>2]=t.length;var n=0;return t.forEach(function(e){n+=e.length+1}),A[r>>2]=n,0}catch(e){return void 0!==ue&&e instanceof ue.ErrnoError||V(e),e.errno}},e:function(e){Pe(e)},f:function(e){try{var r=ce.getStreamFromFD(e);return ue.close(r),0}catch(e){return void 0!==ue&&e instanceof ue.ErrnoError||V(e),e.errno}},p:function(e,r){try{var t=ce.getStreamFromFD(e),t=t.tty?2:ue.isDir(t.mode)?3:ue.isLink(t.mode)?7:4;return D[r>>0]=t,0}catch(e){return void 0!==ue&&e instanceof ue.ErrnoError||V(e),e.errno}},w:function(e,r,t,n){try{var o=ce.getStreamFromFD(e),o=ce.doReadv(o,r,t);return A[n>>2]=o,0}catch(e){return void 0!==ue&&e instanceof ue.ErrnoError||V(e),e.errno}},k:function(e,r,t,n,o){try{var a=ce.getStreamFromFD(e),i=4294967296*t+(r>>>0),s=9007199254740992;return i<=-s||s<=i?-61:(ue.llseek(a,i,n),$=[a.position>>>0,(Y=a.position,1<=+Math.abs(Y)?0<Y?(0|Math.min(+Math.floor(Y/4294967296),4294967295))>>>0:~~+Math.ceil((Y-(~~Y>>>0))/4294967296)>>>0:0)],A[o>>2]=$[0],A[o+4>>2]=$[1],a.getdents&&0==i&&0===n&&(a.getdents=null),0)}catch(e){return void 0!==ue&&e instanceof ue.ErrnoError||V(e),e.errno}},c:function(e,r,t,n){try{var o=ce.getStreamFromFD(e),o=ce.doWritev(o,r,t);return A[n>>2]=o,0}catch(e){return void 0!==ue&&e instanceof ue.ErrnoError||V(e),e.errno}},d:function(){return 6},h:function(){return 28},b:function(e){switch(e){case 30:return 16384;case 85:return S.length/16384;case 132:case 133:case 12:case 137:case 138:case 15:case 235:case 16:case 17:case 18:case 19:case 20:case 149:case 13:case 10:case 236:case 153:case 9:case 21:case 22:case 159:case 154:case 14:case 77:case 78:case 139:case 82:case 68:case 67:case 164:case 11:case 29:case 47:case 48:case 95:case 52:case 51:case 46:return 200809;case 27:case 246:case 127:case 128:case 23:case 24:case 160:case 161:case 181:case 182:case 242:case 183:case 184:case 243:case 244:case 245:case 165:case 178:case 179:case 49:case 50:case 168:case 169:case 175:case 170:case 171:case 172:case 97:case 76:case 32:case 173:case 35:case 80:case 81:case 79:return-1;case 176:case 177:case 7:case 155:case 8:case 157:case 125:case 126:case 92:case 93:case 129:case 130:case 131:case 94:case 91:return 1;case 74:case 60:case 69:case 70:case 4:return 1024;case 31:case 42:case 72:return 32;case 87:case 26:case 33:return 2147483647;case 34:case 1:return 47839;case 38:case 36:return 99;case 43:case 37:return 2048;case 0:return 2097152;case 3:return 65536;case 28:return 32768;case 44:return 32767;case 75:return 16384;case 39:return 1e3;case 89:return 700;case 71:return 256;case 40:return 255;case 2:return 100;case 180:return 64;case 25:return 20;case 5:return 16;case 6:return 6;case 73:return 4;case 84:return"object"==typeof navigator&&navigator.hardwareConcurrency||1}return re(28),-1}},we=(function(){var r={a:pe};function t(e,r){e=e.exports;h.asm=e,E=h.asm.x,e=E.buffer,b=e,h.HEAP8=D=new Int8Array(e),h.HEAP16=new Int16Array(e),h.HEAP32=A=new Int32Array(e),h.HEAPU8=S=new Uint8Array(e),h.HEAPU16=new Uint16Array(e),h.HEAPU32=new Uint32Array(e),h.HEAPF32=new Float32Array(e),h.HEAPF64=new Float64Array(e),N=h.asm.C,q()}function n(e){t(e.instance)}function o(e){return(w||!l&&!f||"function"!=typeof fetch?Promise.resolve().then(function(){return Z(J)}):fetch(J,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+J+"'";return e.arrayBuffer()}).catch(function(){return Z(J)})).then(function(e){return WebAssembly.instantiate(e,r)}).then(e,function(e){p("failed to asynchronously prepare wasm: "+e),V(e)})}if(G(),h.instantiateWasm)try{return h.instantiateWasm(r,t)}catch(e){return p("Module.instantiateWasm callback failed with error: "+e)}(w||"function"!=typeof WebAssembly.instantiateStreaming||K(J)||"function"!=typeof fetch?o(n):fetch(J,{credentials:"same-origin"}).then(function(e){return WebAssembly.instantiateStreaming(e,r).then(n,function(e){return p("wasm streaming compile failed: "+e),p("falling back to ArrayBuffer instantiation"),o(n)})})).catch(a)}(),h.___wasm_call_ctors=function(){return(we=h.___wasm_call_ctors=h.asm.y).apply(null,arguments)}),ge=(h._run_inference=function(){return(h._run_inference=h.asm.z).apply(null,arguments)},h._load_model=function(){return(h._load_model=h.asm.A).apply(null,arguments)},h._main=function(){return(h._main=h.asm.B).apply(null,arguments)},h._memset=function(){return(ge=h._memset=h.asm.D).apply(null,arguments)}),Ee=h._malloc=function(){return(Ee=h._malloc=h.asm.E).apply(null,arguments)},ve=h._free=function(){return(ve=h._free=h.asm.F).apply(null,arguments)},ye=h.___errno_location=function(){return(ye=h.___errno_location=h.asm.G).apply(null,arguments)},_e=h.stackSave=function(){return(_e=h.stackSave=h.asm.H).apply(null,arguments)},ke=h.stackRestore=function(){return(ke=h.stackRestore=h.asm.I).apply(null,arguments)},be=h.stackAlloc=function(){return(be=h.stackAlloc=h.asm.J).apply(null,arguments)},De=h._memalign=function(){return(De=h._memalign=h.asm.K).apply(null,arguments)};function Se(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}h.cwrap=function(e,r,t,n){var o=(t=t||[]).every(function(e){return"number"===e});return"string"!==r&&o&&!n?_(e):function(){return k(e,r,t,arguments)}},h.addRunDependency=G,h.removeRunDependency=q,h.FS_createPath=ue.createPath,h.FS_createDataFile=ue.createDataFile,h.FS_createPreloadedFile=ue.createPreloadedFile,h.FS_createLazyFile=ue.createLazyFile,h.FS_createDevice=ue.createDevice,h.FS_unlink=ue.unlink;function Ae(e){function r(){he||(he=!0,h.calledRun=!0,y||(h.noFSInit||ue.init.initialized||ue.init(),oe.init(),ee(C),ue.ignorePermissions=!1,ee(I),t(h),h.onRuntimeInitialized&&h.onRuntimeInitialized(),Fe&&function(e){var r=h._main,t=(e=e||[]).length+1,n=be(4*(t+1));A[n>>2]=R(u);for(var o=1;o<t;o++)A[(n>>2)+o]=R(e[o-1]);A[(n>>2)+t]=0;try{Pe(r(t,n),!0)}catch(e){if(e instanceof Se)return;if("unwind"==e)return v=!0;var a=e;e&&"object"==typeof e&&e.stack&&(a=[e,e.stack]),p("exception thrown: "+a),c(1,e)}finally{0}}(e),j()))}e=e||s,0<H||(z(),0<H||(h.setStatus?(h.setStatus("Running..."),setTimeout(function(){setTimeout(function(){h.setStatus("")},1),r()},1)):r()))}function Pe(e,r){r&&v&&0===e||(v||(h.onExit&&h.onExit(e),y=!0),c(e,new Se(e)))}if(U=function e(){he||Ae(),he||(U=e)},h.run=Ae,h.preInit)for("function"==typeof h.preInit&&(h.preInit=[h.preInit]);0<h.preInit.length;)h.preInit.pop()();var Fe=!0;return h.noInitialRun&&(Fe=!1),Ae(),e.ready});e.exports=r},641:e=>{var Lr,r=(Lr="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,function(e){var t,a,h=void 0!==(e=e||{})?e:{};h.ready=new Promise(function(e,r){t=e,a=r});var r,n={};for(r in h)h.hasOwnProperty(r)&&(n[r]=h[r]);var o=[],i="./this.program",s=function(e,r){throw r},u=!1,c=!1,u="object"==typeof window,c="function"==typeof importScripts,l="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,f=h.ENVIRONMENT_IS_PTHREAD||!1;f&&(S=h.buffer);var d,m,p="";function w(e){return h.locateFile?h.locateFile(e,p):p+e}(u||c)&&(c?p=self.location.href:"undefined"!=typeof document&&document.currentScript&&(p=document.currentScript.src),p=0!==(p=Lr?Lr:p).indexOf("blob:")?p.substr(0,p.lastIndexOf("/")+1):"",d=function(e){var r=new XMLHttpRequest;return r.open("GET",e,!1),r.send(null),r.responseText},c&&(m=function(e){var r=new XMLHttpRequest;return r.open("GET",e,!1),r.responseType="arraybuffer",r.send(null),new Uint8Array(r.response)}));var g=h.print||console.log.bind(console),E=h.printErr||console.warn.bind(console);for(r in n)n.hasOwnProperty(r)&&(h[r]=n[r]);n=null,h.arguments&&(o=h.arguments),h.thisProgram&&(i=h.thisProgram),h.quit&&(s=h.quit);var v=16;function y(e){y.shown||(y.shown={}),y.shown[e]||(y.shown[e]=1,E(e))}var _;Atomics.load,Atomics.store,Atomics.compareExchange;h.wasmBinary&&(_=h.wasmBinary);var k,b,D=h.noExitRuntime||!0;"object"!=typeof WebAssembly&&oe("no native wasm support detected");var S,A,P,F,x,T,M,O=!1;function R(e,r){e||oe("Assertion failed: "+r)}function N(e){var r=h["_"+e];return R(r,"Cannot call unknown function "+e+", make sure it is exported"),r}function L(e,r,t,n){var o={string:function(e){var r,t=0;return null!=e&&0!==e&&(r=1+(e.length<<2),z(e,t=Ar(r),r)),t},array:function(e){var r,t=Ar(e.length);return r=e,e=t,A.set(r,e),t}};var e=N(e),a=[],i=0;if(n)for(var s=0;s<n.length;s++){var u=o[t[s]];u?(0===i&&(i=Dr()),a[s]=u(n[s])):a[s]=n[s]}var c,e=e.apply(null,a);return c=e,e="string"===r?I(c):"boolean"===r?Boolean(c):c,0!==i&&Sr(i),e}function C(e,r,t){for(var n=r+t,o="";!(n<=r);){var a,i,s=e[r++];if(!s)return o;128&s?(a=63&e[r++],192!=(224&s)?(i=63&e[r++],(s=224==(240&s)?(15&s)<<12|a<<6|i:(7&s)<<18|a<<12|i<<6|63&e[r++])<65536?o+=String.fromCharCode(s):(i=s-65536,o+=String.fromCharCode(55296|i>>10,56320|1023&i))):o+=String.fromCharCode((31&s)<<6|a)):o+=String.fromCharCode(s)}return o}function I(e,r){return e?C(P,e,r):""}function B(e,r,t,n){if(!(0<n))return 0;for(var o=t,a=t+n-1,i=0;i<e.length;++i){var s=e.charCodeAt(i);if((s=55296<=s&&s<=57343?65536+((1023&s)<<10)|1023&e.charCodeAt(++i):s)<=127){if(a<=t)break;r[t++]=s}else if(s<=2047){if(a<=t+1)break;r[t++]=192|s>>6,r[t++]=128|63&s}else if(s<=65535){if(a<=t+2)break;r[t++]=224|s>>12,r[t++]=128|s>>6&63,r[t++]=128|63&s}else{if(a<=t+3)break;r[t++]=240|s>>18,r[t++]=128|s>>12&63,r[t++]=128|s>>6&63,r[t++]=128|63&s}}return r[t]=0,t-o}function z(e,r,t){return B(e,P,r,t)}function j(e){for(var r=0,t=0;t<e.length;++t){var n=e.charCodeAt(t);(n=55296<=n&&n<=57343?65536+((1023&n)<<10)|1023&e.charCodeAt(++t):n)<=127?++r:r+=n<=2047?2:n<=65535?3:4}return r}function H(e){var r=j(e)+1,t=Ar(r);return B(e,A,t,r),t}var W,U,G=h.INITIAL_MEMORY||25165824;if(f)k=h.wasmMemory,S=h.buffer;else if(h.wasmMemory)k=h.wasmMemory;else if(!((k=new WebAssembly.Memory({initial:G/65536,maximum:G/65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw E("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),l&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");G=(S=k?k.buffer:S).byteLength,S=W=S,h.HEAP8=A=new Int8Array(W),h.HEAP16=F=new Int16Array(W),h.HEAP32=x=new Int32Array(W),h.HEAPU8=P=new Uint8Array(W),h.HEAPU16=new Uint16Array(W),h.HEAPU32=T=new Uint32Array(W),h.HEAPF32=new Float32Array(W),h.HEAPF64=M=new Float64Array(W);var q=[],V=[],X=[],K=[],Q=[];function Y(){if(!f){if(h.preRun)for("function"==typeof h.preRun&&(h.preRun=[h.preRun]);h.preRun.length;)e=h.preRun.shift(),q.unshift(e);var e;de(q)}}function $(){f||(h.noFSInit||De.init.initialized||De.init(),_e.init(),de(V))}function J(){if(!f){if(h.postRun)for("function"==typeof h.postRun&&(h.postRun=[h.postRun]);h.postRun.length;)e=h.postRun.shift(),Q.unshift(e);var e;de(Q)}}f||V.push({func:function(){ur()}});var Z=0,ee=null,re=null;function te(e){R(!f,"addRunDependency cannot be used in a pthread worker"),Z++,h.monitorRunDependencies&&h.monitorRunDependencies(Z)}function ne(e){var r;Z--,h.monitorRunDependencies&&h.monitorRunDependencies(Z),0==Z&&(null!==ee&&(clearInterval(ee),ee=null),re&&(r=re,re=null,r()))}function oe(e){h.onAbort&&h.onAbort(e),f&&console.error("Pthread aborting at "+(new Error).stack),E(e+=""),O=!0,e="abort("+e+"). Build with -s ASSERTIONS=1 for more info.";e=new WebAssembly.RuntimeError(e);throw a(e),e}h.preloadedImages={},h.preloadedAudios={};var ae="data:application/octet-stream;base64,";function ie(e){return r=e,e=ae,String.prototype.startsWith?r.startsWith(e):0===r.indexOf(e);var r}var se,ue,ce="tflite-wasm-thread-simd.wasm";function le(e){try{if(e==ce&&_)return new Uint8Array(_);if(m)return m(e);throw"both async and sync fetching of the wasm failed"}catch(e){oe(e)}}ie(ce)||(ce=w(ce));var fe={116636:function(){throw"Canceled!"},116654:function(e,r){setTimeout(function(){vr(e,r)},0)}};function de(e){for(;0<e.length;){var r,t=e.shift();"function"!=typeof t?"number"==typeof(r=t.func)?void 0===t.arg?U.get(r)():U.get(r)(t.arg):r(void 0===t.arg?null:t.arg):t(h)}}var me={EPERM:63,ENOENT:44,ESRCH:71,EINTR:27,EIO:29,ENXIO:60,E2BIG:1,ENOEXEC:45,EBADF:8,ECHILD:12,EAGAIN:6,EWOULDBLOCK:6,ENOMEM:48,EACCES:2,EFAULT:21,ENOTBLK:105,EBUSY:10,EEXIST:20,EXDEV:75,ENODEV:43,ENOTDIR:54,EISDIR:31,EINVAL:28,ENFILE:41,EMFILE:33,ENOTTY:59,ETXTBSY:74,EFBIG:22,ENOSPC:51,ESPIPE:70,EROFS:69,EMLINK:34,EPIPE:64,EDOM:18,ERANGE:68,ENOMSG:49,EIDRM:24,ECHRNG:106,EL2NSYNC:156,EL3HLT:107,EL3RST:108,ELNRNG:109,EUNATCH:110,ENOCSI:111,EL2HLT:112,EDEADLK:16,ENOLCK:46,EBADE:113,EBADR:114,EXFULL:115,ENOANO:104,EBADRQC:103,EBADSLT:102,EDEADLOCK:16,EBFONT:101,ENOSTR:100,ENODATA:116,ETIME:117,ENOSR:118,ENONET:119,ENOPKG:120,EREMOTE:121,ENOLINK:47,EADV:122,ESRMNT:123,ECOMM:124,EPROTO:65,EMULTIHOP:36,EDOTDOT:125,EBADMSG:9,ENOTUNIQ:126,EBADFD:127,EREMCHG:128,ELIBACC:129,ELIBBAD:130,ELIBSCN:131,ELIBMAX:132,ELIBEXEC:133,ENOSYS:52,ENOTEMPTY:55,ENAMETOOLONG:37,ELOOP:32,EOPNOTSUPP:138,EPFNOSUPPORT:139,ECONNRESET:15,ENOBUFS:42,EAFNOSUPPORT:5,EPROTOTYPE:67,ENOTSOCK:57,ENOPROTOOPT:50,ESHUTDOWN:140,ECONNREFUSED:14,EADDRINUSE:3,ECONNABORTED:13,ENETUNREACH:40,ENETDOWN:38,ETIMEDOUT:73,EHOSTDOWN:142,EHOSTUNREACH:23,EINPROGRESS:26,EALREADY:7,EDESTADDRREQ:17,EMSGSIZE:35,EPROTONOSUPPORT:66,ESOCKTNOSUPPORT:137,EADDRNOTAVAIL:4,ENETRESET:39,EISCONN:30,ENOTCONN:53,ETOOMANYREFS:141,EUSERS:136,EDQUOT:19,ESTALE:72,ENOTSUP:138,ENOMEDIUM:148,EILSEQ:25,EOVERFLOW:61,ECANCELED:11,ENOTRECOVERABLE:56,EOWNERDEAD:62,ESTRPIPE:135};function he(e,r){if(e<=0||e>A.length||!0&e||r<0)return-28;if(0==r)return 0;2147483647<=r&&(r=1/0);var t=Atomics.load(x,Tr>>2),n=0;if(t==e){var o=Atomics.compareExchange(x,Tr>>2,t,0);if(o==t&&(n=1,--r<=0))return 1}r=Atomics.notify(x,e>>2,r);if(0<=r)return r+n;throw"Atomics.notify returned an unexpected value "+r}function pe(e){if(f)throw"Internal Error! cleanupThread() can only ever be called from main application thread!";if(!e)throw"Internal Error! Null pthread_ptr in cleanupThread!";var r=ge.pthreads[e];r&&(x[e+12>>2]=0,r=r.worker,ge.returnWorkerToPool(r))}h._emscripten_futex_wake=he;var we,ge={unusedWorkers:[],runningWorkers:[],initMainThreadBlock:function(){},initRuntime:function(){for(var e=cr(228),r=0;r<57;++r)T[e/4+r]=0;var t=(x[e+12>>2]=e)+152;x[t>>2]=t;for(var n=cr(512),r=0;r<128;++r)T[n/4+r]=0;Atomics.store(T,e+100>>2,n),Atomics.store(T,e+40>>2,e),br(e,!c,1),Er(e)},initWorker:function(){},pthreads:{},threadExitHandlers:[],setThreadStatus:function(){},runExitHandlers:function(){for(;0<ge.threadExitHandlers.length;)ge.threadExitHandlers.pop()();f&&dr()&&wr()},runExitHandlersAndDeinitThread:function(e,r){Atomics.store(T,e+56>>2,1),Atomics.store(T,e+60>>2,0),ge.runExitHandlers(),Atomics.store(T,e+4>>2,r),Atomics.store(T,e+0>>2,1),he(e+0,2147483647),br(0,0,0)},threadExit:function(e){var r=dr();r&&(ge.runExitHandlersAndDeinitThread(r,e),f&&postMessage({cmd:"exit"}))},threadCancel:function(){ge.runExitHandlersAndDeinitThread(dr(),-1),postMessage({cmd:"cancelDone"})},terminateAllThreads:function(){for(var e in ge.pthreads)(n=ge.pthreads[e])&&n.worker&&ge.returnWorkerToPool(n.worker);ge.pthreads={};for(var r=0;r<ge.unusedWorkers.length;++r)(t=ge.unusedWorkers[r]).terminate();ge.unusedWorkers=[];for(r=0;r<ge.runningWorkers.length;++r){var t,n=(t=ge.runningWorkers[r]).pthread;ge.freeThreadData(n),t.terminate()}ge.runningWorkers=[]},freeThreadData:function(e){var r;e&&(e.threadInfoStruct&&(r=x[e.threadInfoStruct+100>>2],x[e.threadInfoStruct+100>>2]=0,lr(r),lr(e.threadInfoStruct)),e.threadInfoStruct=0,e.allocatedOwnStack&&e.stackBase&&lr(e.stackBase),e.stackBase=0,e.worker&&(e.worker.pthread=null))},returnWorkerToPool:function(e){ge.runWithoutMainThreadQueuedCalls(function(){delete ge.pthreads[e.pthread.threadInfoStruct],ge.unusedWorkers.push(e),ge.runningWorkers.splice(ge.runningWorkers.indexOf(e),1),ge.freeThreadData(e.pthread),e.pthread=void 0})},runWithoutMainThreadQueuedCalls:function(e){x[xr>>2]=0;try{e()}finally{x[xr>>2]=1}},receiveObjectTransfer:function(e){},loadWasmModuleToWorker:function(o,a){o.onmessage=function(e){var r=e.data,t=r.cmd;if(o.pthread&&(ge.currentProxiedOperationCallerThread=o.pthread.threadInfoStruct),r.targetThread&&r.targetThread!=dr()){var n=ge.pthreads[r.targetThread];return n?n.worker.postMessage(e.data,r.transferList):console.error('Internal error! Worker sent a message "'+t+'" to target pthread '+r.targetThread+", but that thread no longer exists!"),void(ge.currentProxiedOperationCallerThread=void 0)}if("processQueuedMainThreadWork"===t)gr();else if("spawnThread"===t)er(e.data);else if("cleanupThread"===t)pe(r.thread);else if("killThread"===t)!function(e){if(f)throw"Internal Error! killThread() can only ever be called from main application thread!";if(!e)throw"Internal Error! Null pthread_ptr in killThread!";x[e+12>>2]=0,(e=ge.pthreads[e]).worker.terminate(),ge.freeThreadData(e),ge.runningWorkers.splice(ge.runningWorkers.indexOf(e.worker),1),e.worker.pthread=void 0}(r.thread);else if("cancelThread"===t)!function(e){if(f)throw"Internal Error! cancelThread() can only ever be called from main application thread!";if(!e)throw"Internal Error! Null pthread_ptr in cancelThread!";ge.pthreads[e].worker.postMessage({cmd:"cancel"})}(r.thread);else if("loaded"===t)o.loaded=!0,a&&a(o),o.runPthread&&(o.runPthread(),delete o.runPthread);else if("print"===t)g("Thread "+r.threadId+": "+r.text);else if("printErr"===t)E("Thread "+r.threadId+": "+r.text);else if("alert"===t)alert("Thread "+r.threadId+": "+r.text);else if("exit"===t)o.pthread&&Atomics.load(T,o.pthread.threadInfoStruct+64>>2)&&ge.returnWorkerToPool(o);else if("exitProcess"===t)try{Rr(r.returnCode)}catch(e){if(e instanceof Mr)return;throw e}else"cancelDone"===t?ge.returnWorkerToPool(o):"objectTransfer"===t?ge.receiveObjectTransfer(e.data):"setimmediate"===e.data.target?o.postMessage(e.data):E("worker sent an unknown command "+t);ge.currentProxiedOperationCallerThread=void 0},o.onerror=function(e){E("pthread sent an error! "+e.filename+":"+e.lineno+": "+e.message)},o.postMessage({cmd:"load",urlOrBlob:h.mainScriptUrlOrBlob||Lr,wasmMemory:k,wasmModule:b})},allocateUnusedWorker:function(){var e=w("tflite-wasm-thread-simd.worker.js");ge.unusedWorkers.push(new Worker(e))},getNewWorker:function(){return 0==ge.unusedWorkers.length&&(ge.allocateUnusedWorker(),ge.loadWasmModuleToWorker(ge.unusedWorkers[0])),0<ge.unusedWorkers.length?ge.unusedWorkers.pop():null},busySpinWait:function(e){for(var r=performance.now()+e;performance.now()<r;);}};h.establishStackSpace=function(e,r){Pr(e,r),Sr(e)},h.getNoExitRuntime=function(){return D},h.invokeEntryPoint=function(e,r){return U.get(e)(r)},we=f?function(){return performance.now()-h.__performance_now_clock_drift}:function(){return performance.now()};function Ee(e){return x[fr()>>2]=e}var ve={splitPath:function(e){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1)},normalizeArray:function(e,r){for(var t=0,n=e.length-1;0<=n;n--){var o=e[n];"."===o?e.splice(n,1):".."===o?(e.splice(n,1),t++):t&&(e.splice(n,1),t--)}if(r)for(;t;t--)e.unshift("..");return e},normalize:function(e){var r="/"===e.charAt(0),t="/"===e.substr(-1);return(e=!(e=ve.normalizeArray(e.split("/").filter(function(e){return!!e}),!r).join("/"))&&!r?".":e)&&t&&(e+="/"),(r?"/":"")+e},dirname:function(e){var r=ve.splitPath(e),e=r[0],r=r[1];return e||r?e+(r=r&&r.substr(0,r.length-1)):"."},basename:function(e){if("/"===e)return"/";var r=(e=(e=ve.normalize(e)).replace(/\/$/,"")).lastIndexOf("/");return-1===r?e:e.substr(r+1)},extname:function(e){return ve.splitPath(e)[3]},join:function(){var e=Array.prototype.slice.call(arguments,0);return ve.normalize(e.join("/"))},join2:function(e,r){return ve.normalize(e+"/"+r)}};var ye={resolve:function(){for(var e="",r=!1,t=arguments.length-1;-1<=t&&!r;t--){var n=0<=t?arguments[t]:De.cwd();if("string"!=typeof n)throw new TypeError("Arguments to path.resolve must be strings");if(!n)return"";e=n+"/"+e,r="/"===n.charAt(0)}return(r?"/":"")+(e=ve.normalizeArray(e.split("/").filter(function(e){return!!e}),!r).join("/"))||"."},relative:function(e,r){function t(e){for(var r=0;r<e.length&&""===e[r];r++);for(var t=e.length-1;0<=t&&""===e[t];t--);return t<r?[]:e.slice(r,t-r+1)}e=ye.resolve(e).substr(1),r=ye.resolve(r).substr(1);for(var n=t(e.split("/")),o=t(r.split("/")),a=Math.min(n.length,o.length),i=a,s=0;s<a;s++)if(n[s]!==o[s]){i=s;break}for(var u=[],s=i;s<n.length;s++)u.push("..");return(u=u.concat(o.slice(i))).join("/")}},_e={ttys:[],init:function(){},shutdown:function(){},register:function(e,r){_e.ttys[e]={input:[],output:[],ops:r},De.registerDevice(e,_e.stream_ops)},stream_ops:{open:function(e){var r=_e.ttys[e.node.rdev];if(!r)throw new De.ErrnoError(43);e.tty=r,e.seekable=!1},close:function(e){e.tty.ops.flush(e.tty)},flush:function(e){e.tty.ops.flush(e.tty)},read:function(e,r,t,n,o){if(!e.tty||!e.tty.ops.get_char)throw new De.ErrnoError(60);for(var a,i=0,s=0;s<n;s++){try{a=e.tty.ops.get_char(e.tty)}catch(e){throw new De.ErrnoError(29)}if(void 0===a&&0===i)throw new De.ErrnoError(6);if(null==a)break;i++,r[t+s]=a}return i&&(e.node.timestamp=Date.now()),i},write:function(e,r,t,n,o){if(!e.tty||!e.tty.ops.put_char)throw new De.ErrnoError(60);try{for(var a=0;a<n;a++)e.tty.ops.put_char(e.tty,r[t+a])}catch(e){throw new De.ErrnoError(29)}return n&&(e.node.timestamp=Date.now()),a}},default_tty_ops:{get_char:function(e){if(!e.input.length){var r=null;if("undefined"!=typeof window&&"function"==typeof window.prompt?null!==(r=window.prompt("Input: "))&&(r+="\n"):"function"==typeof readline&&null!==(r=readline())&&(r+="\n"),!r)return null;e.input=ar(r,!0)}return e.input.shift()},put_char:function(e,r){null===r||10===r?(g(C(e.output,0)),e.output=[]):0!=r&&e.output.push(r)},flush:function(e){e.output&&0<e.output.length&&(g(C(e.output,0)),e.output=[])}},default_tty1_ops:{put_char:function(e,r){null===r||10===r?(E(C(e.output,0)),e.output=[]):0!=r&&e.output.push(r)},flush:function(e){e.output&&0<e.output.length&&(E(C(e.output,0)),e.output=[])}}};function ke(e){for(var r,t,n=(r=e,t=(t=16384)||v,Math.ceil(r/t)*t),o=cr(n);e<n;)A[o+e++]=0;return o}var be={ops_table:null,mount:function(e){return be.createNode(null,"/",16895,0)},createNode:function(e,r,t,n){if(De.isBlkdev(t)||De.isFIFO(t))throw new De.ErrnoError(63);be.ops_table||(be.ops_table={dir:{node:{getattr:be.node_ops.getattr,setattr:be.node_ops.setattr,lookup:be.node_ops.lookup,mknod:be.node_ops.mknod,rename:be.node_ops.rename,unlink:be.node_ops.unlink,rmdir:be.node_ops.rmdir,readdir:be.node_ops.readdir,symlink:be.node_ops.symlink},stream:{llseek:be.stream_ops.llseek}},file:{node:{getattr:be.node_ops.getattr,setattr:be.node_ops.setattr},stream:{llseek:be.stream_ops.llseek,read:be.stream_ops.read,write:be.stream_ops.write,allocate:be.stream_ops.allocate,mmap:be.stream_ops.mmap,msync:be.stream_ops.msync}},link:{node:{getattr:be.node_ops.getattr,setattr:be.node_ops.setattr,readlink:be.node_ops.readlink},stream:{}},chrdev:{node:{getattr:be.node_ops.getattr,setattr:be.node_ops.setattr},stream:De.chrdev_stream_ops}});n=De.createNode(e,r,t,n);return De.isDir(n.mode)?(n.node_ops=be.ops_table.dir.node,n.stream_ops=be.ops_table.dir.stream,n.contents={}):De.isFile(n.mode)?(n.node_ops=be.ops_table.file.node,n.stream_ops=be.ops_table.file.stream,n.usedBytes=0,n.contents=null):De.isLink(n.mode)?(n.node_ops=be.ops_table.link.node,n.stream_ops=be.ops_table.link.stream):De.isChrdev(n.mode)&&(n.node_ops=be.ops_table.chrdev.node,n.stream_ops=be.ops_table.chrdev.stream),n.timestamp=Date.now(),e&&(e.contents[r]=n,e.timestamp=n.timestamp),n},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array(0)},expandFileStorage:function(e,r){var t=e.contents?e.contents.length:0;r<=t||(r=Math.max(r,t*(t<1048576?2:1.125)>>>0),0!=t&&(r=Math.max(r,256)),t=e.contents,e.contents=new Uint8Array(r),0<e.usedBytes&&e.contents.set(t.subarray(0,e.usedBytes),0))},resizeFileStorage:function(e,r){var t;e.usedBytes!=r&&(0==r?(e.contents=null,e.usedBytes=0):(t=e.contents,e.contents=new Uint8Array(r),t&&e.contents.set(t.subarray(0,Math.min(r,e.usedBytes))),e.usedBytes=r))},node_ops:{getattr:function(e){var r={};return r.dev=De.isChrdev(e.mode)?e.id:1,r.ino=e.id,r.mode=e.mode,r.nlink=1,r.uid=0,r.gid=0,r.rdev=e.rdev,De.isDir(e.mode)?r.size=4096:De.isFile(e.mode)?r.size=e.usedBytes:De.isLink(e.mode)?r.size=e.link.length:r.size=0,r.atime=new Date(e.timestamp),r.mtime=new Date(e.timestamp),r.ctime=new Date(e.timestamp),r.blksize=4096,r.blocks=Math.ceil(r.size/r.blksize),r},setattr:function(e,r){void 0!==r.mode&&(e.mode=r.mode),void 0!==r.timestamp&&(e.timestamp=r.timestamp),void 0!==r.size&&be.resizeFileStorage(e,r.size)},lookup:function(e,r){throw De.genericErrors[44]},mknod:function(e,r,t,n){return be.createNode(e,r,t,n)},rename:function(e,r,t){if(De.isDir(e.mode)){var n;try{n=De.lookupNode(r,t)}catch(e){}if(n)for(var o in n.contents)throw new De.ErrnoError(55)}delete e.parent.contents[e.name],e.parent.timestamp=Date.now(),e.name=t,r.contents[t]=e,r.timestamp=e.parent.timestamp,e.parent=r},unlink:function(e,r){delete e.contents[r],e.timestamp=Date.now()},rmdir:function(e,r){for(var t in De.lookupNode(e,r).contents)throw new De.ErrnoError(55);delete e.contents[r],e.timestamp=Date.now()},readdir:function(e){var r,t=[".",".."];for(r in e.contents)e.contents.hasOwnProperty(r)&&t.push(r);return t},symlink:function(e,r,t){r=be.createNode(e,r,41471,0);return r.link=t,r},readlink:function(e){if(!De.isLink(e.mode))throw new De.ErrnoError(28);return e.link}},stream_ops:{read:function(e,r,t,n,o){var a=e.node.contents;if(o>=e.node.usedBytes)return 0;var i=Math.min(e.node.usedBytes-o,n);if(8<i&&a.subarray)r.set(a.subarray(o,o+i),t);else for(var s=0;s<i;s++)r[t+s]=a[o+s];return i},write:function(e,r,t,n,o,a){if(!n)return 0;var i=e.node;if(i.timestamp=Date.now(),r.subarray&&(!i.contents||i.contents.subarray)){if(a)return i.contents=r.subarray(t,t+n),i.usedBytes=n;if(0===i.usedBytes&&0===o)return i.contents=r.slice(t,t+n),i.usedBytes=n;if(o+n<=i.usedBytes)return i.contents.set(r.subarray(t,t+n),o),n}if(be.expandFileStorage(i,o+n),i.contents.subarray&&r.subarray)i.contents.set(r.subarray(t,t+n),o);else for(var s=0;s<n;s++)i.contents[o+s]=r[t+s];return i.usedBytes=Math.max(i.usedBytes,o+n),n},llseek:function(e,r,t){if(1===t?r+=e.position:2===t&&De.isFile(e.node.mode)&&(r+=e.node.usedBytes),r<0)throw new De.ErrnoError(28);return r},allocate:function(e,r,t){be.expandFileStorage(e.node,r+t),e.node.usedBytes=Math.max(e.node.usedBytes,r+t)},mmap:function(e,r,t,n,o,a){if(0!==r)throw new De.ErrnoError(28);if(!De.isFile(e.node.mode))throw new De.ErrnoError(43);var i,s,e=e.node.contents;if(2&a||e.buffer!==S){if((0<n||n+t<e.length)&&(e=e.subarray?e.subarray(n,n+t):Array.prototype.slice.call(e,n,n+t)),s=!0,!(i=ke(t)))throw new De.ErrnoError(48);A.set(e,i)}else s=!1,i=e.byteOffset;return{ptr:i,allocated:s}},msync:function(e,r,t,n,o){if(!De.isFile(e.node.mode))throw new De.ErrnoError(43);if(2&o)return 0;be.stream_ops.write(e,r,0,n,t,!1);return 0}}},De={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:function(e,r){if(r=r||{},!(e=ye.resolve(De.cwd(),e)))return{path:"",node:null};var t,n={follow_mount:!0,recurse_count:0};for(t in n)void 0===r[t]&&(r[t]=n[t]);if(8<r.recurse_count)throw new De.ErrnoError(32);for(var o=ve.normalizeArray(e.split("/").filter(function(e){return!!e}),!1),a=De.root,i="/",s=0;s<o.length;s++){var u=s===o.length-1;if(u&&r.parent)break;if(a=De.lookupNode(a,o[s]),i=ve.join2(i,o[s]),De.isMountpoint(a)&&(!u||u&&r.follow_mount)&&(a=a.mounted.root),!u||r.follow)for(var c=0;De.isLink(a.mode);){var l=De.readlink(i),i=ye.resolve(ve.dirname(i),l),a=De.lookupPath(i,{recurse_count:r.recurse_count}).node;if(40<c++)throw new De.ErrnoError(32)}}return{path:i,node:a}},getPath:function(e){for(var r;;){if(De.isRoot(e)){var t=e.mount.mountpoint;return r?"/"!==t[t.length-1]?t+"/"+r:t+r:t}r=r?e.name+"/"+r:e.name,e=e.parent}},hashName:function(e,r){for(var t=0,n=0;n<r.length;n++)t=(t<<5)-t+r.charCodeAt(n)|0;return(e+t>>>0)%De.nameTable.length},hashAddNode:function(e){var r=De.hashName(e.parent.id,e.name);e.name_next=De.nameTable[r],De.nameTable[r]=e},hashRemoveNode:function(e){var r=De.hashName(e.parent.id,e.name);if(De.nameTable[r]===e)De.nameTable[r]=e.name_next;else for(var t=De.nameTable[r];t;){if(t.name_next===e){t.name_next=e.name_next;break}t=t.name_next}},lookupNode:function(e,r){var t=De.mayLookup(e);if(t)throw new De.ErrnoError(t,e);for(var t=De.hashName(e.id,r),n=De.nameTable[t];n;n=n.name_next){var o=n.name;if(n.parent.id===e.id&&o===r)return n}return De.lookup(e,r)},createNode:function(e,r,t,n){n=new De.FSNode(e,r,t,n);return De.hashAddNode(n),n},destroyNode:function(e){De.hashRemoveNode(e)},isRoot:function(e){return e===e.parent},isMountpoint:function(e){return!!e.mounted},isFile:function(e){return 32768==(61440&e)},isDir:function(e){return 16384==(61440&e)},isLink:function(e){return 40960==(61440&e)},isChrdev:function(e){return 8192==(61440&e)},isBlkdev:function(e){return 24576==(61440&e)},isFIFO:function(e){return 4096==(61440&e)},isSocket:function(e){return 49152==(49152&e)},flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:function(e){var r=De.flagModes[e];if(void 0===r)throw new Error("Unknown file open mode: "+e);return r},flagsToPermissionString:function(e){var r=["r","w","rw"][3&e];return 512&e&&(r+="w"),r},nodePermissions:function(e,r){return De.ignorePermissions||(-1===r.indexOf("r")||292&e.mode)&&(-1===r.indexOf("w")||146&e.mode)&&(-1===r.indexOf("x")||73&e.mode)?0:2},mayLookup:function(e){var r=De.nodePermissions(e,"x");return r||(e.node_ops.lookup?0:2)},mayCreate:function(e,r){try{De.lookupNode(e,r);return 20}catch(e){}return De.nodePermissions(e,"wx")},mayDelete:function(e,r,t){var n;try{n=De.lookupNode(e,r)}catch(e){return e.errno}var o=De.nodePermissions(e,"wx");if(o)return o;if(t){if(!De.isDir(n.mode))return 54;if(De.isRoot(n)||De.getPath(n)===De.cwd())return 10}else if(De.isDir(n.mode))return 31;return 0},mayOpen:function(e,r){return e?De.isLink(e.mode)?32:De.isDir(e.mode)&&("r"!==De.flagsToPermissionString(r)||512&r)?31:De.nodePermissions(e,De.flagsToPermissionString(r)):44},MAX_OPEN_FDS:4096,nextfd:function(e,r){e=e||0,r=r||De.MAX_OPEN_FDS;for(var t=e;t<=r;t++)if(!De.streams[t])return t;throw new De.ErrnoError(33)},getStream:function(e){return De.streams[e]},createStream:function(e,r,t){De.FSStream||(De.FSStream=function(){},De.FSStream.prototype={object:{get:function(){return this.node},set:function(e){this.node=e}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}}});var n,o=new De.FSStream;for(n in e)o[n]=e[n];e=o;t=De.nextfd(r,t);return e.fd=t,De.streams[t]=e},closeStream:function(e){De.streams[e]=null},chrdev_stream_ops:{open:function(e){var r=De.getDevice(e.node.rdev);e.stream_ops=r.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:function(){throw new De.ErrnoError(70)}},major:function(e){return e>>8},minor:function(e){return 255&e},makedev:function(e,r){return e<<8|r},registerDevice:function(e,r){De.devices[e]={stream_ops:r}},getDevice:function(e){return De.devices[e]},getMounts:function(e){for(var r=[],t=[e];t.length;){var n=t.pop();r.push(n),t.push.apply(t,n.mounts)}return r},syncfs:function(r,t){"function"==typeof r&&(t=r,r=!1),De.syncFSRequests++,1<De.syncFSRequests&&E("warning: "+De.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var n=De.getMounts(De.root.mount),o=0;function a(e){return De.syncFSRequests--,t(e)}function i(e){if(e)return i.errored?void 0:(i.errored=!0,a(e));++o>=n.length&&a(null)}n.forEach(function(e){return e.type.syncfs?void e.type.syncfs(e,r,i):i(null)})},mount:function(e,r,t){var n="/"===t,o=!t;if(n&&De.root)throw new De.ErrnoError(10);if(!n&&!o){var a=De.lookupPath(t,{follow_mount:!1});if(t=a.path,a=a.node,De.isMountpoint(a))throw new De.ErrnoError(10);if(!De.isDir(a.mode))throw new De.ErrnoError(54)}t={type:e,opts:r,mountpoint:t,mounts:[]},e=e.mount(t);return(e.mount=t).root=e,n?De.root=e:a&&(a.mounted=t,a.mount&&a.mount.mounts.push(t)),e},unmount:function(e){var r=De.lookupPath(e,{follow_mount:!1});if(!De.isMountpoint(r.node))throw new De.ErrnoError(28);var e=r.node,r=e.mounted,n=De.getMounts(r);Object.keys(De.nameTable).forEach(function(e){for(var r=De.nameTable[e];r;){var t=r.name_next;-1!==n.indexOf(r.mount)&&De.destroyNode(r),r=t}}),e.mounted=null;r=e.mount.mounts.indexOf(r);e.mount.mounts.splice(r,1)},lookup:function(e,r){return e.node_ops.lookup(e,r)},mknod:function(e,r,t){var n=De.lookupPath(e,{parent:!0}).node,o=ve.basename(e);if(!o||"."===o||".."===o)throw new De.ErrnoError(28);e=De.mayCreate(n,o);if(e)throw new De.ErrnoError(e);if(!n.node_ops.mknod)throw new De.ErrnoError(63);return n.node_ops.mknod(n,o,r,t)},create:function(e,r){return r=void 0!==r?r:438,r&=4095,r|=32768,De.mknod(e,r,0)},mkdir:function(e,r){return r=void 0!==r?r:511,r&=1023,r|=16384,De.mknod(e,r,0)},mkdirTree:function(e,r){for(var t=e.split("/"),n="",o=0;o<t.length;++o)if(t[o]){n+="/"+t[o];try{De.mkdir(n,r)}catch(e){if(20!=e.errno)throw e}}},mkdev:function(e,r,t){return void 0===t&&(t=r,r=438),r|=8192,De.mknod(e,r,t)},symlink:function(e,r){if(!ye.resolve(e))throw new De.ErrnoError(44);var t=De.lookupPath(r,{parent:!0}).node;if(!t)throw new De.ErrnoError(44);var n=ve.basename(r),r=De.mayCreate(t,n);if(r)throw new De.ErrnoError(r);if(!t.node_ops.symlink)throw new De.ErrnoError(63);return t.node_ops.symlink(t,n,e)},rename:function(r,t){var e=ve.dirname(r),n=ve.dirname(t),o=ve.basename(r),a=ve.basename(t),i=De.lookupPath(r,{parent:!0}),s=i.node,u=De.lookupPath(t,{parent:!0}).node;if(!s||!u)throw new De.ErrnoError(44);if(s.mount!==u.mount)throw new De.ErrnoError(75);var c,l=De.lookupNode(s,o),n=ye.relative(r,n);if("."!==n.charAt(0))throw new De.ErrnoError(28);if("."!==(n=ye.relative(t,e)).charAt(0))throw new De.ErrnoError(55);try{c=De.lookupNode(u,a)}catch(e){}if(l!==c){n=De.isDir(l.mode),o=De.mayDelete(s,o,n);if(o)throw new De.ErrnoError(o);if(o=c?De.mayDelete(u,a,n):De.mayCreate(u,a))throw new De.ErrnoError(o);if(!s.node_ops.rename)throw new De.ErrnoError(63);if(De.isMountpoint(l)||c&&De.isMountpoint(c))throw new De.ErrnoError(10);if(u!==s&&(o=De.nodePermissions(s,"w")))throw new De.ErrnoError(o);try{De.trackingDelegate.willMovePath&&De.trackingDelegate.willMovePath(r,t)}catch(e){E("FS.trackingDelegate['willMovePath']('"+r+"', '"+t+"') threw an exception: "+e.message)}De.hashRemoveNode(l);try{s.node_ops.rename(l,u,a)}catch(e){throw e}finally{De.hashAddNode(l)}try{De.trackingDelegate.onMovePath&&De.trackingDelegate.onMovePath(r,t)}catch(e){E("FS.trackingDelegate['onMovePath']('"+r+"', '"+t+"') threw an exception: "+e.message)}}},rmdir:function(r){var e=De.lookupPath(r,{parent:!0}).node,t=ve.basename(r),n=De.lookupNode(e,t),o=De.mayDelete(e,t,!0);if(o)throw new De.ErrnoError(o);if(!e.node_ops.rmdir)throw new De.ErrnoError(63);if(De.isMountpoint(n))throw new De.ErrnoError(10);try{De.trackingDelegate.willDeletePath&&De.trackingDelegate.willDeletePath(r)}catch(e){E("FS.trackingDelegate['willDeletePath']('"+r+"') threw an exception: "+e.message)}e.node_ops.rmdir(e,t),De.destroyNode(n);try{De.trackingDelegate.onDeletePath&&De.trackingDelegate.onDeletePath(r)}catch(e){E("FS.trackingDelegate['onDeletePath']('"+r+"') threw an exception: "+e.message)}},readdir:function(e){e=De.lookupPath(e,{follow:!0}).node;if(!e.node_ops.readdir)throw new De.ErrnoError(54);return e.node_ops.readdir(e)},unlink:function(r){var e=De.lookupPath(r,{parent:!0}).node,t=ve.basename(r),n=De.lookupNode(e,t),o=De.mayDelete(e,t,!1);if(o)throw new De.ErrnoError(o);if(!e.node_ops.unlink)throw new De.ErrnoError(63);if(De.isMountpoint(n))throw new De.ErrnoError(10);try{De.trackingDelegate.willDeletePath&&De.trackingDelegate.willDeletePath(r)}catch(e){E("FS.trackingDelegate['willDeletePath']('"+r+"') threw an exception: "+e.message)}e.node_ops.unlink(e,t),De.destroyNode(n);try{De.trackingDelegate.onDeletePath&&De.trackingDelegate.onDeletePath(r)}catch(e){E("FS.trackingDelegate['onDeletePath']('"+r+"') threw an exception: "+e.message)}},readlink:function(e){e=De.lookupPath(e).node;if(!e)throw new De.ErrnoError(44);if(!e.node_ops.readlink)throw new De.ErrnoError(28);return ye.resolve(De.getPath(e.parent),e.node_ops.readlink(e))},stat:function(e,r){r=De.lookupPath(e,{follow:!r}).node;if(!r)throw new De.ErrnoError(44);if(!r.node_ops.getattr)throw new De.ErrnoError(63);return r.node_ops.getattr(r)},lstat:function(e){return De.stat(e,!0)},chmod:function(e,r,t){if(!(e="string"==typeof e?De.lookupPath(e,{follow:!t}).node:e).node_ops.setattr)throw new De.ErrnoError(63);e.node_ops.setattr(e,{mode:4095&r|-4096&e.mode,timestamp:Date.now()})},lchmod:function(e,r){De.chmod(e,r,!0)},fchmod:function(e,r){e=De.getStream(e);if(!e)throw new De.ErrnoError(8);De.chmod(e.node,r)},chown:function(e,r,t,n){if(!(e="string"==typeof e?De.lookupPath(e,{follow:!n}).node:e).node_ops.setattr)throw new De.ErrnoError(63);e.node_ops.setattr(e,{timestamp:Date.now()})},lchown:function(e,r,t){De.chown(e,r,t,!0)},fchown:function(e,r,t){e=De.getStream(e);if(!e)throw new De.ErrnoError(8);De.chown(e.node,r,t)},truncate:function(e,r){if(r<0)throw new De.ErrnoError(28);var t;if(!(t="string"==typeof e?De.lookupPath(e,{follow:!0}).node:e).node_ops.setattr)throw new De.ErrnoError(63);if(De.isDir(t.mode))throw new De.ErrnoError(31);if(!De.isFile(t.mode))throw new De.ErrnoError(28);e=De.nodePermissions(t,"w");if(e)throw new De.ErrnoError(e);t.node_ops.setattr(t,{size:r,timestamp:Date.now()})},ftruncate:function(e,r){e=De.getStream(e);if(!e)throw new De.ErrnoError(8);if(0==(2097155&e.flags))throw new De.ErrnoError(28);De.truncate(e.node,r)},utime:function(e,r,t){e=De.lookupPath(e,{follow:!0}).node;e.node_ops.setattr(e,{timestamp:Math.max(r,t)})},open:function(r,e,t,n,o){if(""===r)throw new De.ErrnoError(44);if(t=void 0===t?438:t,t=64&(e="string"==typeof e?De.modeStringToFlags(e):e)?4095&t|32768:0,"object"==typeof r)a=r;else{r=ve.normalize(r);try{var a=De.lookupPath(r,{follow:!(131072&e)}).node}catch(e){}}var i=!1;if(64&e)if(a){if(128&e)throw new De.ErrnoError(20)}else a=De.mknod(r,t,0),i=!0;if(!a)throw new De.ErrnoError(44);if(De.isChrdev(a.mode)&&(e&=-513),65536&e&&!De.isDir(a.mode))throw new De.ErrnoError(54);if(!i){i=De.mayOpen(a,e);if(i)throw new De.ErrnoError(i)}512&e&&De.truncate(a,0),e&=-131713;var s,o=De.createStream({node:a,path:De.getPath(a),flags:e,seekable:!0,position:0,stream_ops:a.stream_ops,ungotten:[],error:!1},n,o);o.stream_ops.open&&o.stream_ops.open(o),!h.logReadFiles||1&e||(De.readFiles||(De.readFiles={}),r in De.readFiles||(De.readFiles[r]=1,E("FS.trackingDelegate error on read file: "+r)));try{De.trackingDelegate.onOpenFile&&(s=0,1!=(2097155&e)&&(s|=De.tracking.openFlags.READ),0!=(2097155&e)&&(s|=De.tracking.openFlags.WRITE),De.trackingDelegate.onOpenFile(r,s))}catch(e){E("FS.trackingDelegate['onOpenFile']('"+r+"', flags) threw an exception: "+e.message)}return o},close:function(e){if(De.isClosed(e))throw new De.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(e){throw e}finally{De.closeStream(e.fd)}e.fd=null},isClosed:function(e){return null===e.fd},llseek:function(e,r,t){if(De.isClosed(e))throw new De.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new De.ErrnoError(70);if(0!=t&&1!=t&&2!=t)throw new De.ErrnoError(28);return e.position=e.stream_ops.llseek(e,r,t),e.ungotten=[],e.position},read:function(e,r,t,n,o){if(n<0||o<0)throw new De.ErrnoError(28);if(De.isClosed(e))throw new De.ErrnoError(8);if(1==(2097155&e.flags))throw new De.ErrnoError(8);if(De.isDir(e.node.mode))throw new De.ErrnoError(31);if(!e.stream_ops.read)throw new De.ErrnoError(28);var a=void 0!==o;if(a){if(!e.seekable)throw new De.ErrnoError(70)}else o=e.position;o=e.stream_ops.read(e,r,t,n,o);return a||(e.position+=o),o},write:function(r,e,t,n,o,a){if(n<0||o<0)throw new De.ErrnoError(28);if(De.isClosed(r))throw new De.ErrnoError(8);if(0==(2097155&r.flags))throw new De.ErrnoError(8);if(De.isDir(r.node.mode))throw new De.ErrnoError(31);if(!r.stream_ops.write)throw new De.ErrnoError(28);r.seekable&&1024&r.flags&&De.llseek(r,0,2);var i=void 0!==o;if(i){if(!r.seekable)throw new De.ErrnoError(70)}else o=r.position;a=r.stream_ops.write(r,e,t,n,o,a);i||(r.position+=a);try{r.path&&De.trackingDelegate.onWriteToFile&&De.trackingDelegate.onWriteToFile(r.path)}catch(e){E("FS.trackingDelegate['onWriteToFile']('"+r.path+"') threw an exception: "+e.message)}return a},allocate:function(e,r,t){if(De.isClosed(e))throw new De.ErrnoError(8);if(r<0||t<=0)throw new De.ErrnoError(28);if(0==(2097155&e.flags))throw new De.ErrnoError(8);if(!De.isFile(e.node.mode)&&!De.isDir(e.node.mode))throw new De.ErrnoError(43);if(!e.stream_ops.allocate)throw new De.ErrnoError(138);e.stream_ops.allocate(e,r,t)},mmap:function(e,r,t,n,o,a){if(0!=(2&o)&&0==(2&a)&&2!=(2097155&e.flags))throw new De.ErrnoError(2);if(1==(2097155&e.flags))throw new De.ErrnoError(2);if(!e.stream_ops.mmap)throw new De.ErrnoError(43);return e.stream_ops.mmap(e,r,t,n,o,a)},msync:function(e,r,t,n,o){return e&&e.stream_ops.msync?e.stream_ops.msync(e,r,t,n,o):0},munmap:function(e){return 0},ioctl:function(e,r,t){if(!e.stream_ops.ioctl)throw new De.ErrnoError(59);return e.stream_ops.ioctl(e,r,t)},readFile:function(e,r){if((r=r||{}).flags=r.flags||0,r.encoding=r.encoding||"binary","utf8"!==r.encoding&&"binary"!==r.encoding)throw new Error('Invalid encoding type "'+r.encoding+'"');var t,n=De.open(e,r.flags),o=De.stat(e).size,e=new Uint8Array(o);return De.read(n,e,0,o,0),"utf8"===r.encoding?t=C(e,0):"binary"===r.encoding&&(t=e),De.close(n),t},writeFile:function(e,r,t){(t=t||{}).flags=t.flags||577;var n=De.open(e,t.flags,t.mode);if("string"==typeof r){var o=new Uint8Array(j(r)+1),e=B(r,o,0,o.length);De.write(n,o,0,e,void 0,t.canOwn)}else{if(!ArrayBuffer.isView(r))throw new Error("Unsupported data type");De.write(n,r,0,r.byteLength,void 0,t.canOwn)}De.close(n)},cwd:function(){return De.currentPath},chdir:function(e){var r=De.lookupPath(e,{follow:!0});if(null===r.node)throw new De.ErrnoError(44);if(!De.isDir(r.node.mode))throw new De.ErrnoError(54);e=De.nodePermissions(r.node,"x");if(e)throw new De.ErrnoError(e);De.currentPath=r.path},createDefaultDirectories:function(){De.mkdir("/tmp"),De.mkdir("/home"),De.mkdir("/home/web_user")},createDefaultDevices:function(){De.mkdir("/dev"),De.registerDevice(De.makedev(1,3),{read:function(){return 0},write:function(e,r,t,n,o){return n}}),De.mkdev("/dev/null",De.makedev(1,3)),_e.register(De.makedev(5,0),_e.default_tty_ops),_e.register(De.makedev(6,0),_e.default_tty1_ops),De.mkdev("/dev/tty",De.makedev(5,0)),De.mkdev("/dev/tty1",De.makedev(6,0));var e=function(){if("object"!=typeof crypto||"function"!=typeof crypto.getRandomValues)return function(){oe("randomDevice")};var e=new Uint8Array(1);return function(){return crypto.getRandomValues(e),e[0]}}();De.createDevice("/dev","random",e),De.createDevice("/dev","urandom",e),De.mkdir("/dev/shm"),De.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){De.mkdir("/proc");var r=De.mkdir("/proc/self");De.mkdir("/proc/self/fd"),De.mount({mount:function(){var e=De.createNode(r,"fd",16895,73);return e.node_ops={lookup:function(e,r){var r=+r,t=De.getStream(r);if(!t)throw new De.ErrnoError(8);r={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return t.path}}};return r.parent=r}},e}},{},"/proc/self/fd")},createStandardStreams:function(){h.stdin?De.createDevice("/dev","stdin",h.stdin):De.symlink("/dev/tty","/dev/stdin"),h.stdout?De.createDevice("/dev","stdout",null,h.stdout):De.symlink("/dev/tty","/dev/stdout"),h.stderr?De.createDevice("/dev","stderr",null,h.stderr):De.symlink("/dev/tty1","/dev/stderr");De.open("/dev/stdin",0),De.open("/dev/stdout",1),De.open("/dev/stderr",1)},ensureErrnoError:function(){De.ErrnoError||(De.ErrnoError=function(e,r){this.node=r,this.setErrno=function(e){this.errno=e},this.setErrno(e),this.message="FS error"},De.ErrnoError.prototype=new Error,De.ErrnoError.prototype.constructor=De.ErrnoError,[44].forEach(function(e){De.genericErrors[e]=new De.ErrnoError(e),De.genericErrors[e].stack="<generic error, no stack>"}))},staticInit:function(){De.ensureErrnoError(),De.nameTable=new Array(4096),De.mount(be,{},"/"),De.createDefaultDirectories(),De.createDefaultDevices(),De.createSpecialDirectories(),De.filesystems={MEMFS:be}},init:function(e,r,t){De.init.initialized=!0,De.ensureErrnoError(),h.stdin=e||h.stdin,h.stdout=r||h.stdout,h.stderr=t||h.stderr,De.createStandardStreams()},quit:function(){De.init.initialized=!1;var e=h._fflush;e&&e(0);for(var r=0;r<De.streams.length;r++){var t=De.streams[r];t&&De.close(t)}},getMode:function(e,r){var t=0;return e&&(t|=365),r&&(t|=146),t},findObject:function(e,r){r=De.analyzePath(e,r);return r.exists?r.object:null},analyzePath:function(e,r){try{e=(n=De.lookupPath(e,{follow:!r})).path}catch(e){}var t={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var n=De.lookupPath(e,{parent:!0});t.parentExists=!0,t.parentPath=n.path,t.parentObject=n.node,t.name=ve.basename(e),n=De.lookupPath(e,{follow:!r}),t.exists=!0,t.path=n.path,t.object=n.node,t.name=n.node.name,t.isRoot="/"===n.path}catch(e){t.error=e.errno}return t},createPath:function(e,r,t,n){e="string"==typeof e?e:De.getPath(e);for(var o=r.split("/").reverse();o.length;){var a=o.pop();if(a){var i=ve.join2(e,a);try{De.mkdir(i)}catch(e){}e=i}}return i},createFile:function(e,r,t,n,o){r=ve.join2("string"==typeof e?e:De.getPath(e),r),o=De.getMode(n,o);return De.create(r,o)},createDataFile:function(e,r,t,n,o,a){e=r?ve.join2("string"==typeof e?e:De.getPath(e),r):e,n=De.getMode(n,o),o=De.create(e,n);if(t){if("string"==typeof t){for(var i=new Array(t.length),s=0,u=t.length;s<u;++s)i[s]=t.charCodeAt(s);t=i}De.chmod(o,146|n);e=De.open(o,577);De.write(e,t,0,t.length,0,a),De.close(e),De.chmod(o,n)}return o},createDevice:function(e,r,u,i){var t=ve.join2("string"==typeof e?e:De.getPath(e),r),e=De.getMode(!!u,!!i);De.createDevice.major||(De.createDevice.major=64);r=De.makedev(De.createDevice.major++,0);return De.registerDevice(r,{open:function(e){e.seekable=!1},close:function(e){i&&i.buffer&&i.buffer.length&&i(10)},read:function(e,r,t,n,o){for(var a,i=0,s=0;s<n;s++){try{a=u()}catch(e){throw new De.ErrnoError(29)}if(void 0===a&&0===i)throw new De.ErrnoError(6);if(null==a)break;i++,r[t+s]=a}return i&&(e.node.timestamp=Date.now()),i},write:function(e,r,t,n,o){for(var a=0;a<n;a++)try{i(r[t+a])}catch(e){throw new De.ErrnoError(29)}return n&&(e.node.timestamp=Date.now()),a}}),De.mkdev(t,e,r)},forceLoadFile:function(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!d)throw new Error("Cannot load without read() or XMLHttpRequest.");try{e.contents=ar(d(e.url),!0),e.usedBytes=e.contents.length}catch(e){throw new De.ErrnoError(29)}},createLazyFile:function(e,r,i,t,n){function o(){this.lengthKnown=!1,this.chunks=[]}if(o.prototype.get=function(e){if(!(e>this.length-1||e<0)){var r=e%this.chunkSize,e=e/this.chunkSize|0;return this.getter(e)[r]}},o.prototype.setDataGetter=function(e){this.getter=e},o.prototype.cacheLength=function(){var e=new XMLHttpRequest;if(e.open("HEAD",i,!1),e.send(null),!(200<=e.status&&e.status<300||304===e.status))throw new Error("Couldn't load "+i+". Status: "+e.status);var n=Number(e.getResponseHeader("Content-length")),r=(t=e.getResponseHeader("Accept-Ranges"))&&"bytes"===t,t=(t=e.getResponseHeader("Content-Encoding"))&&"gzip"===t,o=1048576;r||(o=n);var a=this;a.setDataGetter(function(e){var r=e*o,t=(e+1)*o-1,t=Math.min(t,n-1);if(void 0===a.chunks[e]&&(a.chunks[e]=function(e,r){if(r<e)throw new Error("invalid range ("+e+", "+r+") or no bytes requested!");if(n-1<r)throw new Error("only "+n+" bytes available! programmer error!");var t=new XMLHttpRequest;if(t.open("GET",i,!1),n!==o&&t.setRequestHeader("Range","bytes="+e+"-"+r),"undefined"!=typeof Uint8Array&&(t.responseType="arraybuffer"),t.overrideMimeType&&t.overrideMimeType("text/plain; charset=x-user-defined"),t.send(null),!(200<=t.status&&t.status<300||304===t.status))throw new Error("Couldn't load "+i+". Status: "+t.status);return void 0!==t.response?new Uint8Array(t.response||[]):ar(t.responseText||"",!0)}(r,t)),void 0===a.chunks[e])throw new Error("doXHR failed!");return a.chunks[e]}),!t&&n||(o=n=1,n=this.getter(0).length,o=n,g("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=n,this._chunkSize=o,this.lengthKnown=!0},"undefined"!=typeof XMLHttpRequest){if(!c)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var a=new o;Object.defineProperties(a,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});a={isDevice:!1,contents:a}}else a={isDevice:!1,url:i};var u=De.createFile(e,r,a,t,n);a.contents?u.contents=a.contents:a.url&&(u.contents=null,u.url=a.url),Object.defineProperties(u,{usedBytes:{get:function(){return this.contents.length}}});var s={};return Object.keys(u.stream_ops).forEach(function(e){var r=u.stream_ops[e];s[e]=function(){return De.forceLoadFile(u),r.apply(null,arguments)}}),s.read=function(e,r,t,n,o){De.forceLoadFile(u);var a=e.node.contents;if(o>=a.length)return 0;var i=Math.min(a.length-o,n);if(a.slice)for(var s=0;s<i;s++)r[t+s]=a[o+s];else for(s=0;s<i;s++)r[t+s]=a.get(o+s);return i},u.stream_ops=s,u},createPreloadedFile:function(o,a,e,i,s,u,c,l,f,d){Browser.init();var m=a?ye.resolve(ve.join2(o,a)):o;function r(r){function t(e){d&&d(),l||De.createDataFile(o,a,e,i,s,f),u&&u(),ne()}var n=!1;h.preloadPlugins.forEach(function(e){n||e.canHandle(m)&&(e.handle(r,m,t,function(){c&&c(),ne()}),n=!0)}),n||t(r)}te(),"string"==typeof e?Browser.asyncLoad(e,function(e){r(e)},c):r(e)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(i,s,u){s=s||function(){},u=u||function(){};var e=De.indexedDB();try{var c=e.open(De.DB_NAME(),De.DB_VERSION)}catch(e){return u(e)}c.onupgradeneeded=function(){g("creating db"),c.result.createObjectStore(De.DB_STORE_NAME)},c.onsuccess=function(){var e=c.result.transaction([De.DB_STORE_NAME],"readwrite"),r=e.objectStore(De.DB_STORE_NAME),t=0,n=0,o=i.length;function a(){(0==n?s:u)()}i.forEach(function(e){e=r.put(De.analyzePath(e).object.contents,e);e.onsuccess=function(){++t+n==o&&a()},e.onerror=function(){t+ ++n==o&&a()}}),e.onerror=u},c.onerror=u},loadFilesFromDB:function(s,u,c){u=u||function(){},c=c||function(){};var e=De.indexedDB();try{var l=e.open(De.DB_NAME(),De.DB_VERSION)}catch(e){return c(e)}l.onupgradeneeded=c,l.onsuccess=function(){var e=l.result;try{var r=e.transaction([De.DB_STORE_NAME],"readonly")}catch(e){return void c(e)}var t=r.objectStore(De.DB_STORE_NAME),n=0,o=0,a=s.length;function i(){(0==o?u:c)()}s.forEach(function(e){var r=t.get(e);r.onsuccess=function(){De.analyzePath(e).exists&&De.unlink(e),De.createDataFile(ve.dirname(e),ve.basename(e),r.result,!0,!0,!0),++n+o==a&&i()},r.onerror=function(){n+ ++o==a&&i()}}),r.onerror=c},l.onerror=c}},Se={mappings:{},DEFAULT_POLLMASK:5,umask:511,calculateAt:function(e,r,t){if("/"===r[0])return r;var n;if(-100===e)n=De.cwd();else{e=De.getStream(e);if(!e)throw new De.ErrnoError(8);n=e.path}if(0!=r.length)return ve.join2(n,r);if(!t)throw new De.ErrnoError(44);return n},doStat:function(e,r,t){try{var n=e(r)}catch(e){if(e&&e.node&&ve.normalize(r)!==ve.normalize(De.getPath(e.node)))return-54;throw e}return x[t>>2]=n.dev,x[t+4>>2]=0,x[t+8>>2]=n.ino,x[t+12>>2]=n.mode,x[t+16>>2]=n.nlink,x[t+20>>2]=n.uid,x[t+24>>2]=n.gid,x[t+28>>2]=n.rdev,x[t+32>>2]=0,ue=[n.size>>>0,(se=n.size,1<=+Math.abs(se)?0<se?(0|Math.min(+Math.floor(se/4294967296),4294967295))>>>0:~~+Math.ceil((se-(~~se>>>0))/4294967296)>>>0:0)],x[t+40>>2]=ue[0],x[t+44>>2]=ue[1],x[t+48>>2]=4096,x[t+52>>2]=n.blocks,x[t+56>>2]=n.atime.getTime()/1e3|0,x[t+60>>2]=0,x[t+64>>2]=n.mtime.getTime()/1e3|0,x[t+68>>2]=0,x[t+72>>2]=n.ctime.getTime()/1e3|0,x[t+76>>2]=0,ue=[n.ino>>>0,(se=n.ino,1<=+Math.abs(se)?0<se?(0|Math.min(+Math.floor(se/4294967296),4294967295))>>>0:~~+Math.ceil((se-(~~se>>>0))/4294967296)>>>0:0)],x[t+80>>2]=ue[0],x[t+84>>2]=ue[1],0},doMsync:function(e,r,t,n,o){e=P.slice(e,e+t);De.msync(r,e,o,t,n)},doMkdir:function(e,r){return"/"===(e=ve.normalize(e))[e.length-1]&&(e=e.substr(0,e.length-1)),De.mkdir(e,r,0),0},doMknod:function(e,r,t){switch(61440&r){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-28}return De.mknod(e,r,t),0},doReadlink:function(e,r,t){if(t<=0)return-28;var n=De.readlink(e),o=Math.min(t,j(n)),e=A[r+o];return z(n,r,t+1),A[r+o]=e,o},doAccess:function(e,r){if(-8&r)return-28;var t=De.lookupPath(e,{follow:!0}).node;if(!t)return-44;e="";return 4&r&&(e+="r"),2&r&&(e+="w"),1&r&&(e+="x"),e&&De.nodePermissions(t,e)?-2:0},doDup:function(e,r,t){var n=De.getStream(t);return n&&De.close(n),De.open(e,r,0,t,t).fd},doReadv:function(e,r,t,n){for(var o=0,a=0;a<t;a++){var i=x[r+8*a>>2],s=x[r+(8*a+4)>>2],i=De.read(e,A,i,s,n);if(i<0)return-1;if(o+=i,i<s)break}return o},doWritev:function(e,r,t,n){for(var o=0,a=0;a<t;a++){var i=x[r+8*a>>2],s=x[r+(8*a+4)>>2],s=De.write(e,A,i,s,n);if(s<0)return-1;o+=s}return o},varargs:void 0,get:function(){return Se.varargs+=4,x[Se.varargs-4>>2]},getStr:function(e){return I(e)},getStreamFromFD:function(e){e=De.getStream(e);if(!e)throw new De.ErrnoError(8);return e},get64:function(e,r){return e}};function Ae(e,r){if(f)return Re(3,1,e,r);try{var t=Se.getStreamFromFD(e);return Se.doStat(De.stat,t.path,r)}catch(e){return void 0!==De&&e instanceof De.ErrnoError||oe(e),-e.errno}}function Pe(e,r,t,n,o,a){if(f)return Re(5,1,e,r,t,n,o,a);try{return function(e,r,t,n,o,a){a<<=12;var i=!1;if(0!=(16&n)&&e%16384!=0)return-28;if(0!=(32&n)){if(!(u=Fr(16384,r)))return-48;mr(u,0,r),i=!0}else{var s=De.getStream(o);if(!s)return-8;var e=De.mmap(s,e,r,a,t,n),u=e.ptr,i=e.allocated}return Se.mappings[u]={malloc:u,len:r,allocated:i,fd:o,prot:t,flags:n,offset:a},u}(e,r,t,n,o,a)}catch(e){return void 0!==De&&e instanceof De.ErrnoError||oe(e),-e.errno}}function Fe(e,r){if(f)return Re(6,1,e,r);try{return function(e,r){if(-1==(0|e)||0===r)return-28;var t,n=Se.mappings[e];return n&&r===n.len&&((t=De.getStream(n.fd))&&(2&n.prot&&Se.doMsync(e,t,r,n.flags,n.offset),De.munmap(t)),Se.mappings[e]=null,n.allocated&&lr(n.malloc)),0}(e,r)}catch(e){return void 0!==De&&e instanceof De.ErrnoError||oe(e),-e.errno}}function xe(e,r,t){if(f)return Re(7,1,e,r,t);Se.varargs=t;try{var n=Se.getStr(e),o=t?Se.get():0;return De.open(n,r,o).fd}catch(e){return void 0!==De&&e instanceof De.ErrnoError||oe(e),-e.errno}}function Te(e,r){if(f)return Re(8,1,e,r);try{return e=Se.getStr(e),Se.doStat(De.stat,e,r)}catch(e){return void 0!==De&&e instanceof De.ErrnoError||oe(e),-e.errno}}function Me(){c||y("Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread")}function Oe(e,r,t){if(e<=0||e>A.length||!0&e)return-28;if(u){if(Atomics.load(x,e>>2)!=r)return-6;var n=performance.now(),o=n+t;for(Atomics.exchange(x,Tr>>2,e);;){if(o<performance.now())return Atomics.exchange(x,Tr>>2,0),-73;if(0==Atomics.exchange(x,Tr>>2,0))break;if(gr(),Atomics.load(x,e>>2)!=r)return-6;Atomics.exchange(x,Tr>>2,e)}return 0}t=Atomics.wait(x,e>>2,r,t);if("timed-out"===t)return-73;if("not-equal"===t)return-6;if("ok"===t)return 0;throw"Atomics.wait returned an unexpected value "+t}function Re(e,r){for(var t=arguments.length-2,n=Dr(),o=t,a=Ar(8*o),i=a>>3,s=0;s<t;s++){var u=arguments[2+s];M[i+s]=u}a=_r(e,o,a,r);return Sr(n),a}var Ne=[],Le=[];var Ce={inEventHandler:0,removeAllEventListeners:function(){for(var e=Ce.eventHandlers.length-1;0<=e;--e)Ce._removeHandler(e);Ce.eventHandlers=[],Ce.deferredCalls=[]},registerRemoveEventListeners:function(){Ce.removeEventListenersRegistered||(K.push(Ce.removeAllEventListeners),Ce.removeEventListenersRegistered=!0)},deferredCalls:[],deferCall:function(e,r,t){for(var n in Ce.deferredCalls){var o=Ce.deferredCalls[n];if(o.targetFunction==e&&function(e,r){if(e.length==r.length){for(var t in e)if(e[t]!=r[t])return;return 1}}(o.argsList,t))return}Ce.deferredCalls.push({targetFunction:e,precedence:r,argsList:t}),Ce.deferredCalls.sort(function(e,r){return e.precedence<r.precedence})},removeDeferredCalls:function(e){for(var r=0;r<Ce.deferredCalls.length;++r)Ce.deferredCalls[r].targetFunction==e&&(Ce.deferredCalls.splice(r,1),--r)},canPerformEventHandlerRequests:function(){return Ce.inEventHandler&&Ce.currentEventHandler.allowsDeferredCalls},runDeferredCalls:function(){if(Ce.canPerformEventHandlerRequests())for(var e=0;e<Ce.deferredCalls.length;++e){var r=Ce.deferredCalls[e];Ce.deferredCalls.splice(e,1),--e,r.targetFunction.apply(null,r.argsList)}},eventHandlers:[],removeAllHandlersOnTarget:function(e,r){for(var t=0;t<Ce.eventHandlers.length;++t)Ce.eventHandlers[t].target!=e||r&&r!=Ce.eventHandlers[t].eventTypeString||Ce._removeHandler(t--)},_removeHandler:function(e){var r=Ce.eventHandlers[e];r.target.removeEventListener(r.eventTypeString,r.eventListenerFunc,r.useCapture),Ce.eventHandlers.splice(e,1)},registerOrRemoveHandler:function(r){function e(e){++Ce.inEventHandler,Ce.currentEventHandler=r,Ce.runDeferredCalls(),r.handlerFunc(e),Ce.runDeferredCalls(),--Ce.inEventHandler}if(r.callbackfunc)r.eventListenerFunc=e,r.target.addEventListener(r.eventTypeString,e,r.useCapture),Ce.eventHandlers.push(r),Ce.registerRemoveEventListeners();else for(var t=0;t<Ce.eventHandlers.length;++t)Ce.eventHandlers[t].target==r.target&&Ce.eventHandlers[t].eventTypeString==r.eventTypeString&&Ce._removeHandler(t--)},queueEventHandlerOnThread_iiii:function(e,r,t,n,o){var a=Dr(),i=Ar(12);x[i>>2]=t,x[i+4>>2]=n,x[i+8>>2]=o,kr(0,e,637534208,r,n,i),Sr(a)},getTargetThreadForEventCallback:function(e){switch(e){case 1:return 0;case 2:return ge.currentProxiedOperationCallerThread;default:return e}},getNodeNameForTarget:function(e){return e?e==window?"#window":e==screen?"#screen":e&&e.nodeName?e.nodeName:"":""},fullscreenEnabled:function(){return document.fullscreenEnabled||document.webkitFullscreenEnabled}};function Ie(e,r,t,n){var o,a,i=Dr(),s=Ar(12),u=0;r&&(a=j(o=r)+1,r=cr(a),z(o,r,a),u=r),x[s>>2]=u,x[s+4>>2]=t,x[s+8>>2]=n,kr(0,e,657457152,0,u,s),Sr(i)}var Be=[0,"undefined"!=typeof document?document:0,"undefined"!=typeof window?window:0];function ze(e){var r;return e=2<(r=e)?I(r):r,Be[e]||("undefined"!=typeof document?document.querySelector(e):void 0)}function je(e){return ze(e)}function He(e,r,t){var n=je(e);if(!n)return-4;if(n.canvasSharedPtr&&(x[n.canvasSharedPtr>>2]=r,x[n.canvasSharedPtr+4>>2]=t),!n.offscreenCanvas&&n.controlTransferredOffscreen){if(n.canvasSharedPtr){var o=x[n.canvasSharedPtr+8>>2];return a=r,i=t,Ie(o,e=(e=e)?I(e):"",a,i),1}return-4}var a,i,a=!1;return(n=n.offscreenCanvas?n.offscreenCanvas:n).GLctxObject&&n.GLctxObject.GLctx&&(a=0===(i=n.GLctxObject.GLctx.getParameter(2978))[0]&&0===i[1]&&i[2]===n.width&&i[3]===n.height),n.width=r,n.height=t,a&&n.GLctxObject.GLctx.viewport(0,0,r,t),0}function We(e,r,t){return f?Re(9,1,e,r,t):He(e,r,t)}var Ue={counter:1,buffers:[],programs:[],framebuffers:[],renderbuffers:[],textures:[],uniforms:[],shaders:[],vaos:[],contexts:{},offscreenCanvases:{},timerQueriesEXT:[],programInfos:{},stringCache:{},unpackAlignment:4,recordError:function(e){Ue.lastError||(Ue.lastError=e)},getNewId:function(e){for(var r=Ue.counter++,t=e.length;t<r;t++)e[t]=null;return r},getSource:function(e,r,t,n){for(var o="",a=0;a<r;++a){var i=n?x[n+4*a>>2]:-1;o+=I(x[t+4*a>>2],i<0?void 0:i)}return o},createContext:function(e,r){e=e.getContext("webgl",r);return e?Ue.registerContext(e,r):0},registerContext:function(e,r){var t=cr(8);x[t+4>>2]=dr();var n={handle:t,attributes:r,version:r.majorVersion,GLctx:e};return e.canvas&&(e.canvas.GLctxObject=n),Ue.contexts[t]=n,void 0!==r.enableExtensionsByDefault&&!r.enableExtensionsByDefault||Ue.initExtensions(n),t},makeContextCurrent:function(e){return Ue.currentContext=Ue.contexts[e],h.ctx=nr=Ue.currentContext&&Ue.currentContext.GLctx,!(e&&!nr)},getContext:function(e){return Ue.contexts[e]},deleteContext:function(e){Ue.currentContext===Ue.contexts[e]&&(Ue.currentContext=null),"object"==typeof Ce&&Ce.removeAllHandlersOnTarget(Ue.contexts[e].GLctx.canvas),Ue.contexts[e]&&Ue.contexts[e].GLctx.canvas&&(Ue.contexts[e].GLctx.canvas.GLctxObject=void 0),lr(Ue.contexts[e].handle),Ue.contexts[e]=null},initExtensions:function(e){var r,a,t,n;(e=e||Ue.currentContext).initExtensionsDone||(e.initExtensionsDone=!0,r=e.GLctx,(a=(e=r).getExtension("ANGLE_instanced_arrays"))&&(e.vertexAttribDivisor=function(e,r){a.vertexAttribDivisorANGLE(e,r)},e.drawArraysInstanced=function(e,r,t,n){a.drawArraysInstancedANGLE(e,r,t,n)},e.drawElementsInstanced=function(e,r,t,n,o){a.drawElementsInstancedANGLE(e,r,t,n,o)}),(t=(e=r).getExtension("OES_vertex_array_object"))&&(e.createVertexArray=function(){return t.createVertexArrayOES()},e.deleteVertexArray=function(e){t.deleteVertexArrayOES(e)},e.bindVertexArray=function(e){t.bindVertexArrayOES(e)},e.isVertexArray=function(e){return t.isVertexArrayOES(e)}),(n=(e=r).getExtension("WEBGL_draw_buffers"))&&(e.drawBuffers=function(e,r){n.drawBuffersWEBGL(e,r)}),r.disjointTimerQueryExt=r.getExtension("EXT_disjoint_timer_query"),(e=r).multiDrawWebgl=e.getExtension("WEBGL_multi_draw"),(r.getSupportedExtensions()||[]).forEach(function(e){e.indexOf("lose_context")<0&&e.indexOf("debug")<0&&r.getExtension(e)}))},populateUniformTable:function(e){for(var r=Ue.programs[e],t=Ue.programInfos[e]={uniforms:{},maxUniformLength:0,maxAttributeLength:-1,maxUniformBlockNameLength:-1},n=t.uniforms,o=nr.getProgramParameter(r,35718),a=0;a<o;++a){var i=nr.getActiveUniform(r,a),s=i.name;if(t.maxUniformLength=Math.max(t.maxUniformLength,s.length+1),"]"==s.slice(-1)&&(s=s.slice(0,s.lastIndexOf("["))),f=nr.getUniformLocation(r,s)){var u=Ue.getNewId(Ue.uniforms);n[s]=[i.size,u],Ue.uniforms[u]=f;for(var c=1;c<i.size;++c){var l=s+"["+c+"]",f=nr.getUniformLocation(r,l),u=Ue.getNewId(Ue.uniforms);Ue.uniforms[u]=f}}}}},Ge=["default","low-power","high-performance"];var qe={};function Ve(){if(!Ve.strings){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:i||"./this.program"};for(r in qe)e[r]=qe[r];var r,t=[];for(r in e)t.push(r+"="+e[r]);Ve.strings=t}return Ve.strings}function Xe(n,o){if(f)return Re(10,1,n,o);try{var a=0;return Ve().forEach(function(e,r){var t=o+a;(function(e,r,t){for(var n=0;n<e.length;++n)A[r++>>0]=e.charCodeAt(n);t||(A[r>>0]=0)})(e,x[n+4*r>>2]=t),a+=e.length+1}),0}catch(e){return void 0!==De&&e instanceof De.ErrnoError||oe(e),e.errno}}function Ke(e,r){if(f)return Re(11,1,e,r);try{var t=Ve();x[e>>2]=t.length;var n=0;return t.forEach(function(e){n+=e.length+1}),x[r>>2]=n,0}catch(e){return void 0!==De&&e instanceof De.ErrnoError||oe(e),e.errno}}function Qe(e){if(f)return Re(12,1,e);try{var r=Se.getStreamFromFD(e);return De.close(r),0}catch(e){return void 0!==De&&e instanceof De.ErrnoError||oe(e),e.errno}}function Ye(e,r){if(f)return Re(13,1,e,r);try{var t=Se.getStreamFromFD(e),t=t.tty?2:De.isDir(t.mode)?3:De.isLink(t.mode)?7:4;return A[r>>0]=t,0}catch(e){return void 0!==De&&e instanceof De.ErrnoError||oe(e),e.errno}}function $e(e,r,t,n){if(f)return Re(14,1,e,r,t,n);try{var o=Se.getStreamFromFD(e),o=Se.doReadv(o,r,t);return x[n>>2]=o,0}catch(e){return void 0!==De&&e instanceof De.ErrnoError||oe(e),e.errno}}function Je(e,r,t,n,o){if(f)return Re(15,1,e,r,t,n,o);try{var a=Se.getStreamFromFD(e),i=4294967296*t+(r>>>0),s=9007199254740992;return i<=-s||s<=i?-61:(De.llseek(a,i,n),ue=[a.position>>>0,(se=a.position,1<=+Math.abs(se)?0<se?(0|Math.min(+Math.floor(se/4294967296),4294967295))>>>0:~~+Math.ceil((se-(~~se>>>0))/4294967296)>>>0:0)],x[o>>2]=ue[0],x[o+4>>2]=ue[1],a.getdents&&0==i&&0===n&&(a.getdents=null),0)}catch(e){return void 0!==De&&e instanceof De.ErrnoError||oe(e),e.errno}}function Ze(e,r,t,n){if(f)return Re(16,1,e,r,t,n);try{var o=Se.getStreamFromFD(e),o=Se.doWritev(o,r,t);return x[n>>2]=o,0}catch(e){return void 0!==De&&e instanceof De.ErrnoError||oe(e),e.errno}}function er(e){if(f)throw"Internal Error! spawnThread() can only ever be called from main application thread!";var r=ge.getNewWorker();if(void 0!==r.pthread)throw"Internal error!";if(!e.pthread_ptr)throw"Internal error, no pthread ptr!";ge.runningWorkers.push(r);for(var t=cr(512),n=0;n<128;++n)x[t+4*n>>2]=0;var o=e.stackBase+e.stackSize,a=ge.pthreads[e.pthread_ptr]={worker:r,stackBase:e.stackBase,stackSize:e.stackSize,allocatedOwnStack:e.allocatedOwnStack,threadInfoStruct:e.pthread_ptr},i=a.threadInfoStruct>>2;Atomics.store(T,16+i,e.detached),Atomics.store(T,25+i,t),Atomics.store(T,10+i,a.threadInfoStruct),Atomics.store(T,20+i,e.stackSize),Atomics.store(T,19+i,o),Atomics.store(T,26+i,e.stackSize),Atomics.store(T,28+i,o),Atomics.store(T,29+i,e.detached);o=hr()+40;Atomics.store(T,43+i,o),r.pthread=a;var s={cmd:"run",start_routine:e.startRoutine,arg:e.arg,threadInfoStruct:e.pthread_ptr,stackBase:e.stackBase,stackSize:e.stackSize};r.runPthread=function(){s.time=performance.now(),r.postMessage(s,e.transferList)},r.loaded&&(r.runPthread(),delete r.runPthread)}function rr(e,r,t){if(!e)return E("pthread_join attempted on a null thread pointer!"),me.ESRCH;if(f&&dr()==e)return E("PThread "+e+" is attempting to join to itself!"),me.EDEADLK;if(!f&&pr()==e)return E("Main thread "+e+" is attempting to join to itself!"),me.EDEADLK;if(x[e+12>>2]!==e)return E("pthread_join attempted on thread "+e+", which does not point to a valid thread, or does not exist anymore!"),me.ESRCH;if(Atomics.load(T,e+64>>2))return E("Attempted to join thread "+e+", which was already detached!"),me.EINVAL;for(t&&Me();;){var n=Atomics.load(T,e+0>>2);if(1==n){var o=Atomics.load(T,e+4>>2);return r&&(x[r>>2]=o),Atomics.store(T,e+64>>2,1),f?postMessage({cmd:"cleanupThread",thread:e}):pe(e),0}if(!t)return me.EBUSY;!function(){if(f){var e=dr();if(e){var r=Atomics.load(T,e+56>>2);if(!r)if(2==Atomics.load(T,e+0>>2))throw"Canceled!"}}}(),f||gr(),Oe(e+0,n,f?100:1)}}function tr(e){if(f)return Re(17,1,e);switch(e){case 30:return 16384;case 85:return P.length/16384;case 132:case 133:case 12:case 137:case 138:case 15:case 235:case 16:case 17:case 18:case 19:case 20:case 149:case 13:case 10:case 236:case 153:case 9:case 21:case 22:case 159:case 154:case 14:case 77:case 78:case 139:case 82:case 68:case 67:case 164:case 11:case 29:case 47:case 48:case 95:case 52:case 51:case 46:return 200809;case 27:case 246:case 127:case 128:case 23:case 24:case 160:case 161:case 181:case 182:case 242:case 183:case 184:case 243:case 244:case 245:case 165:case 178:case 179:case 49:case 50:case 168:case 169:case 175:case 170:case 171:case 172:case 97:case 76:case 32:case 173:case 35:case 80:case 81:case 79:return-1;case 176:case 177:case 7:case 155:case 8:case 157:case 125:case 126:case 92:case 93:case 129:case 130:case 131:case 94:case 91:return 1;case 74:case 60:case 69:case 70:case 4:return 1024;case 31:case 42:case 72:return 32;case 87:case 26:case 33:return 2147483647;case 34:case 1:return 47839;case 38:case 36:return 99;case 43:case 37:return 2048;case 0:return 2097152;case 3:return 65536;case 28:return 32768;case 44:return 32767;case 75:return 16384;case 39:return 1e3;case 89:return 700;case 71:return 256;case 40:return 255;case 2:return 100;case 180:return 64;case 25:return 20;case 5:return 16;case 6:return 6;case 73:return 4;case 84:return"object"==typeof navigator&&navigator.hardwareConcurrency||1}return Ee(28),-1}f||ge.initMainThreadBlock();var nr,G=function(e,r,t,n){e=e||this,this.parent=e,this.mount=e.mount,this.mounted=null,this.id=De.nextInode++,this.name=r,this.mode=t,this.node_ops={},this.stream_ops={},this.rdev=n};Object.defineProperties(G.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(e){e?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(e){e?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return De.isDir(this.mode)}},isDevice:{get:function(){return De.isChrdev(this.mode)}}}),De.FSNode=G,De.staticInit(),h.FS_createPath=De.createPath,h.FS_createDataFile=De.createDataFile,h.FS_createPreloadedFile=De.createPreloadedFile,h.FS_createLazyFile=De.createLazyFile,h.FS_createDevice=De.createDevice,h.FS_unlink=De.unlink;var or=[null,function(e,r){if(f)return Re(1,1,e,r)},function(e,r,t){if(f)return Re(2,1,e,r,t);Se.varargs=t;try{var n=Se.getStreamFromFD(e);switch(r){case 0:return(o=Se.get())<0?-28:De.open(n.path,n.flags,0,o).fd;case 1:case 2:return 0;case 3:return n.flags;case 4:var o=Se.get();return n.flags|=o,0;case 12:o=Se.get();return F[o+0>>1]=2,0;case 13:case 14:return 0;case 16:case 8:return-28;case 9:return Ee(28),-1;default:return-28}}catch(e){return void 0!==De&&e instanceof De.ErrnoError||oe(e),-e.errno}},Ae,function(e,r,t){if(f)return Re(4,1,e,r,t);Se.varargs=t;try{var n=Se.getStreamFromFD(e);switch(r){case 21509:case 21505:return n.tty?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return n.tty?0:-59;case 21519:if(!n.tty)return-59;var o=Se.get();return x[o>>2]=0;case 21520:return n.tty?-28:-59;case 21531:o=Se.get();return De.ioctl(n,r,o);case 21523:case 21524:return n.tty?0:-59;default:oe("bad ioctl syscall "+r)}}catch(e){return void 0!==De&&e instanceof De.ErrnoError||oe(e),-e.errno}},Pe,Fe,xe,Te,We,Xe,Ke,Qe,Ye,$e,Je,Ze,tr];function ar(e,r,t){t=0<t?t:j(e)+1,t=new Array(t),e=B(e,t,0,t.length);return r&&(t.length=e),t}var ir,sr={f:function(e,r,t,n){oe("Assertion failed: "+I(e)+", at: "+[r?I(r):"unknown filename",t,n?I(n):"unknown function"])},K:Ae,I:Pe,H:Fe,M:xe,J:Te,B:function(e,r){if(e==r)postMessage({cmd:"processQueuedMainThreadWork"});else if(f)postMessage({targetThread:e,cmd:"processThreadQueue"});else{e=ge.pthreads[e],e=e&&e.worker;if(!e)return;e.postMessage({cmd:"processThreadQueue"})}return 1},b:function(){oe()},x:function(e,r){var t;if(0===e)t=Date.now();else{if(1!==e&&4!==e)return Ee(28),-1;t=we()}return x[r>>2]=t/1e3|0,x[r+4>>2]=t%1e3*1e3*1e3|0,0},r:function(e,r){oe("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},m:function(e,r){oe("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},o:function(e,r,t){return t=function(e,r){Le.length=0,r>>=2;for(;t=P[e++];){var t=t<105;t&&1&r&&r++,Le.push(t?M[r++>>1]:x[r]),++r}return Le}(r,t),fe[e].apply(null,t)},D:Me,i:function(e,r){},d:Oe,c:he,g:we,v:function(e,r,t){P.copyWithin(e,r,r+t)},s:function(){return navigator.hardwareConcurrency},y:function(e,r,t){Ne.length=r;for(var n=t>>3,o=0;o<r;o++)Ne[o]=M[n+o];return(e<0?fe[-e-1]:or[e]).apply(null,Ne)},w:function(e){oe("OOM")},z:function(e,r,t){return(je(e)?He:We)(e,r,t)},n:function(e){},A:function(e,r){return t=e,e=x[6+(r=(e=r)>>2)],r={alpha:!!x[r],depth:!!x[1+r],stencil:!!x[2+r],antialias:!!x[3+r],premultipliedAlpha:!!x[4+r],preserveDrawingBuffer:!!x[5+r],powerPreference:Ge[e],failIfMajorPerformanceCaveat:!!x[7+r],majorVersion:x[8+r],minorVersion:x[9+r],enableExtensionsByDefault:x[10+r],explicitSwapControl:x[11+r],proxyContextToMainThread:x[12+r],renderViaOffscreenBackBuffer:x[13+r]},!(t=je(t))||r.explicitSwapControl?0:Ue.createContext(t,r);var t},F:Xe,G:Ke,l:function(e){Rr(e)},q:Qe,E:Ye,L:$e,t:Je,k:Ze,u:function(){ge.initRuntime()},a:k||h.wasmMemory,C:function(e){var r=ge.threadExitHandlers.pop();e&&r()},p:function(e,r){ge.threadExitHandlers.push(function(){U.get(e)(r)})},h:function(e,r,t,n){if("undefined"==typeof SharedArrayBuffer)return E("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;if(!e)return E("pthread_create called with a null thread pointer!"),28;var o=[];if(f&&0===o.length)return yr(687865856,e,r,t,n);var a=0,i=0,s=0;r&&-1!=r?(a=x[r>>2],a+=81920,i=x[r+8>>2],s=0!==x[r+12>>2]):a=2097152,(r=0==i)?i=Fr(16,a):R(0<(i-=a));for(var u=cr(228),c=0;c<57;++c)T[(u>>2)+c]=0;return x[e>>2]=u,e=(x[u+12>>2]=u)+152,x[e>>2]=e,n={stackBase:i,stackSize:a,allocatedOwnStack:r,detached:s,startRoutine:t,pthread_ptr:u,arg:n,transferList:o},f?(n.cmd="spawnThread",postMessage(n,o)):er(n),0},j:function(e,r){return rr(e,r,!0)},e:tr},ur=(function(){var r={a:sr};function t(e,r){e=e.exports;h.asm=e,U=h.asm.R,b=r,f||ne()}function n(e){t(e.instance,e.module)}function o(e){return(_||!u&&!c||"function"!=typeof fetch?Promise.resolve().then(function(){return le(ce)}):fetch(ce,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+ce+"'";return e.arrayBuffer()}).catch(function(){return le(ce)})).then(function(e){return WebAssembly.instantiate(e,r)}).then(e,function(e){E("failed to asynchronously prepare wasm: "+e),oe(e)})}if(f||te(),h.instantiateWasm)try{return h.instantiateWasm(r,t)}catch(e){return E("Module.instantiateWasm callback failed with error: "+e)}(_||"function"!=typeof WebAssembly.instantiateStreaming||ie(ce)||"function"!=typeof fetch?o(n):fetch(ce,{credentials:"same-origin"}).then(function(e){return WebAssembly.instantiateStreaming(e,r).then(n,function(e){return E("wasm streaming compile failed: "+e),E("falling back to ArrayBuffer instantiation"),o(n)})})).catch(a)}(),h.___wasm_call_ctors=function(){return(ur=h.___wasm_call_ctors=h.asm.N).apply(null,arguments)}),cr=(h._run_inference=function(){return(h._run_inference=h.asm.O).apply(null,arguments)},h._load_model=function(){return(h._load_model=h.asm.P).apply(null,arguments)},h._main=function(){return(h._main=h.asm.Q).apply(null,arguments)},h._malloc=function(){return(cr=h._malloc=h.asm.S).apply(null,arguments)}),lr=h._free=function(){return(lr=h._free=h.asm.T).apply(null,arguments)},fr=h.___errno_location=function(){return(fr=h.___errno_location=h.asm.U).apply(null,arguments)},dr=h._pthread_self=function(){return(dr=h._pthread_self=h.asm.V).apply(null,arguments)},mr=h._memset=function(){return(mr=h._memset=h.asm.W).apply(null,arguments)},hr=h._emscripten_get_global_libc=function(){return(hr=h._emscripten_get_global_libc=h.asm.X).apply(null,arguments)},pr=h._emscripten_main_browser_thread_id=function(){return(pr=h._emscripten_main_browser_thread_id=h.asm.Y).apply(null,arguments)},wr=h.___pthread_tsd_run_dtors=function(){return(wr=h.___pthread_tsd_run_dtors=h.asm.Z).apply(null,arguments)},gr=h._emscripten_main_thread_process_queued_calls=function(){return(gr=h._emscripten_main_thread_process_queued_calls=h.asm._).apply(null,arguments)},Er=(h._emscripten_current_thread_process_queued_calls=function(){return(h._emscripten_current_thread_process_queued_calls=h.asm.$).apply(null,arguments)},h._emscripten_register_main_browser_thread_id=function(){return(Er=h._emscripten_register_main_browser_thread_id=h.asm.aa).apply(null,arguments)}),vr=h.__emscripten_do_dispatch_to_thread=function(){return(vr=h.__emscripten_do_dispatch_to_thread=h.asm.ba).apply(null,arguments)},yr=h._emscripten_sync_run_in_main_thread_4=function(){return(yr=h._emscripten_sync_run_in_main_thread_4=h.asm.ca).apply(null,arguments)},_r=h._emscripten_run_in_main_runtime_thread_js=function(){return(_r=h._emscripten_run_in_main_runtime_thread_js=h.asm.da).apply(null,arguments)},kr=h.__emscripten_call_on_thread=function(){return(kr=h.__emscripten_call_on_thread=h.asm.ea).apply(null,arguments)},br=(h._emscripten_tls_init=function(){return(h._emscripten_tls_init=h.asm.fa).apply(null,arguments)},h.__emscripten_thread_init=function(){return(br=h.__emscripten_thread_init=h.asm.ga).apply(null,arguments)}),Dr=h.stackSave=function(){return(Dr=h.stackSave=h.asm.ha).apply(null,arguments)},Sr=h.stackRestore=function(){return(Sr=h.stackRestore=h.asm.ia).apply(null,arguments)},Ar=h.stackAlloc=function(){return(Ar=h.stackAlloc=h.asm.ja).apply(null,arguments)},Pr=h._emscripten_stack_set_limits=function(){return(Pr=h._emscripten_stack_set_limits=h.asm.ka).apply(null,arguments)},Fr=h._memalign=function(){return(Fr=h._memalign=h.asm.la).apply(null,arguments)},xr=h.__emscripten_allow_main_runtime_queued_calls=116472,Tr=h.__emscripten_main_thread_futex=118624;function Mr(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}h.cwrap=function(e,r,t,n){var o=(t=t||[]).every(function(e){return"number"===e});return"string"!==r&&o&&!n?N(e):function(){return L(e,r,t,arguments)}},h.addRunDependency=te,h.removeRunDependency=ne,h.FS_createPath=De.createPath,h.FS_createDataFile=De.createDataFile,h.FS_createPreloadedFile=De.createPreloadedFile,h.FS_createLazyFile=De.createLazyFile,h.FS_createDevice=De.createDevice,h.FS_unlink=De.unlink,h.PThread=ge,h.PThread=ge,h.wasmMemory=k,h.ExitStatus=Mr;function Or(e){if(e=e||o,!(0<Z)){if(f)return t(h),$(),void postMessage({cmd:"loaded"});Y(),0<Z||(h.setStatus?(h.setStatus("Running..."),setTimeout(function(){setTimeout(function(){h.setStatus("")},1),r()},1)):r())}function r(){ir||(ir=!0,h.calledRun=!0,O||($(),f||(De.ignorePermissions=!1,de(X)),t(h),h.onRuntimeInitialized&&h.onRuntimeInitialized(),Nr&&function(e){var r=h._main,t=(e=e||[]).length+1,n=Ar(4*(t+1));x[n>>2]=H(i);for(var o=1;o<t;o++)x[(n>>2)+o]=H(e[o-1]);x[(n>>2)+t]=0;try{Rr(r(t,n),!0)}catch(e){if(e instanceof Mr)return;if("unwind"==e)return D=!0;var a=e;e&&"object"==typeof e&&e.stack&&(a=[e,e.stack]),E("exception thrown: "+a),s(1,e)}finally{0}}(e),J()))}}function Rr(e,r){if(!r||!D||0!==e){if(!r&&f)throw postMessage({cmd:"exitProcess",returnCode:e}),new Mr(e);D||(ge.terminateAllThreads(),f||0,h.onExit&&h.onExit(e),O=!0),s(e,new Mr(e))}}if(re=function e(){ir||Or(),ir||(re=e)},h.run=Or,h.preInit)for("function"==typeof h.preInit&&(h.preInit=[h.preInit]);0<h.preInit.length;)h.preInit.pop()();var Nr=!0;return h.noInitialRun&&(Nr=!1),f&&(D=!1,ge.initWorker()),Or(),e.ready});e.exports=r},707:e=>{var Lr,r=(Lr="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,function(e){var t,a,h=void 0!==(e=e||{})?e:{};h.ready=new Promise(function(e,r){t=e,a=r});var r,n={};for(r in h)h.hasOwnProperty(r)&&(n[r]=h[r]);var o=[],i="./this.program",s=function(e,r){throw r},u=!1,c=!1,u="object"==typeof window,c="function"==typeof importScripts,l="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,f=h.ENVIRONMENT_IS_PTHREAD||!1;f&&(S=h.buffer);var d,m,p="";function w(e){return h.locateFile?h.locateFile(e,p):p+e}(u||c)&&(c?p=self.location.href:"undefined"!=typeof document&&document.currentScript&&(p=document.currentScript.src),p=0!==(p=Lr?Lr:p).indexOf("blob:")?p.substr(0,p.lastIndexOf("/")+1):"",d=function(e){var r=new XMLHttpRequest;return r.open("GET",e,!1),r.send(null),r.responseText},c&&(m=function(e){var r=new XMLHttpRequest;return r.open("GET",e,!1),r.responseType="arraybuffer",r.send(null),new Uint8Array(r.response)}));var g=h.print||console.log.bind(console),E=h.printErr||console.warn.bind(console);for(r in n)n.hasOwnProperty(r)&&(h[r]=n[r]);n=null,h.arguments&&(o=h.arguments),h.thisProgram&&(i=h.thisProgram),h.quit&&(s=h.quit);var v=16;function y(e){y.shown||(y.shown={}),y.shown[e]||(y.shown[e]=1,E(e))}var _;Atomics.load,Atomics.store,Atomics.compareExchange;h.wasmBinary&&(_=h.wasmBinary);var k,b,D=h.noExitRuntime||!0;"object"!=typeof WebAssembly&&oe("no native wasm support detected");var S,A,P,F,x,T,M,O=!1;function R(e,r){e||oe("Assertion failed: "+r)}function N(e){var r=h["_"+e];return R(r,"Cannot call unknown function "+e+", make sure it is exported"),r}function L(e,r,t,n){var o={string:function(e){var r,t=0;return null!=e&&0!==e&&(r=1+(e.length<<2),z(e,t=Ar(r),r)),t},array:function(e){var r,t=Ar(e.length);return r=e,e=t,A.set(r,e),t}};var e=N(e),a=[],i=0;if(n)for(var s=0;s<n.length;s++){var u=o[t[s]];u?(0===i&&(i=Dr()),a[s]=u(n[s])):a[s]=n[s]}var c,e=e.apply(null,a);return c=e,e="string"===r?I(c):"boolean"===r?Boolean(c):c,0!==i&&Sr(i),e}function C(e,r,t){for(var n=r+t,o="";!(n<=r);){var a,i,s=e[r++];if(!s)return o;128&s?(a=63&e[r++],192!=(224&s)?(i=63&e[r++],(s=224==(240&s)?(15&s)<<12|a<<6|i:(7&s)<<18|a<<12|i<<6|63&e[r++])<65536?o+=String.fromCharCode(s):(i=s-65536,o+=String.fromCharCode(55296|i>>10,56320|1023&i))):o+=String.fromCharCode((31&s)<<6|a)):o+=String.fromCharCode(s)}return o}function I(e,r){return e?C(P,e,r):""}function B(e,r,t,n){if(!(0<n))return 0;for(var o=t,a=t+n-1,i=0;i<e.length;++i){var s=e.charCodeAt(i);if((s=55296<=s&&s<=57343?65536+((1023&s)<<10)|1023&e.charCodeAt(++i):s)<=127){if(a<=t)break;r[t++]=s}else if(s<=2047){if(a<=t+1)break;r[t++]=192|s>>6,r[t++]=128|63&s}else if(s<=65535){if(a<=t+2)break;r[t++]=224|s>>12,r[t++]=128|s>>6&63,r[t++]=128|63&s}else{if(a<=t+3)break;r[t++]=240|s>>18,r[t++]=128|s>>12&63,r[t++]=128|s>>6&63,r[t++]=128|63&s}}return r[t]=0,t-o}function z(e,r,t){return B(e,P,r,t)}function j(e){for(var r=0,t=0;t<e.length;++t){var n=e.charCodeAt(t);(n=55296<=n&&n<=57343?65536+((1023&n)<<10)|1023&e.charCodeAt(++t):n)<=127?++r:r+=n<=2047?2:n<=65535?3:4}return r}function H(e){var r=j(e)+1,t=Ar(r);return B(e,A,t,r),t}var W,U,G=h.INITIAL_MEMORY||25165824;if(f)k=h.wasmMemory,S=h.buffer;else if(h.wasmMemory)k=h.wasmMemory;else if(!((k=new WebAssembly.Memory({initial:G/65536,maximum:G/65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw E("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),l&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");G=(S=k?k.buffer:S).byteLength,S=W=S,h.HEAP8=A=new Int8Array(W),h.HEAP16=F=new Int16Array(W),h.HEAP32=x=new Int32Array(W),h.HEAPU8=P=new Uint8Array(W),h.HEAPU16=new Uint16Array(W),h.HEAPU32=T=new Uint32Array(W),h.HEAPF32=new Float32Array(W),h.HEAPF64=M=new Float64Array(W);var q=[],V=[],X=[],K=[],Q=[];function Y(){if(!f){if(h.preRun)for("function"==typeof h.preRun&&(h.preRun=[h.preRun]);h.preRun.length;)e=h.preRun.shift(),q.unshift(e);var e;de(q)}}function $(){f||(h.noFSInit||De.init.initialized||De.init(),_e.init(),de(V))}function J(){if(!f){if(h.postRun)for("function"==typeof h.postRun&&(h.postRun=[h.postRun]);h.postRun.length;)e=h.postRun.shift(),Q.unshift(e);var e;de(Q)}}f||V.push({func:function(){ur()}});var Z=0,ee=null,re=null;function te(e){R(!f,"addRunDependency cannot be used in a pthread worker"),Z++,h.monitorRunDependencies&&h.monitorRunDependencies(Z)}function ne(e){var r;Z--,h.monitorRunDependencies&&h.monitorRunDependencies(Z),0==Z&&(null!==ee&&(clearInterval(ee),ee=null),re&&(r=re,re=null,r()))}function oe(e){h.onAbort&&h.onAbort(e),f&&console.error("Pthread aborting at "+(new Error).stack),E(e+=""),O=!0,e="abort("+e+"). Build with -s ASSERTIONS=1 for more info.";e=new WebAssembly.RuntimeError(e);throw a(e),e}h.preloadedImages={},h.preloadedAudios={};var ae="data:application/octet-stream;base64,";function ie(e){return r=e,e=ae,String.prototype.startsWith?r.startsWith(e):0===r.indexOf(e);var r}var se,ue,ce="tflite-wasm-thread.wasm";function le(e){try{if(e==ce&&_)return new Uint8Array(_);if(m)return m(e);throw"both async and sync fetching of the wasm failed"}catch(e){oe(e)}}ie(ce)||(ce=w(ce));var fe={116956:function(){throw"Canceled!"},116974:function(e,r){setTimeout(function(){vr(e,r)},0)}};function de(e){for(;0<e.length;){var r,t=e.shift();"function"!=typeof t?"number"==typeof(r=t.func)?void 0===t.arg?U.get(r)():U.get(r)(t.arg):r(void 0===t.arg?null:t.arg):t(h)}}var me={EPERM:63,ENOENT:44,ESRCH:71,EINTR:27,EIO:29,ENXIO:60,E2BIG:1,ENOEXEC:45,EBADF:8,ECHILD:12,EAGAIN:6,EWOULDBLOCK:6,ENOMEM:48,EACCES:2,EFAULT:21,ENOTBLK:105,EBUSY:10,EEXIST:20,EXDEV:75,ENODEV:43,ENOTDIR:54,EISDIR:31,EINVAL:28,ENFILE:41,EMFILE:33,ENOTTY:59,ETXTBSY:74,EFBIG:22,ENOSPC:51,ESPIPE:70,EROFS:69,EMLINK:34,EPIPE:64,EDOM:18,ERANGE:68,ENOMSG:49,EIDRM:24,ECHRNG:106,EL2NSYNC:156,EL3HLT:107,EL3RST:108,ELNRNG:109,EUNATCH:110,ENOCSI:111,EL2HLT:112,EDEADLK:16,ENOLCK:46,EBADE:113,EBADR:114,EXFULL:115,ENOANO:104,EBADRQC:103,EBADSLT:102,EDEADLOCK:16,EBFONT:101,ENOSTR:100,ENODATA:116,ETIME:117,ENOSR:118,ENONET:119,ENOPKG:120,EREMOTE:121,ENOLINK:47,EADV:122,ESRMNT:123,ECOMM:124,EPROTO:65,EMULTIHOP:36,EDOTDOT:125,EBADMSG:9,ENOTUNIQ:126,EBADFD:127,EREMCHG:128,ELIBACC:129,ELIBBAD:130,ELIBSCN:131,ELIBMAX:132,ELIBEXEC:133,ENOSYS:52,ENOTEMPTY:55,ENAMETOOLONG:37,ELOOP:32,EOPNOTSUPP:138,EPFNOSUPPORT:139,ECONNRESET:15,ENOBUFS:42,EAFNOSUPPORT:5,EPROTOTYPE:67,ENOTSOCK:57,ENOPROTOOPT:50,ESHUTDOWN:140,ECONNREFUSED:14,EADDRINUSE:3,ECONNABORTED:13,ENETUNREACH:40,ENETDOWN:38,ETIMEDOUT:73,EHOSTDOWN:142,EHOSTUNREACH:23,EINPROGRESS:26,EALREADY:7,EDESTADDRREQ:17,EMSGSIZE:35,EPROTONOSUPPORT:66,ESOCKTNOSUPPORT:137,EADDRNOTAVAIL:4,ENETRESET:39,EISCONN:30,ENOTCONN:53,ETOOMANYREFS:141,EUSERS:136,EDQUOT:19,ESTALE:72,ENOTSUP:138,ENOMEDIUM:148,EILSEQ:25,EOVERFLOW:61,ECANCELED:11,ENOTRECOVERABLE:56,EOWNERDEAD:62,ESTRPIPE:135};function he(e,r){if(e<=0||e>A.length||!0&e||r<0)return-28;if(0==r)return 0;2147483647<=r&&(r=1/0);var t=Atomics.load(x,Tr>>2),n=0;if(t==e){var o=Atomics.compareExchange(x,Tr>>2,t,0);if(o==t&&(n=1,--r<=0))return 1}r=Atomics.notify(x,e>>2,r);if(0<=r)return r+n;throw"Atomics.notify returned an unexpected value "+r}function pe(e){if(f)throw"Internal Error! cleanupThread() can only ever be called from main application thread!";if(!e)throw"Internal Error! Null pthread_ptr in cleanupThread!";var r=ge.pthreads[e];r&&(x[e+12>>2]=0,r=r.worker,ge.returnWorkerToPool(r))}h._emscripten_futex_wake=he;var we,ge={unusedWorkers:[],runningWorkers:[],initMainThreadBlock:function(){},initRuntime:function(){for(var e=cr(228),r=0;r<57;++r)T[e/4+r]=0;var t=(x[e+12>>2]=e)+152;x[t>>2]=t;for(var n=cr(512),r=0;r<128;++r)T[n/4+r]=0;Atomics.store(T,e+100>>2,n),Atomics.store(T,e+40>>2,e),br(e,!c,1),Er(e)},initWorker:function(){},pthreads:{},threadExitHandlers:[],setThreadStatus:function(){},runExitHandlers:function(){for(;0<ge.threadExitHandlers.length;)ge.threadExitHandlers.pop()();f&&dr()&&wr()},runExitHandlersAndDeinitThread:function(e,r){Atomics.store(T,e+56>>2,1),Atomics.store(T,e+60>>2,0),ge.runExitHandlers(),Atomics.store(T,e+4>>2,r),Atomics.store(T,e+0>>2,1),he(e+0,2147483647),br(0,0,0)},threadExit:function(e){var r=dr();r&&(ge.runExitHandlersAndDeinitThread(r,e),f&&postMessage({cmd:"exit"}))},threadCancel:function(){ge.runExitHandlersAndDeinitThread(dr(),-1),postMessage({cmd:"cancelDone"})},terminateAllThreads:function(){for(var e in ge.pthreads)(n=ge.pthreads[e])&&n.worker&&ge.returnWorkerToPool(n.worker);ge.pthreads={};for(var r=0;r<ge.unusedWorkers.length;++r)(t=ge.unusedWorkers[r]).terminate();ge.unusedWorkers=[];for(r=0;r<ge.runningWorkers.length;++r){var t,n=(t=ge.runningWorkers[r]).pthread;ge.freeThreadData(n),t.terminate()}ge.runningWorkers=[]},freeThreadData:function(e){var r;e&&(e.threadInfoStruct&&(r=x[e.threadInfoStruct+100>>2],x[e.threadInfoStruct+100>>2]=0,lr(r),lr(e.threadInfoStruct)),e.threadInfoStruct=0,e.allocatedOwnStack&&e.stackBase&&lr(e.stackBase),e.stackBase=0,e.worker&&(e.worker.pthread=null))},returnWorkerToPool:function(e){ge.runWithoutMainThreadQueuedCalls(function(){delete ge.pthreads[e.pthread.threadInfoStruct],ge.unusedWorkers.push(e),ge.runningWorkers.splice(ge.runningWorkers.indexOf(e),1),ge.freeThreadData(e.pthread),e.pthread=void 0})},runWithoutMainThreadQueuedCalls:function(e){x[xr>>2]=0;try{e()}finally{x[xr>>2]=1}},receiveObjectTransfer:function(e){},loadWasmModuleToWorker:function(o,a){o.onmessage=function(e){var r=e.data,t=r.cmd;if(o.pthread&&(ge.currentProxiedOperationCallerThread=o.pthread.threadInfoStruct),r.targetThread&&r.targetThread!=dr()){var n=ge.pthreads[r.targetThread];return n?n.worker.postMessage(e.data,r.transferList):console.error('Internal error! Worker sent a message "'+t+'" to target pthread '+r.targetThread+", but that thread no longer exists!"),void(ge.currentProxiedOperationCallerThread=void 0)}if("processQueuedMainThreadWork"===t)gr();else if("spawnThread"===t)er(e.data);else if("cleanupThread"===t)pe(r.thread);else if("killThread"===t)!function(e){if(f)throw"Internal Error! killThread() can only ever be called from main application thread!";if(!e)throw"Internal Error! Null pthread_ptr in killThread!";x[e+12>>2]=0,(e=ge.pthreads[e]).worker.terminate(),ge.freeThreadData(e),ge.runningWorkers.splice(ge.runningWorkers.indexOf(e.worker),1),e.worker.pthread=void 0}(r.thread);else if("cancelThread"===t)!function(e){if(f)throw"Internal Error! cancelThread() can only ever be called from main application thread!";if(!e)throw"Internal Error! Null pthread_ptr in cancelThread!";ge.pthreads[e].worker.postMessage({cmd:"cancel"})}(r.thread);else if("loaded"===t)o.loaded=!0,a&&a(o),o.runPthread&&(o.runPthread(),delete o.runPthread);else if("print"===t)g("Thread "+r.threadId+": "+r.text);else if("printErr"===t)E("Thread "+r.threadId+": "+r.text);else if("alert"===t)alert("Thread "+r.threadId+": "+r.text);else if("exit"===t)o.pthread&&Atomics.load(T,o.pthread.threadInfoStruct+64>>2)&&ge.returnWorkerToPool(o);else if("exitProcess"===t)try{Rr(r.returnCode)}catch(e){if(e instanceof Mr)return;throw e}else"cancelDone"===t?ge.returnWorkerToPool(o):"objectTransfer"===t?ge.receiveObjectTransfer(e.data):"setimmediate"===e.data.target?o.postMessage(e.data):E("worker sent an unknown command "+t);ge.currentProxiedOperationCallerThread=void 0},o.onerror=function(e){E("pthread sent an error! "+e.filename+":"+e.lineno+": "+e.message)},o.postMessage({cmd:"load",urlOrBlob:h.mainScriptUrlOrBlob||Lr,wasmMemory:k,wasmModule:b})},allocateUnusedWorker:function(){var e=w("tflite-wasm-thread.worker.js");ge.unusedWorkers.push(new Worker(e))},getNewWorker:function(){return 0==ge.unusedWorkers.length&&(ge.allocateUnusedWorker(),ge.loadWasmModuleToWorker(ge.unusedWorkers[0])),0<ge.unusedWorkers.length?ge.unusedWorkers.pop():null},busySpinWait:function(e){for(var r=performance.now()+e;performance.now()<r;);}};h.establishStackSpace=function(e,r){Pr(e,r),Sr(e)},h.getNoExitRuntime=function(){return D},h.invokeEntryPoint=function(e,r){return U.get(e)(r)},we=f?function(){return performance.now()-h.__performance_now_clock_drift}:function(){return performance.now()};function Ee(e){return x[fr()>>2]=e}var ve={splitPath:function(e){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1)},normalizeArray:function(e,r){for(var t=0,n=e.length-1;0<=n;n--){var o=e[n];"."===o?e.splice(n,1):".."===o?(e.splice(n,1),t++):t&&(e.splice(n,1),t--)}if(r)for(;t;t--)e.unshift("..");return e},normalize:function(e){var r="/"===e.charAt(0),t="/"===e.substr(-1);return(e=!(e=ve.normalizeArray(e.split("/").filter(function(e){return!!e}),!r).join("/"))&&!r?".":e)&&t&&(e+="/"),(r?"/":"")+e},dirname:function(e){var r=ve.splitPath(e),e=r[0],r=r[1];return e||r?e+(r=r&&r.substr(0,r.length-1)):"."},basename:function(e){if("/"===e)return"/";var r=(e=(e=ve.normalize(e)).replace(/\/$/,"")).lastIndexOf("/");return-1===r?e:e.substr(r+1)},extname:function(e){return ve.splitPath(e)[3]},join:function(){var e=Array.prototype.slice.call(arguments,0);return ve.normalize(e.join("/"))},join2:function(e,r){return ve.normalize(e+"/"+r)}};var ye={resolve:function(){for(var e="",r=!1,t=arguments.length-1;-1<=t&&!r;t--){var n=0<=t?arguments[t]:De.cwd();if("string"!=typeof n)throw new TypeError("Arguments to path.resolve must be strings");if(!n)return"";e=n+"/"+e,r="/"===n.charAt(0)}return(r?"/":"")+(e=ve.normalizeArray(e.split("/").filter(function(e){return!!e}),!r).join("/"))||"."},relative:function(e,r){function t(e){for(var r=0;r<e.length&&""===e[r];r++);for(var t=e.length-1;0<=t&&""===e[t];t--);return t<r?[]:e.slice(r,t-r+1)}e=ye.resolve(e).substr(1),r=ye.resolve(r).substr(1);for(var n=t(e.split("/")),o=t(r.split("/")),a=Math.min(n.length,o.length),i=a,s=0;s<a;s++)if(n[s]!==o[s]){i=s;break}for(var u=[],s=i;s<n.length;s++)u.push("..");return(u=u.concat(o.slice(i))).join("/")}},_e={ttys:[],init:function(){},shutdown:function(){},register:function(e,r){_e.ttys[e]={input:[],output:[],ops:r},De.registerDevice(e,_e.stream_ops)},stream_ops:{open:function(e){var r=_e.ttys[e.node.rdev];if(!r)throw new De.ErrnoError(43);e.tty=r,e.seekable=!1},close:function(e){e.tty.ops.flush(e.tty)},flush:function(e){e.tty.ops.flush(e.tty)},read:function(e,r,t,n,o){if(!e.tty||!e.tty.ops.get_char)throw new De.ErrnoError(60);for(var a,i=0,s=0;s<n;s++){try{a=e.tty.ops.get_char(e.tty)}catch(e){throw new De.ErrnoError(29)}if(void 0===a&&0===i)throw new De.ErrnoError(6);if(null==a)break;i++,r[t+s]=a}return i&&(e.node.timestamp=Date.now()),i},write:function(e,r,t,n,o){if(!e.tty||!e.tty.ops.put_char)throw new De.ErrnoError(60);try{for(var a=0;a<n;a++)e.tty.ops.put_char(e.tty,r[t+a])}catch(e){throw new De.ErrnoError(29)}return n&&(e.node.timestamp=Date.now()),a}},default_tty_ops:{get_char:function(e){if(!e.input.length){var r=null;if("undefined"!=typeof window&&"function"==typeof window.prompt?null!==(r=window.prompt("Input: "))&&(r+="\n"):"function"==typeof readline&&null!==(r=readline())&&(r+="\n"),!r)return null;e.input=ar(r,!0)}return e.input.shift()},put_char:function(e,r){null===r||10===r?(g(C(e.output,0)),e.output=[]):0!=r&&e.output.push(r)},flush:function(e){e.output&&0<e.output.length&&(g(C(e.output,0)),e.output=[])}},default_tty1_ops:{put_char:function(e,r){null===r||10===r?(E(C(e.output,0)),e.output=[]):0!=r&&e.output.push(r)},flush:function(e){e.output&&0<e.output.length&&(E(C(e.output,0)),e.output=[])}}};function ke(e){for(var r,t,n=(r=e,t=(t=16384)||v,Math.ceil(r/t)*t),o=cr(n);e<n;)A[o+e++]=0;return o}var be={ops_table:null,mount:function(e){return be.createNode(null,"/",16895,0)},createNode:function(e,r,t,n){if(De.isBlkdev(t)||De.isFIFO(t))throw new De.ErrnoError(63);be.ops_table||(be.ops_table={dir:{node:{getattr:be.node_ops.getattr,setattr:be.node_ops.setattr,lookup:be.node_ops.lookup,mknod:be.node_ops.mknod,rename:be.node_ops.rename,unlink:be.node_ops.unlink,rmdir:be.node_ops.rmdir,readdir:be.node_ops.readdir,symlink:be.node_ops.symlink},stream:{llseek:be.stream_ops.llseek}},file:{node:{getattr:be.node_ops.getattr,setattr:be.node_ops.setattr},stream:{llseek:be.stream_ops.llseek,read:be.stream_ops.read,write:be.stream_ops.write,allocate:be.stream_ops.allocate,mmap:be.stream_ops.mmap,msync:be.stream_ops.msync}},link:{node:{getattr:be.node_ops.getattr,setattr:be.node_ops.setattr,readlink:be.node_ops.readlink},stream:{}},chrdev:{node:{getattr:be.node_ops.getattr,setattr:be.node_ops.setattr},stream:De.chrdev_stream_ops}});n=De.createNode(e,r,t,n);return De.isDir(n.mode)?(n.node_ops=be.ops_table.dir.node,n.stream_ops=be.ops_table.dir.stream,n.contents={}):De.isFile(n.mode)?(n.node_ops=be.ops_table.file.node,n.stream_ops=be.ops_table.file.stream,n.usedBytes=0,n.contents=null):De.isLink(n.mode)?(n.node_ops=be.ops_table.link.node,n.stream_ops=be.ops_table.link.stream):De.isChrdev(n.mode)&&(n.node_ops=be.ops_table.chrdev.node,n.stream_ops=be.ops_table.chrdev.stream),n.timestamp=Date.now(),e&&(e.contents[r]=n,e.timestamp=n.timestamp),n},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array(0)},expandFileStorage:function(e,r){var t=e.contents?e.contents.length:0;r<=t||(r=Math.max(r,t*(t<1048576?2:1.125)>>>0),0!=t&&(r=Math.max(r,256)),t=e.contents,e.contents=new Uint8Array(r),0<e.usedBytes&&e.contents.set(t.subarray(0,e.usedBytes),0))},resizeFileStorage:function(e,r){var t;e.usedBytes!=r&&(0==r?(e.contents=null,e.usedBytes=0):(t=e.contents,e.contents=new Uint8Array(r),t&&e.contents.set(t.subarray(0,Math.min(r,e.usedBytes))),e.usedBytes=r))},node_ops:{getattr:function(e){var r={};return r.dev=De.isChrdev(e.mode)?e.id:1,r.ino=e.id,r.mode=e.mode,r.nlink=1,r.uid=0,r.gid=0,r.rdev=e.rdev,De.isDir(e.mode)?r.size=4096:De.isFile(e.mode)?r.size=e.usedBytes:De.isLink(e.mode)?r.size=e.link.length:r.size=0,r.atime=new Date(e.timestamp),r.mtime=new Date(e.timestamp),r.ctime=new Date(e.timestamp),r.blksize=4096,r.blocks=Math.ceil(r.size/r.blksize),r},setattr:function(e,r){void 0!==r.mode&&(e.mode=r.mode),void 0!==r.timestamp&&(e.timestamp=r.timestamp),void 0!==r.size&&be.resizeFileStorage(e,r.size)},lookup:function(e,r){throw De.genericErrors[44]},mknod:function(e,r,t,n){return be.createNode(e,r,t,n)},rename:function(e,r,t){if(De.isDir(e.mode)){var n;try{n=De.lookupNode(r,t)}catch(e){}if(n)for(var o in n.contents)throw new De.ErrnoError(55)}delete e.parent.contents[e.name],e.parent.timestamp=Date.now(),e.name=t,r.contents[t]=e,r.timestamp=e.parent.timestamp,e.parent=r},unlink:function(e,r){delete e.contents[r],e.timestamp=Date.now()},rmdir:function(e,r){for(var t in De.lookupNode(e,r).contents)throw new De.ErrnoError(55);delete e.contents[r],e.timestamp=Date.now()},readdir:function(e){var r,t=[".",".."];for(r in e.contents)e.contents.hasOwnProperty(r)&&t.push(r);return t},symlink:function(e,r,t){r=be.createNode(e,r,41471,0);return r.link=t,r},readlink:function(e){if(!De.isLink(e.mode))throw new De.ErrnoError(28);return e.link}},stream_ops:{read:function(e,r,t,n,o){var a=e.node.contents;if(o>=e.node.usedBytes)return 0;var i=Math.min(e.node.usedBytes-o,n);if(8<i&&a.subarray)r.set(a.subarray(o,o+i),t);else for(var s=0;s<i;s++)r[t+s]=a[o+s];return i},write:function(e,r,t,n,o,a){if(!n)return 0;var i=e.node;if(i.timestamp=Date.now(),r.subarray&&(!i.contents||i.contents.subarray)){if(a)return i.contents=r.subarray(t,t+n),i.usedBytes=n;if(0===i.usedBytes&&0===o)return i.contents=r.slice(t,t+n),i.usedBytes=n;if(o+n<=i.usedBytes)return i.contents.set(r.subarray(t,t+n),o),n}if(be.expandFileStorage(i,o+n),i.contents.subarray&&r.subarray)i.contents.set(r.subarray(t,t+n),o);else for(var s=0;s<n;s++)i.contents[o+s]=r[t+s];return i.usedBytes=Math.max(i.usedBytes,o+n),n},llseek:function(e,r,t){if(1===t?r+=e.position:2===t&&De.isFile(e.node.mode)&&(r+=e.node.usedBytes),r<0)throw new De.ErrnoError(28);return r},allocate:function(e,r,t){be.expandFileStorage(e.node,r+t),e.node.usedBytes=Math.max(e.node.usedBytes,r+t)},mmap:function(e,r,t,n,o,a){if(0!==r)throw new De.ErrnoError(28);if(!De.isFile(e.node.mode))throw new De.ErrnoError(43);var i,s,e=e.node.contents;if(2&a||e.buffer!==S){if((0<n||n+t<e.length)&&(e=e.subarray?e.subarray(n,n+t):Array.prototype.slice.call(e,n,n+t)),s=!0,!(i=ke(t)))throw new De.ErrnoError(48);A.set(e,i)}else s=!1,i=e.byteOffset;return{ptr:i,allocated:s}},msync:function(e,r,t,n,o){if(!De.isFile(e.node.mode))throw new De.ErrnoError(43);if(2&o)return 0;be.stream_ops.write(e,r,0,n,t,!1);return 0}}},De={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:function(e,r){if(r=r||{},!(e=ye.resolve(De.cwd(),e)))return{path:"",node:null};var t,n={follow_mount:!0,recurse_count:0};for(t in n)void 0===r[t]&&(r[t]=n[t]);if(8<r.recurse_count)throw new De.ErrnoError(32);for(var o=ve.normalizeArray(e.split("/").filter(function(e){return!!e}),!1),a=De.root,i="/",s=0;s<o.length;s++){var u=s===o.length-1;if(u&&r.parent)break;if(a=De.lookupNode(a,o[s]),i=ve.join2(i,o[s]),De.isMountpoint(a)&&(!u||u&&r.follow_mount)&&(a=a.mounted.root),!u||r.follow)for(var c=0;De.isLink(a.mode);){var l=De.readlink(i),i=ye.resolve(ve.dirname(i),l),a=De.lookupPath(i,{recurse_count:r.recurse_count}).node;if(40<c++)throw new De.ErrnoError(32)}}return{path:i,node:a}},getPath:function(e){for(var r;;){if(De.isRoot(e)){var t=e.mount.mountpoint;return r?"/"!==t[t.length-1]?t+"/"+r:t+r:t}r=r?e.name+"/"+r:e.name,e=e.parent}},hashName:function(e,r){for(var t=0,n=0;n<r.length;n++)t=(t<<5)-t+r.charCodeAt(n)|0;return(e+t>>>0)%De.nameTable.length},hashAddNode:function(e){var r=De.hashName(e.parent.id,e.name);e.name_next=De.nameTable[r],De.nameTable[r]=e},hashRemoveNode:function(e){var r=De.hashName(e.parent.id,e.name);if(De.nameTable[r]===e)De.nameTable[r]=e.name_next;else for(var t=De.nameTable[r];t;){if(t.name_next===e){t.name_next=e.name_next;break}t=t.name_next}},lookupNode:function(e,r){var t=De.mayLookup(e);if(t)throw new De.ErrnoError(t,e);for(var t=De.hashName(e.id,r),n=De.nameTable[t];n;n=n.name_next){var o=n.name;if(n.parent.id===e.id&&o===r)return n}return De.lookup(e,r)},createNode:function(e,r,t,n){n=new De.FSNode(e,r,t,n);return De.hashAddNode(n),n},destroyNode:function(e){De.hashRemoveNode(e)},isRoot:function(e){return e===e.parent},isMountpoint:function(e){return!!e.mounted},isFile:function(e){return 32768==(61440&e)},isDir:function(e){return 16384==(61440&e)},isLink:function(e){return 40960==(61440&e)},isChrdev:function(e){return 8192==(61440&e)},isBlkdev:function(e){return 24576==(61440&e)},isFIFO:function(e){return 4096==(61440&e)},isSocket:function(e){return 49152==(49152&e)},flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:function(e){var r=De.flagModes[e];if(void 0===r)throw new Error("Unknown file open mode: "+e);return r},flagsToPermissionString:function(e){var r=["r","w","rw"][3&e];return 512&e&&(r+="w"),r},nodePermissions:function(e,r){return De.ignorePermissions||(-1===r.indexOf("r")||292&e.mode)&&(-1===r.indexOf("w")||146&e.mode)&&(-1===r.indexOf("x")||73&e.mode)?0:2},mayLookup:function(e){var r=De.nodePermissions(e,"x");return r||(e.node_ops.lookup?0:2)},mayCreate:function(e,r){try{De.lookupNode(e,r);return 20}catch(e){}return De.nodePermissions(e,"wx")},mayDelete:function(e,r,t){var n;try{n=De.lookupNode(e,r)}catch(e){return e.errno}var o=De.nodePermissions(e,"wx");if(o)return o;if(t){if(!De.isDir(n.mode))return 54;if(De.isRoot(n)||De.getPath(n)===De.cwd())return 10}else if(De.isDir(n.mode))return 31;return 0},mayOpen:function(e,r){return e?De.isLink(e.mode)?32:De.isDir(e.mode)&&("r"!==De.flagsToPermissionString(r)||512&r)?31:De.nodePermissions(e,De.flagsToPermissionString(r)):44},MAX_OPEN_FDS:4096,nextfd:function(e,r){e=e||0,r=r||De.MAX_OPEN_FDS;for(var t=e;t<=r;t++)if(!De.streams[t])return t;throw new De.ErrnoError(33)},getStream:function(e){return De.streams[e]},createStream:function(e,r,t){De.FSStream||(De.FSStream=function(){},De.FSStream.prototype={object:{get:function(){return this.node},set:function(e){this.node=e}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}}});var n,o=new De.FSStream;for(n in e)o[n]=e[n];e=o;t=De.nextfd(r,t);return e.fd=t,De.streams[t]=e},closeStream:function(e){De.streams[e]=null},chrdev_stream_ops:{open:function(e){var r=De.getDevice(e.node.rdev);e.stream_ops=r.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:function(){throw new De.ErrnoError(70)}},major:function(e){return e>>8},minor:function(e){return 255&e},makedev:function(e,r){return e<<8|r},registerDevice:function(e,r){De.devices[e]={stream_ops:r}},getDevice:function(e){return De.devices[e]},getMounts:function(e){for(var r=[],t=[e];t.length;){var n=t.pop();r.push(n),t.push.apply(t,n.mounts)}return r},syncfs:function(r,t){"function"==typeof r&&(t=r,r=!1),De.syncFSRequests++,1<De.syncFSRequests&&E("warning: "+De.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var n=De.getMounts(De.root.mount),o=0;function a(e){return De.syncFSRequests--,t(e)}function i(e){if(e)return i.errored?void 0:(i.errored=!0,a(e));++o>=n.length&&a(null)}n.forEach(function(e){return e.type.syncfs?void e.type.syncfs(e,r,i):i(null)})},mount:function(e,r,t){var n="/"===t,o=!t;if(n&&De.root)throw new De.ErrnoError(10);if(!n&&!o){var a=De.lookupPath(t,{follow_mount:!1});if(t=a.path,a=a.node,De.isMountpoint(a))throw new De.ErrnoError(10);if(!De.isDir(a.mode))throw new De.ErrnoError(54)}t={type:e,opts:r,mountpoint:t,mounts:[]},e=e.mount(t);return(e.mount=t).root=e,n?De.root=e:a&&(a.mounted=t,a.mount&&a.mount.mounts.push(t)),e},unmount:function(e){var r=De.lookupPath(e,{follow_mount:!1});if(!De.isMountpoint(r.node))throw new De.ErrnoError(28);var e=r.node,r=e.mounted,n=De.getMounts(r);Object.keys(De.nameTable).forEach(function(e){for(var r=De.nameTable[e];r;){var t=r.name_next;-1!==n.indexOf(r.mount)&&De.destroyNode(r),r=t}}),e.mounted=null;r=e.mount.mounts.indexOf(r);e.mount.mounts.splice(r,1)},lookup:function(e,r){return e.node_ops.lookup(e,r)},mknod:function(e,r,t){var n=De.lookupPath(e,{parent:!0}).node,o=ve.basename(e);if(!o||"."===o||".."===o)throw new De.ErrnoError(28);e=De.mayCreate(n,o);if(e)throw new De.ErrnoError(e);if(!n.node_ops.mknod)throw new De.ErrnoError(63);return n.node_ops.mknod(n,o,r,t)},create:function(e,r){return r=void 0!==r?r:438,r&=4095,r|=32768,De.mknod(e,r,0)},mkdir:function(e,r){return r=void 0!==r?r:511,r&=1023,r|=16384,De.mknod(e,r,0)},mkdirTree:function(e,r){for(var t=e.split("/"),n="",o=0;o<t.length;++o)if(t[o]){n+="/"+t[o];try{De.mkdir(n,r)}catch(e){if(20!=e.errno)throw e}}},mkdev:function(e,r,t){return void 0===t&&(t=r,r=438),r|=8192,De.mknod(e,r,t)},symlink:function(e,r){if(!ye.resolve(e))throw new De.ErrnoError(44);var t=De.lookupPath(r,{parent:!0}).node;if(!t)throw new De.ErrnoError(44);var n=ve.basename(r),r=De.mayCreate(t,n);if(r)throw new De.ErrnoError(r);if(!t.node_ops.symlink)throw new De.ErrnoError(63);return t.node_ops.symlink(t,n,e)},rename:function(r,t){var e=ve.dirname(r),n=ve.dirname(t),o=ve.basename(r),a=ve.basename(t),i=De.lookupPath(r,{parent:!0}),s=i.node,u=De.lookupPath(t,{parent:!0}).node;if(!s||!u)throw new De.ErrnoError(44);if(s.mount!==u.mount)throw new De.ErrnoError(75);var c,l=De.lookupNode(s,o),n=ye.relative(r,n);if("."!==n.charAt(0))throw new De.ErrnoError(28);if("."!==(n=ye.relative(t,e)).charAt(0))throw new De.ErrnoError(55);try{c=De.lookupNode(u,a)}catch(e){}if(l!==c){n=De.isDir(l.mode),o=De.mayDelete(s,o,n);if(o)throw new De.ErrnoError(o);if(o=c?De.mayDelete(u,a,n):De.mayCreate(u,a))throw new De.ErrnoError(o);if(!s.node_ops.rename)throw new De.ErrnoError(63);if(De.isMountpoint(l)||c&&De.isMountpoint(c))throw new De.ErrnoError(10);if(u!==s&&(o=De.nodePermissions(s,"w")))throw new De.ErrnoError(o);try{De.trackingDelegate.willMovePath&&De.trackingDelegate.willMovePath(r,t)}catch(e){E("FS.trackingDelegate['willMovePath']('"+r+"', '"+t+"') threw an exception: "+e.message)}De.hashRemoveNode(l);try{s.node_ops.rename(l,u,a)}catch(e){throw e}finally{De.hashAddNode(l)}try{De.trackingDelegate.onMovePath&&De.trackingDelegate.onMovePath(r,t)}catch(e){E("FS.trackingDelegate['onMovePath']('"+r+"', '"+t+"') threw an exception: "+e.message)}}},rmdir:function(r){var e=De.lookupPath(r,{parent:!0}).node,t=ve.basename(r),n=De.lookupNode(e,t),o=De.mayDelete(e,t,!0);if(o)throw new De.ErrnoError(o);if(!e.node_ops.rmdir)throw new De.ErrnoError(63);if(De.isMountpoint(n))throw new De.ErrnoError(10);try{De.trackingDelegate.willDeletePath&&De.trackingDelegate.willDeletePath(r)}catch(e){E("FS.trackingDelegate['willDeletePath']('"+r+"') threw an exception: "+e.message)}e.node_ops.rmdir(e,t),De.destroyNode(n);try{De.trackingDelegate.onDeletePath&&De.trackingDelegate.onDeletePath(r)}catch(e){E("FS.trackingDelegate['onDeletePath']('"+r+"') threw an exception: "+e.message)}},readdir:function(e){e=De.lookupPath(e,{follow:!0}).node;if(!e.node_ops.readdir)throw new De.ErrnoError(54);return e.node_ops.readdir(e)},unlink:function(r){var e=De.lookupPath(r,{parent:!0}).node,t=ve.basename(r),n=De.lookupNode(e,t),o=De.mayDelete(e,t,!1);if(o)throw new De.ErrnoError(o);if(!e.node_ops.unlink)throw new De.ErrnoError(63);if(De.isMountpoint(n))throw new De.ErrnoError(10);try{De.trackingDelegate.willDeletePath&&De.trackingDelegate.willDeletePath(r)}catch(e){E("FS.trackingDelegate['willDeletePath']('"+r+"') threw an exception: "+e.message)}e.node_ops.unlink(e,t),De.destroyNode(n);try{De.trackingDelegate.onDeletePath&&De.trackingDelegate.onDeletePath(r)}catch(e){E("FS.trackingDelegate['onDeletePath']('"+r+"') threw an exception: "+e.message)}},readlink:function(e){e=De.lookupPath(e).node;if(!e)throw new De.ErrnoError(44);if(!e.node_ops.readlink)throw new De.ErrnoError(28);return ye.resolve(De.getPath(e.parent),e.node_ops.readlink(e))},stat:function(e,r){r=De.lookupPath(e,{follow:!r}).node;if(!r)throw new De.ErrnoError(44);if(!r.node_ops.getattr)throw new De.ErrnoError(63);return r.node_ops.getattr(r)},lstat:function(e){return De.stat(e,!0)},chmod:function(e,r,t){if(!(e="string"==typeof e?De.lookupPath(e,{follow:!t}).node:e).node_ops.setattr)throw new De.ErrnoError(63);e.node_ops.setattr(e,{mode:4095&r|-4096&e.mode,timestamp:Date.now()})},lchmod:function(e,r){De.chmod(e,r,!0)},fchmod:function(e,r){e=De.getStream(e);if(!e)throw new De.ErrnoError(8);De.chmod(e.node,r)},chown:function(e,r,t,n){if(!(e="string"==typeof e?De.lookupPath(e,{follow:!n}).node:e).node_ops.setattr)throw new De.ErrnoError(63);e.node_ops.setattr(e,{timestamp:Date.now()})},lchown:function(e,r,t){De.chown(e,r,t,!0)},fchown:function(e,r,t){e=De.getStream(e);if(!e)throw new De.ErrnoError(8);De.chown(e.node,r,t)},truncate:function(e,r){if(r<0)throw new De.ErrnoError(28);var t;if(!(t="string"==typeof e?De.lookupPath(e,{follow:!0}).node:e).node_ops.setattr)throw new De.ErrnoError(63);if(De.isDir(t.mode))throw new De.ErrnoError(31);if(!De.isFile(t.mode))throw new De.ErrnoError(28);e=De.nodePermissions(t,"w");if(e)throw new De.ErrnoError(e);t.node_ops.setattr(t,{size:r,timestamp:Date.now()})},ftruncate:function(e,r){e=De.getStream(e);if(!e)throw new De.ErrnoError(8);if(0==(2097155&e.flags))throw new De.ErrnoError(28);De.truncate(e.node,r)},utime:function(e,r,t){e=De.lookupPath(e,{follow:!0}).node;e.node_ops.setattr(e,{timestamp:Math.max(r,t)})},open:function(r,e,t,n,o){if(""===r)throw new De.ErrnoError(44);if(t=void 0===t?438:t,t=64&(e="string"==typeof e?De.modeStringToFlags(e):e)?4095&t|32768:0,"object"==typeof r)a=r;else{r=ve.normalize(r);try{var a=De.lookupPath(r,{follow:!(131072&e)}).node}catch(e){}}var i=!1;if(64&e)if(a){if(128&e)throw new De.ErrnoError(20)}else a=De.mknod(r,t,0),i=!0;if(!a)throw new De.ErrnoError(44);if(De.isChrdev(a.mode)&&(e&=-513),65536&e&&!De.isDir(a.mode))throw new De.ErrnoError(54);if(!i){i=De.mayOpen(a,e);if(i)throw new De.ErrnoError(i)}512&e&&De.truncate(a,0),e&=-131713;var s,o=De.createStream({node:a,path:De.getPath(a),flags:e,seekable:!0,position:0,stream_ops:a.stream_ops,ungotten:[],error:!1},n,o);o.stream_ops.open&&o.stream_ops.open(o),!h.logReadFiles||1&e||(De.readFiles||(De.readFiles={}),r in De.readFiles||(De.readFiles[r]=1,E("FS.trackingDelegate error on read file: "+r)));try{De.trackingDelegate.onOpenFile&&(s=0,1!=(2097155&e)&&(s|=De.tracking.openFlags.READ),0!=(2097155&e)&&(s|=De.tracking.openFlags.WRITE),De.trackingDelegate.onOpenFile(r,s))}catch(e){E("FS.trackingDelegate['onOpenFile']('"+r+"', flags) threw an exception: "+e.message)}return o},close:function(e){if(De.isClosed(e))throw new De.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(e){throw e}finally{De.closeStream(e.fd)}e.fd=null},isClosed:function(e){return null===e.fd},llseek:function(e,r,t){if(De.isClosed(e))throw new De.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new De.ErrnoError(70);if(0!=t&&1!=t&&2!=t)throw new De.ErrnoError(28);return e.position=e.stream_ops.llseek(e,r,t),e.ungotten=[],e.position},read:function(e,r,t,n,o){if(n<0||o<0)throw new De.ErrnoError(28);if(De.isClosed(e))throw new De.ErrnoError(8);if(1==(2097155&e.flags))throw new De.ErrnoError(8);if(De.isDir(e.node.mode))throw new De.ErrnoError(31);if(!e.stream_ops.read)throw new De.ErrnoError(28);var a=void 0!==o;if(a){if(!e.seekable)throw new De.ErrnoError(70)}else o=e.position;o=e.stream_ops.read(e,r,t,n,o);return a||(e.position+=o),o},write:function(r,e,t,n,o,a){if(n<0||o<0)throw new De.ErrnoError(28);if(De.isClosed(r))throw new De.ErrnoError(8);if(0==(2097155&r.flags))throw new De.ErrnoError(8);if(De.isDir(r.node.mode))throw new De.ErrnoError(31);if(!r.stream_ops.write)throw new De.ErrnoError(28);r.seekable&&1024&r.flags&&De.llseek(r,0,2);var i=void 0!==o;if(i){if(!r.seekable)throw new De.ErrnoError(70)}else o=r.position;a=r.stream_ops.write(r,e,t,n,o,a);i||(r.position+=a);try{r.path&&De.trackingDelegate.onWriteToFile&&De.trackingDelegate.onWriteToFile(r.path)}catch(e){E("FS.trackingDelegate['onWriteToFile']('"+r.path+"') threw an exception: "+e.message)}return a},allocate:function(e,r,t){if(De.isClosed(e))throw new De.ErrnoError(8);if(r<0||t<=0)throw new De.ErrnoError(28);if(0==(2097155&e.flags))throw new De.ErrnoError(8);if(!De.isFile(e.node.mode)&&!De.isDir(e.node.mode))throw new De.ErrnoError(43);if(!e.stream_ops.allocate)throw new De.ErrnoError(138);e.stream_ops.allocate(e,r,t)},mmap:function(e,r,t,n,o,a){if(0!=(2&o)&&0==(2&a)&&2!=(2097155&e.flags))throw new De.ErrnoError(2);if(1==(2097155&e.flags))throw new De.ErrnoError(2);if(!e.stream_ops.mmap)throw new De.ErrnoError(43);return e.stream_ops.mmap(e,r,t,n,o,a)},msync:function(e,r,t,n,o){return e&&e.stream_ops.msync?e.stream_ops.msync(e,r,t,n,o):0},munmap:function(e){return 0},ioctl:function(e,r,t){if(!e.stream_ops.ioctl)throw new De.ErrnoError(59);return e.stream_ops.ioctl(e,r,t)},readFile:function(e,r){if((r=r||{}).flags=r.flags||0,r.encoding=r.encoding||"binary","utf8"!==r.encoding&&"binary"!==r.encoding)throw new Error('Invalid encoding type "'+r.encoding+'"');var t,n=De.open(e,r.flags),o=De.stat(e).size,e=new Uint8Array(o);return De.read(n,e,0,o,0),"utf8"===r.encoding?t=C(e,0):"binary"===r.encoding&&(t=e),De.close(n),t},writeFile:function(e,r,t){(t=t||{}).flags=t.flags||577;var n=De.open(e,t.flags,t.mode);if("string"==typeof r){var o=new Uint8Array(j(r)+1),e=B(r,o,0,o.length);De.write(n,o,0,e,void 0,t.canOwn)}else{if(!ArrayBuffer.isView(r))throw new Error("Unsupported data type");De.write(n,r,0,r.byteLength,void 0,t.canOwn)}De.close(n)},cwd:function(){return De.currentPath},chdir:function(e){var r=De.lookupPath(e,{follow:!0});if(null===r.node)throw new De.ErrnoError(44);if(!De.isDir(r.node.mode))throw new De.ErrnoError(54);e=De.nodePermissions(r.node,"x");if(e)throw new De.ErrnoError(e);De.currentPath=r.path},createDefaultDirectories:function(){De.mkdir("/tmp"),De.mkdir("/home"),De.mkdir("/home/web_user")},createDefaultDevices:function(){De.mkdir("/dev"),De.registerDevice(De.makedev(1,3),{read:function(){return 0},write:function(e,r,t,n,o){return n}}),De.mkdev("/dev/null",De.makedev(1,3)),_e.register(De.makedev(5,0),_e.default_tty_ops),_e.register(De.makedev(6,0),_e.default_tty1_ops),De.mkdev("/dev/tty",De.makedev(5,0)),De.mkdev("/dev/tty1",De.makedev(6,0));var e=function(){if("object"!=typeof crypto||"function"!=typeof crypto.getRandomValues)return function(){oe("randomDevice")};var e=new Uint8Array(1);return function(){return crypto.getRandomValues(e),e[0]}}();De.createDevice("/dev","random",e),De.createDevice("/dev","urandom",e),De.mkdir("/dev/shm"),De.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){De.mkdir("/proc");var r=De.mkdir("/proc/self");De.mkdir("/proc/self/fd"),De.mount({mount:function(){var e=De.createNode(r,"fd",16895,73);return e.node_ops={lookup:function(e,r){var r=+r,t=De.getStream(r);if(!t)throw new De.ErrnoError(8);r={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return t.path}}};return r.parent=r}},e}},{},"/proc/self/fd")},createStandardStreams:function(){h.stdin?De.createDevice("/dev","stdin",h.stdin):De.symlink("/dev/tty","/dev/stdin"),h.stdout?De.createDevice("/dev","stdout",null,h.stdout):De.symlink("/dev/tty","/dev/stdout"),h.stderr?De.createDevice("/dev","stderr",null,h.stderr):De.symlink("/dev/tty1","/dev/stderr");De.open("/dev/stdin",0),De.open("/dev/stdout",1),De.open("/dev/stderr",1)},ensureErrnoError:function(){De.ErrnoError||(De.ErrnoError=function(e,r){this.node=r,this.setErrno=function(e){this.errno=e},this.setErrno(e),this.message="FS error"},De.ErrnoError.prototype=new Error,De.ErrnoError.prototype.constructor=De.ErrnoError,[44].forEach(function(e){De.genericErrors[e]=new De.ErrnoError(e),De.genericErrors[e].stack="<generic error, no stack>"}))},staticInit:function(){De.ensureErrnoError(),De.nameTable=new Array(4096),De.mount(be,{},"/"),De.createDefaultDirectories(),De.createDefaultDevices(),De.createSpecialDirectories(),De.filesystems={MEMFS:be}},init:function(e,r,t){De.init.initialized=!0,De.ensureErrnoError(),h.stdin=e||h.stdin,h.stdout=r||h.stdout,h.stderr=t||h.stderr,De.createStandardStreams()},quit:function(){De.init.initialized=!1;var e=h._fflush;e&&e(0);for(var r=0;r<De.streams.length;r++){var t=De.streams[r];t&&De.close(t)}},getMode:function(e,r){var t=0;return e&&(t|=365),r&&(t|=146),t},findObject:function(e,r){r=De.analyzePath(e,r);return r.exists?r.object:null},analyzePath:function(e,r){try{e=(n=De.lookupPath(e,{follow:!r})).path}catch(e){}var t={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var n=De.lookupPath(e,{parent:!0});t.parentExists=!0,t.parentPath=n.path,t.parentObject=n.node,t.name=ve.basename(e),n=De.lookupPath(e,{follow:!r}),t.exists=!0,t.path=n.path,t.object=n.node,t.name=n.node.name,t.isRoot="/"===n.path}catch(e){t.error=e.errno}return t},createPath:function(e,r,t,n){e="string"==typeof e?e:De.getPath(e);for(var o=r.split("/").reverse();o.length;){var a=o.pop();if(a){var i=ve.join2(e,a);try{De.mkdir(i)}catch(e){}e=i}}return i},createFile:function(e,r,t,n,o){r=ve.join2("string"==typeof e?e:De.getPath(e),r),o=De.getMode(n,o);return De.create(r,o)},createDataFile:function(e,r,t,n,o,a){e=r?ve.join2("string"==typeof e?e:De.getPath(e),r):e,n=De.getMode(n,o),o=De.create(e,n);if(t){if("string"==typeof t){for(var i=new Array(t.length),s=0,u=t.length;s<u;++s)i[s]=t.charCodeAt(s);t=i}De.chmod(o,146|n);e=De.open(o,577);De.write(e,t,0,t.length,0,a),De.close(e),De.chmod(o,n)}return o},createDevice:function(e,r,u,i){var t=ve.join2("string"==typeof e?e:De.getPath(e),r),e=De.getMode(!!u,!!i);De.createDevice.major||(De.createDevice.major=64);r=De.makedev(De.createDevice.major++,0);return De.registerDevice(r,{open:function(e){e.seekable=!1},close:function(e){i&&i.buffer&&i.buffer.length&&i(10)},read:function(e,r,t,n,o){for(var a,i=0,s=0;s<n;s++){try{a=u()}catch(e){throw new De.ErrnoError(29)}if(void 0===a&&0===i)throw new De.ErrnoError(6);if(null==a)break;i++,r[t+s]=a}return i&&(e.node.timestamp=Date.now()),i},write:function(e,r,t,n,o){for(var a=0;a<n;a++)try{i(r[t+a])}catch(e){throw new De.ErrnoError(29)}return n&&(e.node.timestamp=Date.now()),a}}),De.mkdev(t,e,r)},forceLoadFile:function(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!d)throw new Error("Cannot load without read() or XMLHttpRequest.");try{e.contents=ar(d(e.url),!0),e.usedBytes=e.contents.length}catch(e){throw new De.ErrnoError(29)}},createLazyFile:function(e,r,i,t,n){function o(){this.lengthKnown=!1,this.chunks=[]}if(o.prototype.get=function(e){if(!(e>this.length-1||e<0)){var r=e%this.chunkSize,e=e/this.chunkSize|0;return this.getter(e)[r]}},o.prototype.setDataGetter=function(e){this.getter=e},o.prototype.cacheLength=function(){var e=new XMLHttpRequest;if(e.open("HEAD",i,!1),e.send(null),!(200<=e.status&&e.status<300||304===e.status))throw new Error("Couldn't load "+i+". Status: "+e.status);var n=Number(e.getResponseHeader("Content-length")),r=(t=e.getResponseHeader("Accept-Ranges"))&&"bytes"===t,t=(t=e.getResponseHeader("Content-Encoding"))&&"gzip"===t,o=1048576;r||(o=n);var a=this;a.setDataGetter(function(e){var r=e*o,t=(e+1)*o-1,t=Math.min(t,n-1);if(void 0===a.chunks[e]&&(a.chunks[e]=function(e,r){if(r<e)throw new Error("invalid range ("+e+", "+r+") or no bytes requested!");if(n-1<r)throw new Error("only "+n+" bytes available! programmer error!");var t=new XMLHttpRequest;if(t.open("GET",i,!1),n!==o&&t.setRequestHeader("Range","bytes="+e+"-"+r),"undefined"!=typeof Uint8Array&&(t.responseType="arraybuffer"),t.overrideMimeType&&t.overrideMimeType("text/plain; charset=x-user-defined"),t.send(null),!(200<=t.status&&t.status<300||304===t.status))throw new Error("Couldn't load "+i+". Status: "+t.status);return void 0!==t.response?new Uint8Array(t.response||[]):ar(t.responseText||"",!0)}(r,t)),void 0===a.chunks[e])throw new Error("doXHR failed!");return a.chunks[e]}),!t&&n||(o=n=1,n=this.getter(0).length,o=n,g("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=n,this._chunkSize=o,this.lengthKnown=!0},"undefined"!=typeof XMLHttpRequest){if(!c)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var a=new o;Object.defineProperties(a,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});a={isDevice:!1,contents:a}}else a={isDevice:!1,url:i};var u=De.createFile(e,r,a,t,n);a.contents?u.contents=a.contents:a.url&&(u.contents=null,u.url=a.url),Object.defineProperties(u,{usedBytes:{get:function(){return this.contents.length}}});var s={};return Object.keys(u.stream_ops).forEach(function(e){var r=u.stream_ops[e];s[e]=function(){return De.forceLoadFile(u),r.apply(null,arguments)}}),s.read=function(e,r,t,n,o){De.forceLoadFile(u);var a=e.node.contents;if(o>=a.length)return 0;var i=Math.min(a.length-o,n);if(a.slice)for(var s=0;s<i;s++)r[t+s]=a[o+s];else for(s=0;s<i;s++)r[t+s]=a.get(o+s);return i},u.stream_ops=s,u},createPreloadedFile:function(o,a,e,i,s,u,c,l,f,d){Browser.init();var m=a?ye.resolve(ve.join2(o,a)):o;function r(r){function t(e){d&&d(),l||De.createDataFile(o,a,e,i,s,f),u&&u(),ne()}var n=!1;h.preloadPlugins.forEach(function(e){n||e.canHandle(m)&&(e.handle(r,m,t,function(){c&&c(),ne()}),n=!0)}),n||t(r)}te(),"string"==typeof e?Browser.asyncLoad(e,function(e){r(e)},c):r(e)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(i,s,u){s=s||function(){},u=u||function(){};var e=De.indexedDB();try{var c=e.open(De.DB_NAME(),De.DB_VERSION)}catch(e){return u(e)}c.onupgradeneeded=function(){g("creating db"),c.result.createObjectStore(De.DB_STORE_NAME)},c.onsuccess=function(){var e=c.result.transaction([De.DB_STORE_NAME],"readwrite"),r=e.objectStore(De.DB_STORE_NAME),t=0,n=0,o=i.length;function a(){(0==n?s:u)()}i.forEach(function(e){e=r.put(De.analyzePath(e).object.contents,e);e.onsuccess=function(){++t+n==o&&a()},e.onerror=function(){t+ ++n==o&&a()}}),e.onerror=u},c.onerror=u},loadFilesFromDB:function(s,u,c){u=u||function(){},c=c||function(){};var e=De.indexedDB();try{var l=e.open(De.DB_NAME(),De.DB_VERSION)}catch(e){return c(e)}l.onupgradeneeded=c,l.onsuccess=function(){var e=l.result;try{var r=e.transaction([De.DB_STORE_NAME],"readonly")}catch(e){return void c(e)}var t=r.objectStore(De.DB_STORE_NAME),n=0,o=0,a=s.length;function i(){(0==o?u:c)()}s.forEach(function(e){var r=t.get(e);r.onsuccess=function(){De.analyzePath(e).exists&&De.unlink(e),De.createDataFile(ve.dirname(e),ve.basename(e),r.result,!0,!0,!0),++n+o==a&&i()},r.onerror=function(){n+ ++o==a&&i()}}),r.onerror=c},l.onerror=c}},Se={mappings:{},DEFAULT_POLLMASK:5,umask:511,calculateAt:function(e,r,t){if("/"===r[0])return r;var n;if(-100===e)n=De.cwd();else{e=De.getStream(e);if(!e)throw new De.ErrnoError(8);n=e.path}if(0!=r.length)return ve.join2(n,r);if(!t)throw new De.ErrnoError(44);return n},doStat:function(e,r,t){try{var n=e(r)}catch(e){if(e&&e.node&&ve.normalize(r)!==ve.normalize(De.getPath(e.node)))return-54;throw e}return x[t>>2]=n.dev,x[t+4>>2]=0,x[t+8>>2]=n.ino,x[t+12>>2]=n.mode,x[t+16>>2]=n.nlink,x[t+20>>2]=n.uid,x[t+24>>2]=n.gid,x[t+28>>2]=n.rdev,x[t+32>>2]=0,ue=[n.size>>>0,(se=n.size,1<=+Math.abs(se)?0<se?(0|Math.min(+Math.floor(se/4294967296),4294967295))>>>0:~~+Math.ceil((se-(~~se>>>0))/4294967296)>>>0:0)],x[t+40>>2]=ue[0],x[t+44>>2]=ue[1],x[t+48>>2]=4096,x[t+52>>2]=n.blocks,x[t+56>>2]=n.atime.getTime()/1e3|0,x[t+60>>2]=0,x[t+64>>2]=n.mtime.getTime()/1e3|0,x[t+68>>2]=0,x[t+72>>2]=n.ctime.getTime()/1e3|0,x[t+76>>2]=0,ue=[n.ino>>>0,(se=n.ino,1<=+Math.abs(se)?0<se?(0|Math.min(+Math.floor(se/4294967296),4294967295))>>>0:~~+Math.ceil((se-(~~se>>>0))/4294967296)>>>0:0)],x[t+80>>2]=ue[0],x[t+84>>2]=ue[1],0},doMsync:function(e,r,t,n,o){e=P.slice(e,e+t);De.msync(r,e,o,t,n)},doMkdir:function(e,r){return"/"===(e=ve.normalize(e))[e.length-1]&&(e=e.substr(0,e.length-1)),De.mkdir(e,r,0),0},doMknod:function(e,r,t){switch(61440&r){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-28}return De.mknod(e,r,t),0},doReadlink:function(e,r,t){if(t<=0)return-28;var n=De.readlink(e),o=Math.min(t,j(n)),e=A[r+o];return z(n,r,t+1),A[r+o]=e,o},doAccess:function(e,r){if(-8&r)return-28;var t=De.lookupPath(e,{follow:!0}).node;if(!t)return-44;e="";return 4&r&&(e+="r"),2&r&&(e+="w"),1&r&&(e+="x"),e&&De.nodePermissions(t,e)?-2:0},doDup:function(e,r,t){var n=De.getStream(t);return n&&De.close(n),De.open(e,r,0,t,t).fd},doReadv:function(e,r,t,n){for(var o=0,a=0;a<t;a++){var i=x[r+8*a>>2],s=x[r+(8*a+4)>>2],i=De.read(e,A,i,s,n);if(i<0)return-1;if(o+=i,i<s)break}return o},doWritev:function(e,r,t,n){for(var o=0,a=0;a<t;a++){var i=x[r+8*a>>2],s=x[r+(8*a+4)>>2],s=De.write(e,A,i,s,n);if(s<0)return-1;o+=s}return o},varargs:void 0,get:function(){return Se.varargs+=4,x[Se.varargs-4>>2]},getStr:function(e){return I(e)},getStreamFromFD:function(e){e=De.getStream(e);if(!e)throw new De.ErrnoError(8);return e},get64:function(e,r){return e}};function Ae(e,r){if(f)return Re(3,1,e,r);try{var t=Se.getStreamFromFD(e);return Se.doStat(De.stat,t.path,r)}catch(e){return void 0!==De&&e instanceof De.ErrnoError||oe(e),-e.errno}}function Pe(e,r,t,n,o,a){if(f)return Re(5,1,e,r,t,n,o,a);try{return function(e,r,t,n,o,a){a<<=12;var i=!1;if(0!=(16&n)&&e%16384!=0)return-28;if(0!=(32&n)){if(!(u=Fr(16384,r)))return-48;mr(u,0,r),i=!0}else{var s=De.getStream(o);if(!s)return-8;var e=De.mmap(s,e,r,a,t,n),u=e.ptr,i=e.allocated}return Se.mappings[u]={malloc:u,len:r,allocated:i,fd:o,prot:t,flags:n,offset:a},u}(e,r,t,n,o,a)}catch(e){return void 0!==De&&e instanceof De.ErrnoError||oe(e),-e.errno}}function Fe(e,r){if(f)return Re(6,1,e,r);try{return function(e,r){if(-1==(0|e)||0===r)return-28;var t,n=Se.mappings[e];return n&&r===n.len&&((t=De.getStream(n.fd))&&(2&n.prot&&Se.doMsync(e,t,r,n.flags,n.offset),De.munmap(t)),Se.mappings[e]=null,n.allocated&&lr(n.malloc)),0}(e,r)}catch(e){return void 0!==De&&e instanceof De.ErrnoError||oe(e),-e.errno}}function xe(e,r,t){if(f)return Re(7,1,e,r,t);Se.varargs=t;try{var n=Se.getStr(e),o=t?Se.get():0;return De.open(n,r,o).fd}catch(e){return void 0!==De&&e instanceof De.ErrnoError||oe(e),-e.errno}}function Te(e,r){if(f)return Re(8,1,e,r);try{return e=Se.getStr(e),Se.doStat(De.stat,e,r)}catch(e){return void 0!==De&&e instanceof De.ErrnoError||oe(e),-e.errno}}function Me(){c||y("Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread")}function Oe(e,r,t){if(e<=0||e>A.length||!0&e)return-28;if(u){if(Atomics.load(x,e>>2)!=r)return-6;var n=performance.now(),o=n+t;for(Atomics.exchange(x,Tr>>2,e);;){if(o<performance.now())return Atomics.exchange(x,Tr>>2,0),-73;if(0==Atomics.exchange(x,Tr>>2,0))break;if(gr(),Atomics.load(x,e>>2)!=r)return-6;Atomics.exchange(x,Tr>>2,e)}return 0}t=Atomics.wait(x,e>>2,r,t);if("timed-out"===t)return-73;if("not-equal"===t)return-6;if("ok"===t)return 0;throw"Atomics.wait returned an unexpected value "+t}function Re(e,r){for(var t=arguments.length-2,n=Dr(),o=t,a=Ar(8*o),i=a>>3,s=0;s<t;s++){var u=arguments[2+s];M[i+s]=u}a=_r(e,o,a,r);return Sr(n),a}var Ne=[],Le=[];var Ce={inEventHandler:0,removeAllEventListeners:function(){for(var e=Ce.eventHandlers.length-1;0<=e;--e)Ce._removeHandler(e);Ce.eventHandlers=[],Ce.deferredCalls=[]},registerRemoveEventListeners:function(){Ce.removeEventListenersRegistered||(K.push(Ce.removeAllEventListeners),Ce.removeEventListenersRegistered=!0)},deferredCalls:[],deferCall:function(e,r,t){for(var n in Ce.deferredCalls){var o=Ce.deferredCalls[n];if(o.targetFunction==e&&function(e,r){if(e.length==r.length){for(var t in e)if(e[t]!=r[t])return;return 1}}(o.argsList,t))return}Ce.deferredCalls.push({targetFunction:e,precedence:r,argsList:t}),Ce.deferredCalls.sort(function(e,r){return e.precedence<r.precedence})},removeDeferredCalls:function(e){for(var r=0;r<Ce.deferredCalls.length;++r)Ce.deferredCalls[r].targetFunction==e&&(Ce.deferredCalls.splice(r,1),--r)},canPerformEventHandlerRequests:function(){return Ce.inEventHandler&&Ce.currentEventHandler.allowsDeferredCalls},runDeferredCalls:function(){if(Ce.canPerformEventHandlerRequests())for(var e=0;e<Ce.deferredCalls.length;++e){var r=Ce.deferredCalls[e];Ce.deferredCalls.splice(e,1),--e,r.targetFunction.apply(null,r.argsList)}},eventHandlers:[],removeAllHandlersOnTarget:function(e,r){for(var t=0;t<Ce.eventHandlers.length;++t)Ce.eventHandlers[t].target!=e||r&&r!=Ce.eventHandlers[t].eventTypeString||Ce._removeHandler(t--)},_removeHandler:function(e){var r=Ce.eventHandlers[e];r.target.removeEventListener(r.eventTypeString,r.eventListenerFunc,r.useCapture),Ce.eventHandlers.splice(e,1)},registerOrRemoveHandler:function(r){function e(e){++Ce.inEventHandler,Ce.currentEventHandler=r,Ce.runDeferredCalls(),r.handlerFunc(e),Ce.runDeferredCalls(),--Ce.inEventHandler}if(r.callbackfunc)r.eventListenerFunc=e,r.target.addEventListener(r.eventTypeString,e,r.useCapture),Ce.eventHandlers.push(r),Ce.registerRemoveEventListeners();else for(var t=0;t<Ce.eventHandlers.length;++t)Ce.eventHandlers[t].target==r.target&&Ce.eventHandlers[t].eventTypeString==r.eventTypeString&&Ce._removeHandler(t--)},queueEventHandlerOnThread_iiii:function(e,r,t,n,o){var a=Dr(),i=Ar(12);x[i>>2]=t,x[i+4>>2]=n,x[i+8>>2]=o,kr(0,e,637534208,r,n,i),Sr(a)},getTargetThreadForEventCallback:function(e){switch(e){case 1:return 0;case 2:return ge.currentProxiedOperationCallerThread;default:return e}},getNodeNameForTarget:function(e){return e?e==window?"#window":e==screen?"#screen":e&&e.nodeName?e.nodeName:"":""},fullscreenEnabled:function(){return document.fullscreenEnabled||document.webkitFullscreenEnabled}};function Ie(e,r,t,n){var o,a,i=Dr(),s=Ar(12),u=0;r&&(a=j(o=r)+1,r=cr(a),z(o,r,a),u=r),x[s>>2]=u,x[s+4>>2]=t,x[s+8>>2]=n,kr(0,e,657457152,0,u,s),Sr(i)}var Be=[0,"undefined"!=typeof document?document:0,"undefined"!=typeof window?window:0];function ze(e){var r;return e=2<(r=e)?I(r):r,Be[e]||("undefined"!=typeof document?document.querySelector(e):void 0)}function je(e){return ze(e)}function He(e,r,t){var n=je(e);if(!n)return-4;if(n.canvasSharedPtr&&(x[n.canvasSharedPtr>>2]=r,x[n.canvasSharedPtr+4>>2]=t),!n.offscreenCanvas&&n.controlTransferredOffscreen){if(n.canvasSharedPtr){var o=x[n.canvasSharedPtr+8>>2];return a=r,i=t,Ie(o,e=(e=e)?I(e):"",a,i),1}return-4}var a,i,a=!1;return(n=n.offscreenCanvas?n.offscreenCanvas:n).GLctxObject&&n.GLctxObject.GLctx&&(a=0===(i=n.GLctxObject.GLctx.getParameter(2978))[0]&&0===i[1]&&i[2]===n.width&&i[3]===n.height),n.width=r,n.height=t,a&&n.GLctxObject.GLctx.viewport(0,0,r,t),0}function We(e,r,t){return f?Re(9,1,e,r,t):He(e,r,t)}var Ue={counter:1,buffers:[],programs:[],framebuffers:[],renderbuffers:[],textures:[],uniforms:[],shaders:[],vaos:[],contexts:{},offscreenCanvases:{},timerQueriesEXT:[],programInfos:{},stringCache:{},unpackAlignment:4,recordError:function(e){Ue.lastError||(Ue.lastError=e)},getNewId:function(e){for(var r=Ue.counter++,t=e.length;t<r;t++)e[t]=null;return r},getSource:function(e,r,t,n){for(var o="",a=0;a<r;++a){var i=n?x[n+4*a>>2]:-1;o+=I(x[t+4*a>>2],i<0?void 0:i)}return o},createContext:function(e,r){e=e.getContext("webgl",r);return e?Ue.registerContext(e,r):0},registerContext:function(e,r){var t=cr(8);x[t+4>>2]=dr();var n={handle:t,attributes:r,version:r.majorVersion,GLctx:e};return e.canvas&&(e.canvas.GLctxObject=n),Ue.contexts[t]=n,void 0!==r.enableExtensionsByDefault&&!r.enableExtensionsByDefault||Ue.initExtensions(n),t},makeContextCurrent:function(e){return Ue.currentContext=Ue.contexts[e],h.ctx=nr=Ue.currentContext&&Ue.currentContext.GLctx,!(e&&!nr)},getContext:function(e){return Ue.contexts[e]},deleteContext:function(e){Ue.currentContext===Ue.contexts[e]&&(Ue.currentContext=null),"object"==typeof Ce&&Ce.removeAllHandlersOnTarget(Ue.contexts[e].GLctx.canvas),Ue.contexts[e]&&Ue.contexts[e].GLctx.canvas&&(Ue.contexts[e].GLctx.canvas.GLctxObject=void 0),lr(Ue.contexts[e].handle),Ue.contexts[e]=null},initExtensions:function(e){var r,a,t,n;(e=e||Ue.currentContext).initExtensionsDone||(e.initExtensionsDone=!0,r=e.GLctx,(a=(e=r).getExtension("ANGLE_instanced_arrays"))&&(e.vertexAttribDivisor=function(e,r){a.vertexAttribDivisorANGLE(e,r)},e.drawArraysInstanced=function(e,r,t,n){a.drawArraysInstancedANGLE(e,r,t,n)},e.drawElementsInstanced=function(e,r,t,n,o){a.drawElementsInstancedANGLE(e,r,t,n,o)}),(t=(e=r).getExtension("OES_vertex_array_object"))&&(e.createVertexArray=function(){return t.createVertexArrayOES()},e.deleteVertexArray=function(e){t.deleteVertexArrayOES(e)},e.bindVertexArray=function(e){t.bindVertexArrayOES(e)},e.isVertexArray=function(e){return t.isVertexArrayOES(e)}),(n=(e=r).getExtension("WEBGL_draw_buffers"))&&(e.drawBuffers=function(e,r){n.drawBuffersWEBGL(e,r)}),r.disjointTimerQueryExt=r.getExtension("EXT_disjoint_timer_query"),(e=r).multiDrawWebgl=e.getExtension("WEBGL_multi_draw"),(r.getSupportedExtensions()||[]).forEach(function(e){e.indexOf("lose_context")<0&&e.indexOf("debug")<0&&r.getExtension(e)}))},populateUniformTable:function(e){for(var r=Ue.programs[e],t=Ue.programInfos[e]={uniforms:{},maxUniformLength:0,maxAttributeLength:-1,maxUniformBlockNameLength:-1},n=t.uniforms,o=nr.getProgramParameter(r,35718),a=0;a<o;++a){var i=nr.getActiveUniform(r,a),s=i.name;if(t.maxUniformLength=Math.max(t.maxUniformLength,s.length+1),"]"==s.slice(-1)&&(s=s.slice(0,s.lastIndexOf("["))),f=nr.getUniformLocation(r,s)){var u=Ue.getNewId(Ue.uniforms);n[s]=[i.size,u],Ue.uniforms[u]=f;for(var c=1;c<i.size;++c){var l=s+"["+c+"]",f=nr.getUniformLocation(r,l),u=Ue.getNewId(Ue.uniforms);Ue.uniforms[u]=f}}}}},Ge=["default","low-power","high-performance"];var qe={};function Ve(){if(!Ve.strings){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:i||"./this.program"};for(r in qe)e[r]=qe[r];var r,t=[];for(r in e)t.push(r+"="+e[r]);Ve.strings=t}return Ve.strings}function Xe(n,o){if(f)return Re(10,1,n,o);try{var a=0;return Ve().forEach(function(e,r){var t=o+a;(function(e,r,t){for(var n=0;n<e.length;++n)A[r++>>0]=e.charCodeAt(n);t||(A[r>>0]=0)})(e,x[n+4*r>>2]=t),a+=e.length+1}),0}catch(e){return void 0!==De&&e instanceof De.ErrnoError||oe(e),e.errno}}function Ke(e,r){if(f)return Re(11,1,e,r);try{var t=Ve();x[e>>2]=t.length;var n=0;return t.forEach(function(e){n+=e.length+1}),x[r>>2]=n,0}catch(e){return void 0!==De&&e instanceof De.ErrnoError||oe(e),e.errno}}function Qe(e){if(f)return Re(12,1,e);try{var r=Se.getStreamFromFD(e);return De.close(r),0}catch(e){return void 0!==De&&e instanceof De.ErrnoError||oe(e),e.errno}}function Ye(e,r){if(f)return Re(13,1,e,r);try{var t=Se.getStreamFromFD(e),t=t.tty?2:De.isDir(t.mode)?3:De.isLink(t.mode)?7:4;return A[r>>0]=t,0}catch(e){return void 0!==De&&e instanceof De.ErrnoError||oe(e),e.errno}}function $e(e,r,t,n){if(f)return Re(14,1,e,r,t,n);try{var o=Se.getStreamFromFD(e),o=Se.doReadv(o,r,t);return x[n>>2]=o,0}catch(e){return void 0!==De&&e instanceof De.ErrnoError||oe(e),e.errno}}function Je(e,r,t,n,o){if(f)return Re(15,1,e,r,t,n,o);try{var a=Se.getStreamFromFD(e),i=4294967296*t+(r>>>0),s=9007199254740992;return i<=-s||s<=i?-61:(De.llseek(a,i,n),ue=[a.position>>>0,(se=a.position,1<=+Math.abs(se)?0<se?(0|Math.min(+Math.floor(se/4294967296),4294967295))>>>0:~~+Math.ceil((se-(~~se>>>0))/4294967296)>>>0:0)],x[o>>2]=ue[0],x[o+4>>2]=ue[1],a.getdents&&0==i&&0===n&&(a.getdents=null),0)}catch(e){return void 0!==De&&e instanceof De.ErrnoError||oe(e),e.errno}}function Ze(e,r,t,n){if(f)return Re(16,1,e,r,t,n);try{var o=Se.getStreamFromFD(e),o=Se.doWritev(o,r,t);return x[n>>2]=o,0}catch(e){return void 0!==De&&e instanceof De.ErrnoError||oe(e),e.errno}}function er(e){if(f)throw"Internal Error! spawnThread() can only ever be called from main application thread!";var r=ge.getNewWorker();if(void 0!==r.pthread)throw"Internal error!";if(!e.pthread_ptr)throw"Internal error, no pthread ptr!";ge.runningWorkers.push(r);for(var t=cr(512),n=0;n<128;++n)x[t+4*n>>2]=0;var o=e.stackBase+e.stackSize,a=ge.pthreads[e.pthread_ptr]={worker:r,stackBase:e.stackBase,stackSize:e.stackSize,allocatedOwnStack:e.allocatedOwnStack,threadInfoStruct:e.pthread_ptr},i=a.threadInfoStruct>>2;Atomics.store(T,16+i,e.detached),Atomics.store(T,25+i,t),Atomics.store(T,10+i,a.threadInfoStruct),Atomics.store(T,20+i,e.stackSize),Atomics.store(T,19+i,o),Atomics.store(T,26+i,e.stackSize),Atomics.store(T,28+i,o),Atomics.store(T,29+i,e.detached);o=hr()+40;Atomics.store(T,43+i,o),r.pthread=a;var s={cmd:"run",start_routine:e.startRoutine,arg:e.arg,threadInfoStruct:e.pthread_ptr,stackBase:e.stackBase,stackSize:e.stackSize};r.runPthread=function(){s.time=performance.now(),r.postMessage(s,e.transferList)},r.loaded&&(r.runPthread(),delete r.runPthread)}function rr(e,r,t){if(!e)return E("pthread_join attempted on a null thread pointer!"),me.ESRCH;if(f&&dr()==e)return E("PThread "+e+" is attempting to join to itself!"),me.EDEADLK;if(!f&&pr()==e)return E("Main thread "+e+" is attempting to join to itself!"),me.EDEADLK;if(x[e+12>>2]!==e)return E("pthread_join attempted on thread "+e+", which does not point to a valid thread, or does not exist anymore!"),me.ESRCH;if(Atomics.load(T,e+64>>2))return E("Attempted to join thread "+e+", which was already detached!"),me.EINVAL;for(t&&Me();;){var n=Atomics.load(T,e+0>>2);if(1==n){var o=Atomics.load(T,e+4>>2);return r&&(x[r>>2]=o),Atomics.store(T,e+64>>2,1),f?postMessage({cmd:"cleanupThread",thread:e}):pe(e),0}if(!t)return me.EBUSY;!function(){if(f){var e=dr();if(e){var r=Atomics.load(T,e+56>>2);if(!r)if(2==Atomics.load(T,e+0>>2))throw"Canceled!"}}}(),f||gr(),Oe(e+0,n,f?100:1)}}function tr(e){if(f)return Re(17,1,e);switch(e){case 30:return 16384;case 85:return P.length/16384;case 132:case 133:case 12:case 137:case 138:case 15:case 235:case 16:case 17:case 18:case 19:case 20:case 149:case 13:case 10:case 236:case 153:case 9:case 21:case 22:case 159:case 154:case 14:case 77:case 78:case 139:case 82:case 68:case 67:case 164:case 11:case 29:case 47:case 48:case 95:case 52:case 51:case 46:return 200809;case 27:case 246:case 127:case 128:case 23:case 24:case 160:case 161:case 181:case 182:case 242:case 183:case 184:case 243:case 244:case 245:case 165:case 178:case 179:case 49:case 50:case 168:case 169:case 175:case 170:case 171:case 172:case 97:case 76:case 32:case 173:case 35:case 80:case 81:case 79:return-1;case 176:case 177:case 7:case 155:case 8:case 157:case 125:case 126:case 92:case 93:case 129:case 130:case 131:case 94:case 91:return 1;case 74:case 60:case 69:case 70:case 4:return 1024;case 31:case 42:case 72:return 32;case 87:case 26:case 33:return 2147483647;case 34:case 1:return 47839;case 38:case 36:return 99;case 43:case 37:return 2048;case 0:return 2097152;case 3:return 65536;case 28:return 32768;case 44:return 32767;case 75:return 16384;case 39:return 1e3;case 89:return 700;case 71:return 256;case 40:return 255;case 2:return 100;case 180:return 64;case 25:return 20;case 5:return 16;case 6:return 6;case 73:return 4;case 84:return"object"==typeof navigator&&navigator.hardwareConcurrency||1}return Ee(28),-1}f||ge.initMainThreadBlock();var nr,G=function(e,r,t,n){e=e||this,this.parent=e,this.mount=e.mount,this.mounted=null,this.id=De.nextInode++,this.name=r,this.mode=t,this.node_ops={},this.stream_ops={},this.rdev=n};Object.defineProperties(G.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(e){e?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(e){e?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return De.isDir(this.mode)}},isDevice:{get:function(){return De.isChrdev(this.mode)}}}),De.FSNode=G,De.staticInit(),h.FS_createPath=De.createPath,h.FS_createDataFile=De.createDataFile,h.FS_createPreloadedFile=De.createPreloadedFile,h.FS_createLazyFile=De.createLazyFile,h.FS_createDevice=De.createDevice,h.FS_unlink=De.unlink;var or=[null,function(e,r){if(f)return Re(1,1,e,r)},function(e,r,t){if(f)return Re(2,1,e,r,t);Se.varargs=t;try{var n=Se.getStreamFromFD(e);switch(r){case 0:return(o=Se.get())<0?-28:De.open(n.path,n.flags,0,o).fd;case 1:case 2:return 0;case 3:return n.flags;case 4:var o=Se.get();return n.flags|=o,0;case 12:o=Se.get();return F[o+0>>1]=2,0;case 13:case 14:return 0;case 16:case 8:return-28;case 9:return Ee(28),-1;default:return-28}}catch(e){return void 0!==De&&e instanceof De.ErrnoError||oe(e),-e.errno}},Ae,function(e,r,t){if(f)return Re(4,1,e,r,t);Se.varargs=t;try{var n=Se.getStreamFromFD(e);switch(r){case 21509:case 21505:return n.tty?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return n.tty?0:-59;case 21519:if(!n.tty)return-59;var o=Se.get();return x[o>>2]=0;case 21520:return n.tty?-28:-59;case 21531:o=Se.get();return De.ioctl(n,r,o);case 21523:case 21524:return n.tty?0:-59;default:oe("bad ioctl syscall "+r)}}catch(e){return void 0!==De&&e instanceof De.ErrnoError||oe(e),-e.errno}},Pe,Fe,xe,Te,We,Xe,Ke,Qe,Ye,$e,Je,Ze,tr];function ar(e,r,t){t=0<t?t:j(e)+1,t=new Array(t),e=B(e,t,0,t.length);return r&&(t.length=e),t}var ir,sr={f:function(e,r,t,n){oe("Assertion failed: "+I(e)+", at: "+[r?I(r):"unknown filename",t,n?I(n):"unknown function"])},K:Ae,I:Pe,H:Fe,M:xe,J:Te,B:function(e,r){if(e==r)postMessage({cmd:"processQueuedMainThreadWork"});else if(f)postMessage({targetThread:e,cmd:"processThreadQueue"});else{e=ge.pthreads[e],e=e&&e.worker;if(!e)return;e.postMessage({cmd:"processThreadQueue"})}return 1},b:function(){oe()},x:function(e,r){var t;if(0===e)t=Date.now();else{if(1!==e&&4!==e)return Ee(28),-1;t=we()}return x[r>>2]=t/1e3|0,x[r+4>>2]=t%1e3*1e3*1e3|0,0},r:function(e,r){oe("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},m:function(e,r){oe("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},o:function(e,r,t){return t=function(e,r){Le.length=0,r>>=2;for(;t=P[e++];){var t=t<105;t&&1&r&&r++,Le.push(t?M[r++>>1]:x[r]),++r}return Le}(r,t),fe[e].apply(null,t)},D:Me,i:function(e,r){},d:Oe,c:he,g:we,v:function(e,r,t){P.copyWithin(e,r,r+t)},s:function(){return navigator.hardwareConcurrency},y:function(e,r,t){Ne.length=r;for(var n=t>>3,o=0;o<r;o++)Ne[o]=M[n+o];return(e<0?fe[-e-1]:or[e]).apply(null,Ne)},w:function(e){oe("OOM")},z:function(e,r,t){return(je(e)?He:We)(e,r,t)},n:function(e){},A:function(e,r){return t=e,e=x[6+(r=(e=r)>>2)],r={alpha:!!x[r],depth:!!x[1+r],stencil:!!x[2+r],antialias:!!x[3+r],premultipliedAlpha:!!x[4+r],preserveDrawingBuffer:!!x[5+r],powerPreference:Ge[e],failIfMajorPerformanceCaveat:!!x[7+r],majorVersion:x[8+r],minorVersion:x[9+r],enableExtensionsByDefault:x[10+r],explicitSwapControl:x[11+r],proxyContextToMainThread:x[12+r],renderViaOffscreenBackBuffer:x[13+r]},!(t=je(t))||r.explicitSwapControl?0:Ue.createContext(t,r);var t},F:Xe,G:Ke,l:function(e){Rr(e)},q:Qe,E:Ye,L:$e,t:Je,k:Ze,u:function(){ge.initRuntime()},a:k||h.wasmMemory,C:function(e){var r=ge.threadExitHandlers.pop();e&&r()},p:function(e,r){ge.threadExitHandlers.push(function(){U.get(e)(r)})},h:function(e,r,t,n){if("undefined"==typeof SharedArrayBuffer)return E("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;if(!e)return E("pthread_create called with a null thread pointer!"),28;var o=[];if(f&&0===o.length)return yr(687865856,e,r,t,n);var a=0,i=0,s=0;r&&-1!=r?(a=x[r>>2],a+=81920,i=x[r+8>>2],s=0!==x[r+12>>2]):a=2097152,(r=0==i)?i=Fr(16,a):R(0<(i-=a));for(var u=cr(228),c=0;c<57;++c)T[(u>>2)+c]=0;return x[e>>2]=u,e=(x[u+12>>2]=u)+152,x[e>>2]=e,n={stackBase:i,stackSize:a,allocatedOwnStack:r,detached:s,startRoutine:t,pthread_ptr:u,arg:n,transferList:o},f?(n.cmd="spawnThread",postMessage(n,o)):er(n),0},j:function(e,r){return rr(e,r,!0)},e:tr},ur=(function(){var r={a:sr};function t(e,r){e=e.exports;h.asm=e,U=h.asm.R,b=r,f||ne()}function n(e){t(e.instance,e.module)}function o(e){return(_||!u&&!c||"function"!=typeof fetch?Promise.resolve().then(function(){return le(ce)}):fetch(ce,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+ce+"'";return e.arrayBuffer()}).catch(function(){return le(ce)})).then(function(e){return WebAssembly.instantiate(e,r)}).then(e,function(e){E("failed to asynchronously prepare wasm: "+e),oe(e)})}if(f||te(),h.instantiateWasm)try{return h.instantiateWasm(r,t)}catch(e){return E("Module.instantiateWasm callback failed with error: "+e)}(_||"function"!=typeof WebAssembly.instantiateStreaming||ie(ce)||"function"!=typeof fetch?o(n):fetch(ce,{credentials:"same-origin"}).then(function(e){return WebAssembly.instantiateStreaming(e,r).then(n,function(e){return E("wasm streaming compile failed: "+e),E("falling back to ArrayBuffer instantiation"),o(n)})})).catch(a)}(),h.___wasm_call_ctors=function(){return(ur=h.___wasm_call_ctors=h.asm.N).apply(null,arguments)}),cr=(h._run_inference=function(){return(h._run_inference=h.asm.O).apply(null,arguments)},h._load_model=function(){return(h._load_model=h.asm.P).apply(null,arguments)},h._main=function(){return(h._main=h.asm.Q).apply(null,arguments)},h._malloc=function(){return(cr=h._malloc=h.asm.S).apply(null,arguments)}),lr=h._free=function(){return(lr=h._free=h.asm.T).apply(null,arguments)},fr=h.___errno_location=function(){return(fr=h.___errno_location=h.asm.U).apply(null,arguments)},dr=h._pthread_self=function(){return(dr=h._pthread_self=h.asm.V).apply(null,arguments)},mr=h._memset=function(){return(mr=h._memset=h.asm.W).apply(null,arguments)},hr=h._emscripten_get_global_libc=function(){return(hr=h._emscripten_get_global_libc=h.asm.X).apply(null,arguments)},pr=h._emscripten_main_browser_thread_id=function(){return(pr=h._emscripten_main_browser_thread_id=h.asm.Y).apply(null,arguments)},wr=h.___pthread_tsd_run_dtors=function(){return(wr=h.___pthread_tsd_run_dtors=h.asm.Z).apply(null,arguments)},gr=h._emscripten_main_thread_process_queued_calls=function(){return(gr=h._emscripten_main_thread_process_queued_calls=h.asm._).apply(null,arguments)},Er=(h._emscripten_current_thread_process_queued_calls=function(){return(h._emscripten_current_thread_process_queued_calls=h.asm.$).apply(null,arguments)},h._emscripten_register_main_browser_thread_id=function(){return(Er=h._emscripten_register_main_browser_thread_id=h.asm.aa).apply(null,arguments)}),vr=h.__emscripten_do_dispatch_to_thread=function(){return(vr=h.__emscripten_do_dispatch_to_thread=h.asm.ba).apply(null,arguments)},yr=h._emscripten_sync_run_in_main_thread_4=function(){return(yr=h._emscripten_sync_run_in_main_thread_4=h.asm.ca).apply(null,arguments)},_r=h._emscripten_run_in_main_runtime_thread_js=function(){return(_r=h._emscripten_run_in_main_runtime_thread_js=h.asm.da).apply(null,arguments)},kr=h.__emscripten_call_on_thread=function(){return(kr=h.__emscripten_call_on_thread=h.asm.ea).apply(null,arguments)},br=(h._emscripten_tls_init=function(){return(h._emscripten_tls_init=h.asm.fa).apply(null,arguments)},h.__emscripten_thread_init=function(){return(br=h.__emscripten_thread_init=h.asm.ga).apply(null,arguments)}),Dr=h.stackSave=function(){return(Dr=h.stackSave=h.asm.ha).apply(null,arguments)},Sr=h.stackRestore=function(){return(Sr=h.stackRestore=h.asm.ia).apply(null,arguments)},Ar=h.stackAlloc=function(){return(Ar=h.stackAlloc=h.asm.ja).apply(null,arguments)},Pr=h._emscripten_stack_set_limits=function(){return(Pr=h._emscripten_stack_set_limits=h.asm.ka).apply(null,arguments)},Fr=h._memalign=function(){return(Fr=h._memalign=h.asm.la).apply(null,arguments)},xr=h.__emscripten_allow_main_runtime_queued_calls=116792,Tr=h.__emscripten_main_thread_futex=118944;function Mr(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}h.cwrap=function(e,r,t,n){var o=(t=t||[]).every(function(e){return"number"===e});return"string"!==r&&o&&!n?N(e):function(){return L(e,r,t,arguments)}},h.addRunDependency=te,h.removeRunDependency=ne,h.FS_createPath=De.createPath,h.FS_createDataFile=De.createDataFile,h.FS_createPreloadedFile=De.createPreloadedFile,h.FS_createLazyFile=De.createLazyFile,h.FS_createDevice=De.createDevice,h.FS_unlink=De.unlink,h.PThread=ge,h.PThread=ge,h.wasmMemory=k,h.ExitStatus=Mr;function Or(e){if(e=e||o,!(0<Z)){if(f)return t(h),$(),void postMessage({cmd:"loaded"});Y(),0<Z||(h.setStatus?(h.setStatus("Running..."),setTimeout(function(){setTimeout(function(){h.setStatus("")},1),r()},1)):r())}function r(){ir||(ir=!0,h.calledRun=!0,O||($(),f||(De.ignorePermissions=!1,de(X)),t(h),h.onRuntimeInitialized&&h.onRuntimeInitialized(),Nr&&function(e){var r=h._main,t=(e=e||[]).length+1,n=Ar(4*(t+1));x[n>>2]=H(i);for(var o=1;o<t;o++)x[(n>>2)+o]=H(e[o-1]);x[(n>>2)+t]=0;try{Rr(r(t,n),!0)}catch(e){if(e instanceof Mr)return;if("unwind"==e)return D=!0;var a=e;e&&"object"==typeof e&&e.stack&&(a=[e,e.stack]),E("exception thrown: "+a),s(1,e)}finally{0}}(e),J()))}}function Rr(e,r){if(!r||!D||0!==e){if(!r&&f)throw postMessage({cmd:"exitProcess",returnCode:e}),new Mr(e);D||(ge.terminateAllThreads(),f||0,h.onExit&&h.onExit(e),O=!0),s(e,new Mr(e))}}if(re=function e(){ir||Or(),ir||(re=e)},h.run=Or,h.preInit)for("function"==typeof h.preInit&&(h.preInit=[h.preInit]);0<h.preInit.length;)h.preInit.pop()();var Nr=!0;return h.noInitialRun&&(Nr=!1),f&&(D=!1,ge.initWorker()),Or(),e.ready});e.exports=r},349:e=>{var xe,r=(xe="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,function(e){var t,a,h=void 0!==(e=e||{})?e:{};h.ready=new Promise(function(e,r){t=e,a=r});var r,n={};for(r in h)h.hasOwnProperty(r)&&(n[r]=h[r]);var o,i,s=[],u="./this.program",c=function(e,r){throw r},l=!0,f=!1,d="";(l||f)&&(f?d=self.location.href:"undefined"!=typeof document&&document.currentScript&&(d=document.currentScript.src),d=0!==(d=xe?xe:d).indexOf("blob:")?d.substr(0,d.lastIndexOf("/")+1):"",o=function(e){var r=new XMLHttpRequest;return r.open("GET",e,!1),r.send(null),r.responseText},f&&(i=function(e){var r=new XMLHttpRequest;return r.open("GET",e,!1),r.responseType="arraybuffer",r.send(null),new Uint8Array(r.response)}));var m=h.print||console.log.bind(console),p=h.printErr||console.warn.bind(console);for(r in n)n.hasOwnProperty(r)&&(h[r]=n[r]);n=null,h.arguments&&(s=h.arguments),h.thisProgram&&(u=h.thisProgram),h.quit&&(c=h.quit);var w,g=16;h.wasmBinary&&(w=h.wasmBinary);var E,v=h.noExitRuntime||!0;"object"!=typeof WebAssembly&&V("no native wasm support detected");var y=!1;function _(e){var r=h["_"+e];return e="Cannot call unknown function "+e+", make sure it is exported",r||V("Assertion failed: "+e),r}function k(e,r,t,n){var o={string:function(e){var r,t=0;return null!=e&&0!==e&&(r=1+(e.length<<2),M(e,t=be(r),r)),t},array:function(e){var r,t=be(e.length);return r=e,e=t,D.set(r,e),t}};var e=_(e),a=[],i=0;if(n)for(var s=0;s<n.length;s++){var u=o[t[s]];u?(0===i&&(i=_e()),a[s]=u(n[s])):a[s]=n[s]}var c,e=e.apply(null,a);return c=e,e="string"===r?x(c):"boolean"===r?Boolean(c):c,0!==i&&ke(i),e}var b,D,S,A,P="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function F(e,r,t){for(var n=r+t,o=r;e[o]&&!(n<=o);)++o;if(16<o-r&&e.subarray&&P)return P.decode(e.subarray(r,o));for(var a="";r<o;){var i,s,u=e[r++];128&u?(i=63&e[r++],192!=(224&u)?(s=63&e[r++],(u=224==(240&u)?(15&u)<<12|i<<6|s:(7&u)<<18|i<<12|s<<6|63&e[r++])<65536?a+=String.fromCharCode(u):(s=u-65536,a+=String.fromCharCode(55296|s>>10,56320|1023&s))):a+=String.fromCharCode((31&u)<<6|i)):a+=String.fromCharCode(u)}return a}function x(e,r){return e?F(S,e,r):""}function T(e,r,t,n){if(!(0<n))return 0;for(var o=t,a=t+n-1,i=0;i<e.length;++i){var s=e.charCodeAt(i);if((s=55296<=s&&s<=57343?65536+((1023&s)<<10)|1023&e.charCodeAt(++i):s)<=127){if(a<=t)break;r[t++]=s}else if(s<=2047){if(a<=t+1)break;r[t++]=192|s>>6,r[t++]=128|63&s}else if(s<=65535){if(a<=t+2)break;r[t++]=224|s>>12,r[t++]=128|s>>6&63,r[t++]=128|63&s}else{if(a<=t+3)break;r[t++]=240|s>>18,r[t++]=128|s>>12&63,r[t++]=128|s>>6&63,r[t++]=128|63&s}}return r[t]=0,t-o}function M(e,r,t){return T(e,S,r,t)}function O(e){for(var r=0,t=0;t<e.length;++t){var n=e.charCodeAt(t);(n=55296<=n&&n<=57343?65536+((1023&n)<<10)|1023&e.charCodeAt(++t):n)<=127?++r:r+=n<=2047?2:n<=65535?3:4}return r}function R(e){var r=O(e)+1,t=be(r);return T(e,D,t,r),t}h.INITIAL_MEMORY;var N,L=[],C=[],I=[],B=[];function z(){if(h.preRun)for("function"==typeof h.preRun&&(h.preRun=[h.preRun]);h.preRun.length;)e=h.preRun.shift(),L.unshift(e);var e;ee(L)}function j(){if(h.postRun)for("function"==typeof h.postRun&&(h.postRun=[h.postRun]);h.postRun.length;)e=h.postRun.shift(),B.unshift(e);var e;ee(B)}C.push({func:function(){we()}});var H=0,W=null,U=null;function G(e){H++,h.monitorRunDependencies&&h.monitorRunDependencies(H)}function q(e){var r;H--,h.monitorRunDependencies&&h.monitorRunDependencies(H),0==H&&(null!==W&&(clearInterval(W),W=null),U&&(r=U,U=null,r()))}function V(e){h.onAbort&&h.onAbort(e),p(e+=""),y=!0,e="abort("+e+"). Build with -s ASSERTIONS=1 for more info.";e=new WebAssembly.RuntimeError(e);throw a(e),e}h.preloadedImages={},h.preloadedAudios={};var X="data:application/octet-stream;base64,";function K(e){return r=e,e=X,String.prototype.startsWith?r.startsWith(e):0===r.indexOf(e);var r}var Q,Y,$,J="tflite-wasm.wasm";function Z(e){try{if(e==J&&w)return new Uint8Array(w);if(i)return i(e);throw"both async and sync fetching of the wasm failed"}catch(e){V(e)}}function ee(e){for(;0<e.length;){var r,t=e.shift();"function"!=typeof t?"number"==typeof(r=t.func)?void 0===t.arg?N.get(r)():N.get(r)(t.arg):r(void 0===t.arg?null:t.arg):t(h)}}function re(e){return A[ye()>>2]=e}K(J)||(Q=J,J=h.locateFile?h.locateFile(Q,d):d+Q);var te={splitPath:function(e){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1)},normalizeArray:function(e,r){for(var t=0,n=e.length-1;0<=n;n--){var o=e[n];"."===o?e.splice(n,1):".."===o?(e.splice(n,1),t++):t&&(e.splice(n,1),t--)}if(r)for(;t;t--)e.unshift("..");return e},normalize:function(e){var r="/"===e.charAt(0),t="/"===e.substr(-1);return(e=!(e=te.normalizeArray(e.split("/").filter(function(e){return!!e}),!r).join("/"))&&!r?".":e)&&t&&(e+="/"),(r?"/":"")+e},dirname:function(e){var r=te.splitPath(e),e=r[0],r=r[1];return e||r?e+(r=r&&r.substr(0,r.length-1)):"."},basename:function(e){if("/"===e)return"/";var r=(e=(e=te.normalize(e)).replace(/\/$/,"")).lastIndexOf("/");return-1===r?e:e.substr(r+1)},extname:function(e){return te.splitPath(e)[3]},join:function(){var e=Array.prototype.slice.call(arguments,0);return te.normalize(e.join("/"))},join2:function(e,r){return te.normalize(e+"/"+r)}};var ne={resolve:function(){for(var e="",r=!1,t=arguments.length-1;-1<=t&&!r;t--){var n=0<=t?arguments[t]:ue.cwd();if("string"!=typeof n)throw new TypeError("Arguments to path.resolve must be strings");if(!n)return"";e=n+"/"+e,r="/"===n.charAt(0)}return(r?"/":"")+(e=te.normalizeArray(e.split("/").filter(function(e){return!!e}),!r).join("/"))||"."},relative:function(e,r){function t(e){for(var r=0;r<e.length&&""===e[r];r++);for(var t=e.length-1;0<=t&&""===e[t];t--);return t<r?[]:e.slice(r,t-r+1)}e=ne.resolve(e).substr(1),r=ne.resolve(r).substr(1);for(var n=t(e.split("/")),o=t(r.split("/")),a=Math.min(n.length,o.length),i=a,s=0;s<a;s++)if(n[s]!==o[s]){i=s;break}for(var u=[],s=i;s<n.length;s++)u.push("..");return(u=u.concat(o.slice(i))).join("/")}},oe={ttys:[],init:function(){},shutdown:function(){},register:function(e,r){oe.ttys[e]={input:[],output:[],ops:r},ue.registerDevice(e,oe.stream_ops)},stream_ops:{open:function(e){var r=oe.ttys[e.node.rdev];if(!r)throw new ue.ErrnoError(43);e.tty=r,e.seekable=!1},close:function(e){e.tty.ops.flush(e.tty)},flush:function(e){e.tty.ops.flush(e.tty)},read:function(e,r,t,n,o){if(!e.tty||!e.tty.ops.get_char)throw new ue.ErrnoError(60);for(var a,i=0,s=0;s<n;s++){try{a=e.tty.ops.get_char(e.tty)}catch(e){throw new ue.ErrnoError(29)}if(void 0===a&&0===i)throw new ue.ErrnoError(6);if(null==a)break;i++,r[t+s]=a}return i&&(e.node.timestamp=Date.now()),i},write:function(e,r,t,n,o){if(!e.tty||!e.tty.ops.put_char)throw new ue.ErrnoError(60);try{for(var a=0;a<n;a++)e.tty.ops.put_char(e.tty,r[t+a])}catch(e){throw new ue.ErrnoError(29)}return n&&(e.node.timestamp=Date.now()),a}},default_tty_ops:{get_char:function(e){if(!e.input.length){var r=null;if("undefined"!=typeof window&&"function"==typeof window.prompt?null!==(r=window.prompt("Input: "))&&(r+="\n"):"function"==typeof readline&&null!==(r=readline())&&(r+="\n"),!r)return null;e.input=me(r,!0)}return e.input.shift()},put_char:function(e,r){null===r||10===r?(m(F(e.output,0)),e.output=[]):0!=r&&e.output.push(r)},flush:function(e){e.output&&0<e.output.length&&(m(F(e.output,0)),e.output=[])}},default_tty1_ops:{put_char:function(e,r){null===r||10===r?(p(F(e.output,0)),e.output=[]):0!=r&&e.output.push(r)},flush:function(e){e.output&&0<e.output.length&&(p(F(e.output,0)),e.output=[])}}};function ae(e){for(var r,t,n=(r=e,t=(t=16384)||g,Math.ceil(r/t)*t),o=Ee(n);e<n;)D[o+e++]=0;return o}var ie,se={ops_table:null,mount:function(e){return se.createNode(null,"/",16895,0)},createNode:function(e,r,t,n){if(ue.isBlkdev(t)||ue.isFIFO(t))throw new ue.ErrnoError(63);se.ops_table||(se.ops_table={dir:{node:{getattr:se.node_ops.getattr,setattr:se.node_ops.setattr,lookup:se.node_ops.lookup,mknod:se.node_ops.mknod,rename:se.node_ops.rename,unlink:se.node_ops.unlink,rmdir:se.node_ops.rmdir,readdir:se.node_ops.readdir,symlink:se.node_ops.symlink},stream:{llseek:se.stream_ops.llseek}},file:{node:{getattr:se.node_ops.getattr,setattr:se.node_ops.setattr},stream:{llseek:se.stream_ops.llseek,read:se.stream_ops.read,write:se.stream_ops.write,allocate:se.stream_ops.allocate,mmap:se.stream_ops.mmap,msync:se.stream_ops.msync}},link:{node:{getattr:se.node_ops.getattr,setattr:se.node_ops.setattr,readlink:se.node_ops.readlink},stream:{}},chrdev:{node:{getattr:se.node_ops.getattr,setattr:se.node_ops.setattr},stream:ue.chrdev_stream_ops}});n=ue.createNode(e,r,t,n);return ue.isDir(n.mode)?(n.node_ops=se.ops_table.dir.node,n.stream_ops=se.ops_table.dir.stream,n.contents={}):ue.isFile(n.mode)?(n.node_ops=se.ops_table.file.node,n.stream_ops=se.ops_table.file.stream,n.usedBytes=0,n.contents=null):ue.isLink(n.mode)?(n.node_ops=se.ops_table.link.node,n.stream_ops=se.ops_table.link.stream):ue.isChrdev(n.mode)&&(n.node_ops=se.ops_table.chrdev.node,n.stream_ops=se.ops_table.chrdev.stream),n.timestamp=Date.now(),e&&(e.contents[r]=n,e.timestamp=n.timestamp),n},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array(0)},expandFileStorage:function(e,r){var t=e.contents?e.contents.length:0;r<=t||(r=Math.max(r,t*(t<1048576?2:1.125)>>>0),0!=t&&(r=Math.max(r,256)),t=e.contents,e.contents=new Uint8Array(r),0<e.usedBytes&&e.contents.set(t.subarray(0,e.usedBytes),0))},resizeFileStorage:function(e,r){var t;e.usedBytes!=r&&(0==r?(e.contents=null,e.usedBytes=0):(t=e.contents,e.contents=new Uint8Array(r),t&&e.contents.set(t.subarray(0,Math.min(r,e.usedBytes))),e.usedBytes=r))},node_ops:{getattr:function(e){var r={};return r.dev=ue.isChrdev(e.mode)?e.id:1,r.ino=e.id,r.mode=e.mode,r.nlink=1,r.uid=0,r.gid=0,r.rdev=e.rdev,ue.isDir(e.mode)?r.size=4096:ue.isFile(e.mode)?r.size=e.usedBytes:ue.isLink(e.mode)?r.size=e.link.length:r.size=0,r.atime=new Date(e.timestamp),r.mtime=new Date(e.timestamp),r.ctime=new Date(e.timestamp),r.blksize=4096,r.blocks=Math.ceil(r.size/r.blksize),r},setattr:function(e,r){void 0!==r.mode&&(e.mode=r.mode),void 0!==r.timestamp&&(e.timestamp=r.timestamp),void 0!==r.size&&se.resizeFileStorage(e,r.size)},lookup:function(e,r){throw ue.genericErrors[44]},mknod:function(e,r,t,n){return se.createNode(e,r,t,n)},rename:function(e,r,t){if(ue.isDir(e.mode)){var n;try{n=ue.lookupNode(r,t)}catch(e){}if(n)for(var o in n.contents)throw new ue.ErrnoError(55)}delete e.parent.contents[e.name],e.parent.timestamp=Date.now(),e.name=t,r.contents[t]=e,r.timestamp=e.parent.timestamp,e.parent=r},unlink:function(e,r){delete e.contents[r],e.timestamp=Date.now()},rmdir:function(e,r){for(var t in ue.lookupNode(e,r).contents)throw new ue.ErrnoError(55);delete e.contents[r],e.timestamp=Date.now()},readdir:function(e){var r,t=[".",".."];for(r in e.contents)e.contents.hasOwnProperty(r)&&t.push(r);return t},symlink:function(e,r,t){r=se.createNode(e,r,41471,0);return r.link=t,r},readlink:function(e){if(!ue.isLink(e.mode))throw new ue.ErrnoError(28);return e.link}},stream_ops:{read:function(e,r,t,n,o){var a=e.node.contents;if(o>=e.node.usedBytes)return 0;var i=Math.min(e.node.usedBytes-o,n);if(8<i&&a.subarray)r.set(a.subarray(o,o+i),t);else for(var s=0;s<i;s++)r[t+s]=a[o+s];return i},write:function(e,r,t,n,o,a){if(!n)return 0;var i=e.node;if(i.timestamp=Date.now(),r.subarray&&(!i.contents||i.contents.subarray)){if(a)return i.contents=r.subarray(t,t+n),i.usedBytes=n;if(0===i.usedBytes&&0===o)return i.contents=r.slice(t,t+n),i.usedBytes=n;if(o+n<=i.usedBytes)return i.contents.set(r.subarray(t,t+n),o),n}if(se.expandFileStorage(i,o+n),i.contents.subarray&&r.subarray)i.contents.set(r.subarray(t,t+n),o);else for(var s=0;s<n;s++)i.contents[o+s]=r[t+s];return i.usedBytes=Math.max(i.usedBytes,o+n),n},llseek:function(e,r,t){if(1===t?r+=e.position:2===t&&ue.isFile(e.node.mode)&&(r+=e.node.usedBytes),r<0)throw new ue.ErrnoError(28);return r},allocate:function(e,r,t){se.expandFileStorage(e.node,r+t),e.node.usedBytes=Math.max(e.node.usedBytes,r+t)},mmap:function(e,r,t,n,o,a){if(0!==r)throw new ue.ErrnoError(28);if(!ue.isFile(e.node.mode))throw new ue.ErrnoError(43);var i,s,e=e.node.contents;if(2&a||e.buffer!==b){if((0<n||n+t<e.length)&&(e=e.subarray?e.subarray(n,n+t):Array.prototype.slice.call(e,n,n+t)),s=!0,!(i=ae(t)))throw new ue.ErrnoError(48);D.set(e,i)}else s=!1,i=e.byteOffset;return{ptr:i,allocated:s}},msync:function(e,r,t,n,o){if(!ue.isFile(e.node.mode))throw new ue.ErrnoError(43);if(2&o)return 0;se.stream_ops.write(e,r,0,n,t,!1);return 0}}},ue={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:function(e,r){if(r=r||{},!(e=ne.resolve(ue.cwd(),e)))return{path:"",node:null};var t,n={follow_mount:!0,recurse_count:0};for(t in n)void 0===r[t]&&(r[t]=n[t]);if(8<r.recurse_count)throw new ue.ErrnoError(32);for(var o=te.normalizeArray(e.split("/").filter(function(e){return!!e}),!1),a=ue.root,i="/",s=0;s<o.length;s++){var u=s===o.length-1;if(u&&r.parent)break;if(a=ue.lookupNode(a,o[s]),i=te.join2(i,o[s]),ue.isMountpoint(a)&&(!u||u&&r.follow_mount)&&(a=a.mounted.root),!u||r.follow)for(var c=0;ue.isLink(a.mode);){var l=ue.readlink(i),i=ne.resolve(te.dirname(i),l),a=ue.lookupPath(i,{recurse_count:r.recurse_count}).node;if(40<c++)throw new ue.ErrnoError(32)}}return{path:i,node:a}},getPath:function(e){for(var r;;){if(ue.isRoot(e)){var t=e.mount.mountpoint;return r?"/"!==t[t.length-1]?t+"/"+r:t+r:t}r=r?e.name+"/"+r:e.name,e=e.parent}},hashName:function(e,r){for(var t=0,n=0;n<r.length;n++)t=(t<<5)-t+r.charCodeAt(n)|0;return(e+t>>>0)%ue.nameTable.length},hashAddNode:function(e){var r=ue.hashName(e.parent.id,e.name);e.name_next=ue.nameTable[r],ue.nameTable[r]=e},hashRemoveNode:function(e){var r=ue.hashName(e.parent.id,e.name);if(ue.nameTable[r]===e)ue.nameTable[r]=e.name_next;else for(var t=ue.nameTable[r];t;){if(t.name_next===e){t.name_next=e.name_next;break}t=t.name_next}},lookupNode:function(e,r){var t=ue.mayLookup(e);if(t)throw new ue.ErrnoError(t,e);for(var t=ue.hashName(e.id,r),n=ue.nameTable[t];n;n=n.name_next){var o=n.name;if(n.parent.id===e.id&&o===r)return n}return ue.lookup(e,r)},createNode:function(e,r,t,n){n=new ue.FSNode(e,r,t,n);return ue.hashAddNode(n),n},destroyNode:function(e){ue.hashRemoveNode(e)},isRoot:function(e){return e===e.parent},isMountpoint:function(e){return!!e.mounted},isFile:function(e){return 32768==(61440&e)},isDir:function(e){return 16384==(61440&e)},isLink:function(e){return 40960==(61440&e)},isChrdev:function(e){return 8192==(61440&e)},isBlkdev:function(e){return 24576==(61440&e)},isFIFO:function(e){return 4096==(61440&e)},isSocket:function(e){return 49152==(49152&e)},flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:function(e){var r=ue.flagModes[e];if(void 0===r)throw new Error("Unknown file open mode: "+e);return r},flagsToPermissionString:function(e){var r=["r","w","rw"][3&e];return 512&e&&(r+="w"),r},nodePermissions:function(e,r){return ue.ignorePermissions||(-1===r.indexOf("r")||292&e.mode)&&(-1===r.indexOf("w")||146&e.mode)&&(-1===r.indexOf("x")||73&e.mode)?0:2},mayLookup:function(e){var r=ue.nodePermissions(e,"x");return r||(e.node_ops.lookup?0:2)},mayCreate:function(e,r){try{ue.lookupNode(e,r);return 20}catch(e){}return ue.nodePermissions(e,"wx")},mayDelete:function(e,r,t){var n;try{n=ue.lookupNode(e,r)}catch(e){return e.errno}var o=ue.nodePermissions(e,"wx");if(o)return o;if(t){if(!ue.isDir(n.mode))return 54;if(ue.isRoot(n)||ue.getPath(n)===ue.cwd())return 10}else if(ue.isDir(n.mode))return 31;return 0},mayOpen:function(e,r){return e?ue.isLink(e.mode)?32:ue.isDir(e.mode)&&("r"!==ue.flagsToPermissionString(r)||512&r)?31:ue.nodePermissions(e,ue.flagsToPermissionString(r)):44},MAX_OPEN_FDS:4096,nextfd:function(e,r){e=e||0,r=r||ue.MAX_OPEN_FDS;for(var t=e;t<=r;t++)if(!ue.streams[t])return t;throw new ue.ErrnoError(33)},getStream:function(e){return ue.streams[e]},createStream:function(e,r,t){ue.FSStream||(ue.FSStream=function(){},ue.FSStream.prototype={object:{get:function(){return this.node},set:function(e){this.node=e}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}}});var n,o=new ue.FSStream;for(n in e)o[n]=e[n];e=o;t=ue.nextfd(r,t);return e.fd=t,ue.streams[t]=e},closeStream:function(e){ue.streams[e]=null},chrdev_stream_ops:{open:function(e){var r=ue.getDevice(e.node.rdev);e.stream_ops=r.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:function(){throw new ue.ErrnoError(70)}},major:function(e){return e>>8},minor:function(e){return 255&e},makedev:function(e,r){return e<<8|r},registerDevice:function(e,r){ue.devices[e]={stream_ops:r}},getDevice:function(e){return ue.devices[e]},getMounts:function(e){for(var r=[],t=[e];t.length;){var n=t.pop();r.push(n),t.push.apply(t,n.mounts)}return r},syncfs:function(r,t){"function"==typeof r&&(t=r,r=!1),ue.syncFSRequests++,1<ue.syncFSRequests&&p("warning: "+ue.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var n=ue.getMounts(ue.root.mount),o=0;function a(e){return ue.syncFSRequests--,t(e)}function i(e){if(e)return i.errored?void 0:(i.errored=!0,a(e));++o>=n.length&&a(null)}n.forEach(function(e){return e.type.syncfs?void e.type.syncfs(e,r,i):i(null)})},mount:function(e,r,t){var n="/"===t,o=!t;if(n&&ue.root)throw new ue.ErrnoError(10);if(!n&&!o){var a=ue.lookupPath(t,{follow_mount:!1});if(t=a.path,a=a.node,ue.isMountpoint(a))throw new ue.ErrnoError(10);if(!ue.isDir(a.mode))throw new ue.ErrnoError(54)}t={type:e,opts:r,mountpoint:t,mounts:[]},e=e.mount(t);return(e.mount=t).root=e,n?ue.root=e:a&&(a.mounted=t,a.mount&&a.mount.mounts.push(t)),e},unmount:function(e){var r=ue.lookupPath(e,{follow_mount:!1});if(!ue.isMountpoint(r.node))throw new ue.ErrnoError(28);var e=r.node,r=e.mounted,n=ue.getMounts(r);Object.keys(ue.nameTable).forEach(function(e){for(var r=ue.nameTable[e];r;){var t=r.name_next;-1!==n.indexOf(r.mount)&&ue.destroyNode(r),r=t}}),e.mounted=null;r=e.mount.mounts.indexOf(r);e.mount.mounts.splice(r,1)},lookup:function(e,r){return e.node_ops.lookup(e,r)},mknod:function(e,r,t){var n=ue.lookupPath(e,{parent:!0}).node,o=te.basename(e);if(!o||"."===o||".."===o)throw new ue.ErrnoError(28);e=ue.mayCreate(n,o);if(e)throw new ue.ErrnoError(e);if(!n.node_ops.mknod)throw new ue.ErrnoError(63);return n.node_ops.mknod(n,o,r,t)},create:function(e,r){return r=void 0!==r?r:438,r&=4095,r|=32768,ue.mknod(e,r,0)},mkdir:function(e,r){return r=void 0!==r?r:511,r&=1023,r|=16384,ue.mknod(e,r,0)},mkdirTree:function(e,r){for(var t=e.split("/"),n="",o=0;o<t.length;++o)if(t[o]){n+="/"+t[o];try{ue.mkdir(n,r)}catch(e){if(20!=e.errno)throw e}}},mkdev:function(e,r,t){return void 0===t&&(t=r,r=438),r|=8192,ue.mknod(e,r,t)},symlink:function(e,r){if(!ne.resolve(e))throw new ue.ErrnoError(44);var t=ue.lookupPath(r,{parent:!0}).node;if(!t)throw new ue.ErrnoError(44);var n=te.basename(r),r=ue.mayCreate(t,n);if(r)throw new ue.ErrnoError(r);if(!t.node_ops.symlink)throw new ue.ErrnoError(63);return t.node_ops.symlink(t,n,e)},rename:function(r,t){var e=te.dirname(r),n=te.dirname(t),o=te.basename(r),a=te.basename(t),i=ue.lookupPath(r,{parent:!0}),s=i.node,u=ue.lookupPath(t,{parent:!0}).node;if(!s||!u)throw new ue.ErrnoError(44);if(s.mount!==u.mount)throw new ue.ErrnoError(75);var c,l=ue.lookupNode(s,o),n=ne.relative(r,n);if("."!==n.charAt(0))throw new ue.ErrnoError(28);if("."!==(n=ne.relative(t,e)).charAt(0))throw new ue.ErrnoError(55);try{c=ue.lookupNode(u,a)}catch(e){}if(l!==c){n=ue.isDir(l.mode),o=ue.mayDelete(s,o,n);if(o)throw new ue.ErrnoError(o);if(o=c?ue.mayDelete(u,a,n):ue.mayCreate(u,a))throw new ue.ErrnoError(o);if(!s.node_ops.rename)throw new ue.ErrnoError(63);if(ue.isMountpoint(l)||c&&ue.isMountpoint(c))throw new ue.ErrnoError(10);if(u!==s&&(o=ue.nodePermissions(s,"w")))throw new ue.ErrnoError(o);try{ue.trackingDelegate.willMovePath&&ue.trackingDelegate.willMovePath(r,t)}catch(e){p("FS.trackingDelegate['willMovePath']('"+r+"', '"+t+"') threw an exception: "+e.message)}ue.hashRemoveNode(l);try{s.node_ops.rename(l,u,a)}catch(e){throw e}finally{ue.hashAddNode(l)}try{ue.trackingDelegate.onMovePath&&ue.trackingDelegate.onMovePath(r,t)}catch(e){p("FS.trackingDelegate['onMovePath']('"+r+"', '"+t+"') threw an exception: "+e.message)}}},rmdir:function(r){var e=ue.lookupPath(r,{parent:!0}).node,t=te.basename(r),n=ue.lookupNode(e,t),o=ue.mayDelete(e,t,!0);if(o)throw new ue.ErrnoError(o);if(!e.node_ops.rmdir)throw new ue.ErrnoError(63);if(ue.isMountpoint(n))throw new ue.ErrnoError(10);try{ue.trackingDelegate.willDeletePath&&ue.trackingDelegate.willDeletePath(r)}catch(e){p("FS.trackingDelegate['willDeletePath']('"+r+"') threw an exception: "+e.message)}e.node_ops.rmdir(e,t),ue.destroyNode(n);try{ue.trackingDelegate.onDeletePath&&ue.trackingDelegate.onDeletePath(r)}catch(e){p("FS.trackingDelegate['onDeletePath']('"+r+"') threw an exception: "+e.message)}},readdir:function(e){e=ue.lookupPath(e,{follow:!0}).node;if(!e.node_ops.readdir)throw new ue.ErrnoError(54);return e.node_ops.readdir(e)},unlink:function(r){var e=ue.lookupPath(r,{parent:!0}).node,t=te.basename(r),n=ue.lookupNode(e,t),o=ue.mayDelete(e,t,!1);if(o)throw new ue.ErrnoError(o);if(!e.node_ops.unlink)throw new ue.ErrnoError(63);if(ue.isMountpoint(n))throw new ue.ErrnoError(10);try{ue.trackingDelegate.willDeletePath&&ue.trackingDelegate.willDeletePath(r)}catch(e){p("FS.trackingDelegate['willDeletePath']('"+r+"') threw an exception: "+e.message)}e.node_ops.unlink(e,t),ue.destroyNode(n);try{ue.trackingDelegate.onDeletePath&&ue.trackingDelegate.onDeletePath(r)}catch(e){p("FS.trackingDelegate['onDeletePath']('"+r+"') threw an exception: "+e.message)}},readlink:function(e){e=ue.lookupPath(e).node;if(!e)throw new ue.ErrnoError(44);if(!e.node_ops.readlink)throw new ue.ErrnoError(28);return ne.resolve(ue.getPath(e.parent),e.node_ops.readlink(e))},stat:function(e,r){r=ue.lookupPath(e,{follow:!r}).node;if(!r)throw new ue.ErrnoError(44);if(!r.node_ops.getattr)throw new ue.ErrnoError(63);return r.node_ops.getattr(r)},lstat:function(e){return ue.stat(e,!0)},chmod:function(e,r,t){if(!(e="string"==typeof e?ue.lookupPath(e,{follow:!t}).node:e).node_ops.setattr)throw new ue.ErrnoError(63);e.node_ops.setattr(e,{mode:4095&r|-4096&e.mode,timestamp:Date.now()})},lchmod:function(e,r){ue.chmod(e,r,!0)},fchmod:function(e,r){e=ue.getStream(e);if(!e)throw new ue.ErrnoError(8);ue.chmod(e.node,r)},chown:function(e,r,t,n){if(!(e="string"==typeof e?ue.lookupPath(e,{follow:!n}).node:e).node_ops.setattr)throw new ue.ErrnoError(63);e.node_ops.setattr(e,{timestamp:Date.now()})},lchown:function(e,r,t){ue.chown(e,r,t,!0)},fchown:function(e,r,t){e=ue.getStream(e);if(!e)throw new ue.ErrnoError(8);ue.chown(e.node,r,t)},truncate:function(e,r){if(r<0)throw new ue.ErrnoError(28);var t;if(!(t="string"==typeof e?ue.lookupPath(e,{follow:!0}).node:e).node_ops.setattr)throw new ue.ErrnoError(63);if(ue.isDir(t.mode))throw new ue.ErrnoError(31);if(!ue.isFile(t.mode))throw new ue.ErrnoError(28);e=ue.nodePermissions(t,"w");if(e)throw new ue.ErrnoError(e);t.node_ops.setattr(t,{size:r,timestamp:Date.now()})},ftruncate:function(e,r){e=ue.getStream(e);if(!e)throw new ue.ErrnoError(8);if(0==(2097155&e.flags))throw new ue.ErrnoError(28);ue.truncate(e.node,r)},utime:function(e,r,t){e=ue.lookupPath(e,{follow:!0}).node;e.node_ops.setattr(e,{timestamp:Math.max(r,t)})},open:function(r,e,t,n,o){if(""===r)throw new ue.ErrnoError(44);if(t=void 0===t?438:t,t=64&(e="string"==typeof e?ue.modeStringToFlags(e):e)?4095&t|32768:0,"object"==typeof r)a=r;else{r=te.normalize(r);try{var a=ue.lookupPath(r,{follow:!(131072&e)}).node}catch(e){}}var i=!1;if(64&e)if(a){if(128&e)throw new ue.ErrnoError(20)}else a=ue.mknod(r,t,0),i=!0;if(!a)throw new ue.ErrnoError(44);if(ue.isChrdev(a.mode)&&(e&=-513),65536&e&&!ue.isDir(a.mode))throw new ue.ErrnoError(54);if(!i){i=ue.mayOpen(a,e);if(i)throw new ue.ErrnoError(i)}512&e&&ue.truncate(a,0),e&=-131713;var s,o=ue.createStream({node:a,path:ue.getPath(a),flags:e,seekable:!0,position:0,stream_ops:a.stream_ops,ungotten:[],error:!1},n,o);o.stream_ops.open&&o.stream_ops.open(o),!h.logReadFiles||1&e||(ue.readFiles||(ue.readFiles={}),r in ue.readFiles||(ue.readFiles[r]=1,p("FS.trackingDelegate error on read file: "+r)));try{ue.trackingDelegate.onOpenFile&&(s=0,1!=(2097155&e)&&(s|=ue.tracking.openFlags.READ),0!=(2097155&e)&&(s|=ue.tracking.openFlags.WRITE),ue.trackingDelegate.onOpenFile(r,s))}catch(e){p("FS.trackingDelegate['onOpenFile']('"+r+"', flags) threw an exception: "+e.message)}return o},close:function(e){if(ue.isClosed(e))throw new ue.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(e){throw e}finally{ue.closeStream(e.fd)}e.fd=null},isClosed:function(e){return null===e.fd},llseek:function(e,r,t){if(ue.isClosed(e))throw new ue.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new ue.ErrnoError(70);if(0!=t&&1!=t&&2!=t)throw new ue.ErrnoError(28);return e.position=e.stream_ops.llseek(e,r,t),e.ungotten=[],e.position},read:function(e,r,t,n,o){if(n<0||o<0)throw new ue.ErrnoError(28);if(ue.isClosed(e))throw new ue.ErrnoError(8);if(1==(2097155&e.flags))throw new ue.ErrnoError(8);if(ue.isDir(e.node.mode))throw new ue.ErrnoError(31);if(!e.stream_ops.read)throw new ue.ErrnoError(28);var a=void 0!==o;if(a){if(!e.seekable)throw new ue.ErrnoError(70)}else o=e.position;o=e.stream_ops.read(e,r,t,n,o);return a||(e.position+=o),o},write:function(r,e,t,n,o,a){if(n<0||o<0)throw new ue.ErrnoError(28);if(ue.isClosed(r))throw new ue.ErrnoError(8);if(0==(2097155&r.flags))throw new ue.ErrnoError(8);if(ue.isDir(r.node.mode))throw new ue.ErrnoError(31);if(!r.stream_ops.write)throw new ue.ErrnoError(28);r.seekable&&1024&r.flags&&ue.llseek(r,0,2);var i=void 0!==o;if(i){if(!r.seekable)throw new ue.ErrnoError(70)}else o=r.position;a=r.stream_ops.write(r,e,t,n,o,a);i||(r.position+=a);try{r.path&&ue.trackingDelegate.onWriteToFile&&ue.trackingDelegate.onWriteToFile(r.path)}catch(e){p("FS.trackingDelegate['onWriteToFile']('"+r.path+"') threw an exception: "+e.message)}return a},allocate:function(e,r,t){if(ue.isClosed(e))throw new ue.ErrnoError(8);if(r<0||t<=0)throw new ue.ErrnoError(28);if(0==(2097155&e.flags))throw new ue.ErrnoError(8);if(!ue.isFile(e.node.mode)&&!ue.isDir(e.node.mode))throw new ue.ErrnoError(43);if(!e.stream_ops.allocate)throw new ue.ErrnoError(138);e.stream_ops.allocate(e,r,t)},mmap:function(e,r,t,n,o,a){if(0!=(2&o)&&0==(2&a)&&2!=(2097155&e.flags))throw new ue.ErrnoError(2);if(1==(2097155&e.flags))throw new ue.ErrnoError(2);if(!e.stream_ops.mmap)throw new ue.ErrnoError(43);return e.stream_ops.mmap(e,r,t,n,o,a)},msync:function(e,r,t,n,o){return e&&e.stream_ops.msync?e.stream_ops.msync(e,r,t,n,o):0},munmap:function(e){return 0},ioctl:function(e,r,t){if(!e.stream_ops.ioctl)throw new ue.ErrnoError(59);return e.stream_ops.ioctl(e,r,t)},readFile:function(e,r){if((r=r||{}).flags=r.flags||0,r.encoding=r.encoding||"binary","utf8"!==r.encoding&&"binary"!==r.encoding)throw new Error('Invalid encoding type "'+r.encoding+'"');var t,n=ue.open(e,r.flags),o=ue.stat(e).size,e=new Uint8Array(o);return ue.read(n,e,0,o,0),"utf8"===r.encoding?t=F(e,0):"binary"===r.encoding&&(t=e),ue.close(n),t},writeFile:function(e,r,t){(t=t||{}).flags=t.flags||577;var n=ue.open(e,t.flags,t.mode);if("string"==typeof r){var o=new Uint8Array(O(r)+1),e=T(r,o,0,o.length);ue.write(n,o,0,e,void 0,t.canOwn)}else{if(!ArrayBuffer.isView(r))throw new Error("Unsupported data type");ue.write(n,r,0,r.byteLength,void 0,t.canOwn)}ue.close(n)},cwd:function(){return ue.currentPath},chdir:function(e){var r=ue.lookupPath(e,{follow:!0});if(null===r.node)throw new ue.ErrnoError(44);if(!ue.isDir(r.node.mode))throw new ue.ErrnoError(54);e=ue.nodePermissions(r.node,"x");if(e)throw new ue.ErrnoError(e);ue.currentPath=r.path},createDefaultDirectories:function(){ue.mkdir("/tmp"),ue.mkdir("/home"),ue.mkdir("/home/web_user")},createDefaultDevices:function(){ue.mkdir("/dev"),ue.registerDevice(ue.makedev(1,3),{read:function(){return 0},write:function(e,r,t,n,o){return n}}),ue.mkdev("/dev/null",ue.makedev(1,3)),oe.register(ue.makedev(5,0),oe.default_tty_ops),oe.register(ue.makedev(6,0),oe.default_tty1_ops),ue.mkdev("/dev/tty",ue.makedev(5,0)),ue.mkdev("/dev/tty1",ue.makedev(6,0));var e=function(){if("object"!=typeof crypto||"function"!=typeof crypto.getRandomValues)return function(){V("randomDevice")};var e=new Uint8Array(1);return function(){return crypto.getRandomValues(e),e[0]}}();ue.createDevice("/dev","random",e),ue.createDevice("/dev","urandom",e),ue.mkdir("/dev/shm"),ue.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){ue.mkdir("/proc");var r=ue.mkdir("/proc/self");ue.mkdir("/proc/self/fd"),ue.mount({mount:function(){var e=ue.createNode(r,"fd",16895,73);return e.node_ops={lookup:function(e,r){var r=+r,t=ue.getStream(r);if(!t)throw new ue.ErrnoError(8);r={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return t.path}}};return r.parent=r}},e}},{},"/proc/self/fd")},createStandardStreams:function(){h.stdin?ue.createDevice("/dev","stdin",h.stdin):ue.symlink("/dev/tty","/dev/stdin"),h.stdout?ue.createDevice("/dev","stdout",null,h.stdout):ue.symlink("/dev/tty","/dev/stdout"),h.stderr?ue.createDevice("/dev","stderr",null,h.stderr):ue.symlink("/dev/tty1","/dev/stderr");ue.open("/dev/stdin",0),ue.open("/dev/stdout",1),ue.open("/dev/stderr",1)},ensureErrnoError:function(){ue.ErrnoError||(ue.ErrnoError=function(e,r){this.node=r,this.setErrno=function(e){this.errno=e},this.setErrno(e),this.message="FS error"},ue.ErrnoError.prototype=new Error,ue.ErrnoError.prototype.constructor=ue.ErrnoError,[44].forEach(function(e){ue.genericErrors[e]=new ue.ErrnoError(e),ue.genericErrors[e].stack="<generic error, no stack>"}))},staticInit:function(){ue.ensureErrnoError(),ue.nameTable=new Array(4096),ue.mount(se,{},"/"),ue.createDefaultDirectories(),ue.createDefaultDevices(),ue.createSpecialDirectories(),ue.filesystems={MEMFS:se}},init:function(e,r,t){ue.init.initialized=!0,ue.ensureErrnoError(),h.stdin=e||h.stdin,h.stdout=r||h.stdout,h.stderr=t||h.stderr,ue.createStandardStreams()},quit:function(){ue.init.initialized=!1;var e=h._fflush;e&&e(0);for(var r=0;r<ue.streams.length;r++){var t=ue.streams[r];t&&ue.close(t)}},getMode:function(e,r){var t=0;return e&&(t|=365),r&&(t|=146),t},findObject:function(e,r){r=ue.analyzePath(e,r);return r.exists?r.object:null},analyzePath:function(e,r){try{e=(n=ue.lookupPath(e,{follow:!r})).path}catch(e){}var t={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var n=ue.lookupPath(e,{parent:!0});t.parentExists=!0,t.parentPath=n.path,t.parentObject=n.node,t.name=te.basename(e),n=ue.lookupPath(e,{follow:!r}),t.exists=!0,t.path=n.path,t.object=n.node,t.name=n.node.name,t.isRoot="/"===n.path}catch(e){t.error=e.errno}return t},createPath:function(e,r,t,n){e="string"==typeof e?e:ue.getPath(e);for(var o=r.split("/").reverse();o.length;){var a=o.pop();if(a){var i=te.join2(e,a);try{ue.mkdir(i)}catch(e){}e=i}}return i},createFile:function(e,r,t,n,o){r=te.join2("string"==typeof e?e:ue.getPath(e),r),o=ue.getMode(n,o);return ue.create(r,o)},createDataFile:function(e,r,t,n,o,a){e=r?te.join2("string"==typeof e?e:ue.getPath(e),r):e,n=ue.getMode(n,o),o=ue.create(e,n);if(t){if("string"==typeof t){for(var i=new Array(t.length),s=0,u=t.length;s<u;++s)i[s]=t.charCodeAt(s);t=i}ue.chmod(o,146|n);e=ue.open(o,577);ue.write(e,t,0,t.length,0,a),ue.close(e),ue.chmod(o,n)}return o},createDevice:function(e,r,u,i){var t=te.join2("string"==typeof e?e:ue.getPath(e),r),e=ue.getMode(!!u,!!i);ue.createDevice.major||(ue.createDevice.major=64);r=ue.makedev(ue.createDevice.major++,0);return ue.registerDevice(r,{open:function(e){e.seekable=!1},close:function(e){i&&i.buffer&&i.buffer.length&&i(10)},read:function(e,r,t,n,o){for(var a,i=0,s=0;s<n;s++){try{a=u()}catch(e){throw new ue.ErrnoError(29)}if(void 0===a&&0===i)throw new ue.ErrnoError(6);if(null==a)break;i++,r[t+s]=a}return i&&(e.node.timestamp=Date.now()),i},write:function(e,r,t,n,o){for(var a=0;a<n;a++)try{i(r[t+a])}catch(e){throw new ue.ErrnoError(29)}return n&&(e.node.timestamp=Date.now()),a}}),ue.mkdev(t,e,r)},forceLoadFile:function(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!o)throw new Error("Cannot load without read() or XMLHttpRequest.");try{e.contents=me(o(e.url),!0),e.usedBytes=e.contents.length}catch(e){throw new ue.ErrnoError(29)}},createLazyFile:function(e,r,i,t,n){function o(){this.lengthKnown=!1,this.chunks=[]}if(o.prototype.get=function(e){if(!(e>this.length-1||e<0)){var r=e%this.chunkSize,e=e/this.chunkSize|0;return this.getter(e)[r]}},o.prototype.setDataGetter=function(e){this.getter=e},o.prototype.cacheLength=function(){var e=new XMLHttpRequest;if(e.open("HEAD",i,!1),e.send(null),!(200<=e.status&&e.status<300||304===e.status))throw new Error("Couldn't load "+i+". Status: "+e.status);var n=Number(e.getResponseHeader("Content-length")),r=(t=e.getResponseHeader("Accept-Ranges"))&&"bytes"===t,t=(t=e.getResponseHeader("Content-Encoding"))&&"gzip"===t,o=1048576;r||(o=n);var a=this;a.setDataGetter(function(e){var r=e*o,t=(e+1)*o-1,t=Math.min(t,n-1);if(void 0===a.chunks[e]&&(a.chunks[e]=function(e,r){if(r<e)throw new Error("invalid range ("+e+", "+r+") or no bytes requested!");if(n-1<r)throw new Error("only "+n+" bytes available! programmer error!");var t=new XMLHttpRequest;if(t.open("GET",i,!1),n!==o&&t.setRequestHeader("Range","bytes="+e+"-"+r),"undefined"!=typeof Uint8Array&&(t.responseType="arraybuffer"),t.overrideMimeType&&t.overrideMimeType("text/plain; charset=x-user-defined"),t.send(null),!(200<=t.status&&t.status<300||304===t.status))throw new Error("Couldn't load "+i+". Status: "+t.status);return void 0!==t.response?new Uint8Array(t.response||[]):me(t.responseText||"",!0)}(r,t)),void 0===a.chunks[e])throw new Error("doXHR failed!");return a.chunks[e]}),!t&&n||(o=n=1,n=this.getter(0).length,o=n,m("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=n,this._chunkSize=o,this.lengthKnown=!0},"undefined"!=typeof XMLHttpRequest){if(!f)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var a=new o;Object.defineProperties(a,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});a={isDevice:!1,contents:a}}else a={isDevice:!1,url:i};var u=ue.createFile(e,r,a,t,n);a.contents?u.contents=a.contents:a.url&&(u.contents=null,u.url=a.url),Object.defineProperties(u,{usedBytes:{get:function(){return this.contents.length}}});var s={};return Object.keys(u.stream_ops).forEach(function(e){var r=u.stream_ops[e];s[e]=function(){return ue.forceLoadFile(u),r.apply(null,arguments)}}),s.read=function(e,r,t,n,o){ue.forceLoadFile(u);var a=e.node.contents;if(o>=a.length)return 0;var i=Math.min(a.length-o,n);if(a.slice)for(var s=0;s<i;s++)r[t+s]=a[o+s];else for(s=0;s<i;s++)r[t+s]=a.get(o+s);return i},u.stream_ops=s,u},createPreloadedFile:function(o,a,e,i,s,u,c,l,f,d){Browser.init();var m=a?ne.resolve(te.join2(o,a)):o;function r(r){function t(e){d&&d(),l||ue.createDataFile(o,a,e,i,s,f),u&&u(),q()}var n=!1;h.preloadPlugins.forEach(function(e){n||e.canHandle(m)&&(e.handle(r,m,t,function(){c&&c(),q()}),n=!0)}),n||t(r)}G(),"string"==typeof e?Browser.asyncLoad(e,function(e){r(e)},c):r(e)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(i,s,u){s=s||function(){},u=u||function(){};var e=ue.indexedDB();try{var c=e.open(ue.DB_NAME(),ue.DB_VERSION)}catch(e){return u(e)}c.onupgradeneeded=function(){m("creating db"),c.result.createObjectStore(ue.DB_STORE_NAME)},c.onsuccess=function(){var e=c.result.transaction([ue.DB_STORE_NAME],"readwrite"),r=e.objectStore(ue.DB_STORE_NAME),t=0,n=0,o=i.length;function a(){(0==n?s:u)()}i.forEach(function(e){e=r.put(ue.analyzePath(e).object.contents,e);e.onsuccess=function(){++t+n==o&&a()},e.onerror=function(){t+ ++n==o&&a()}}),e.onerror=u},c.onerror=u},loadFilesFromDB:function(s,u,c){u=u||function(){},c=c||function(){};var e=ue.indexedDB();try{var l=e.open(ue.DB_NAME(),ue.DB_VERSION)}catch(e){return c(e)}l.onupgradeneeded=c,l.onsuccess=function(){var e=l.result;try{var r=e.transaction([ue.DB_STORE_NAME],"readonly")}catch(e){return void c(e)}var t=r.objectStore(ue.DB_STORE_NAME),n=0,o=0,a=s.length;function i(){(0==o?u:c)()}s.forEach(function(e){var r=t.get(e);r.onsuccess=function(){ue.analyzePath(e).exists&&ue.unlink(e),ue.createDataFile(te.dirname(e),te.basename(e),r.result,!0,!0,!0),++n+o==a&&i()},r.onerror=function(){n+ ++o==a&&i()}}),r.onerror=c},l.onerror=c}},ce={mappings:{},DEFAULT_POLLMASK:5,umask:511,calculateAt:function(e,r,t){if("/"===r[0])return r;var n;if(-100===e)n=ue.cwd();else{e=ue.getStream(e);if(!e)throw new ue.ErrnoError(8);n=e.path}if(0!=r.length)return te.join2(n,r);if(!t)throw new ue.ErrnoError(44);return n},doStat:function(e,r,t){try{var n=e(r)}catch(e){if(e&&e.node&&te.normalize(r)!==te.normalize(ue.getPath(e.node)))return-54;throw e}return A[t>>2]=n.dev,A[t+4>>2]=0,A[t+8>>2]=n.ino,A[t+12>>2]=n.mode,A[t+16>>2]=n.nlink,A[t+20>>2]=n.uid,A[t+24>>2]=n.gid,A[t+28>>2]=n.rdev,A[t+32>>2]=0,$=[n.size>>>0,(Y=n.size,1<=+Math.abs(Y)?0<Y?(0|Math.min(+Math.floor(Y/4294967296),4294967295))>>>0:~~+Math.ceil((Y-(~~Y>>>0))/4294967296)>>>0:0)],A[t+40>>2]=$[0],A[t+44>>2]=$[1],A[t+48>>2]=4096,A[t+52>>2]=n.blocks,A[t+56>>2]=n.atime.getTime()/1e3|0,A[t+60>>2]=0,A[t+64>>2]=n.mtime.getTime()/1e3|0,A[t+68>>2]=0,A[t+72>>2]=n.ctime.getTime()/1e3|0,A[t+76>>2]=0,$=[n.ino>>>0,(Y=n.ino,1<=+Math.abs(Y)?0<Y?(0|Math.min(+Math.floor(Y/4294967296),4294967295))>>>0:~~+Math.ceil((Y-(~~Y>>>0))/4294967296)>>>0:0)],A[t+80>>2]=$[0],A[t+84>>2]=$[1],0},doMsync:function(e,r,t,n,o){e=S.slice(e,e+t);ue.msync(r,e,o,t,n)},doMkdir:function(e,r){return"/"===(e=te.normalize(e))[e.length-1]&&(e=e.substr(0,e.length-1)),ue.mkdir(e,r,0),0},doMknod:function(e,r,t){switch(61440&r){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-28}return ue.mknod(e,r,t),0},doReadlink:function(e,r,t){if(t<=0)return-28;var n=ue.readlink(e),o=Math.min(t,O(n)),e=D[r+o];return M(n,r,t+1),D[r+o]=e,o},doAccess:function(e,r){if(-8&r)return-28;var t=ue.lookupPath(e,{follow:!0}).node;if(!t)return-44;e="";return 4&r&&(e+="r"),2&r&&(e+="w"),1&r&&(e+="x"),e&&ue.nodePermissions(t,e)?-2:0},doDup:function(e,r,t){var n=ue.getStream(t);return n&&ue.close(n),ue.open(e,r,0,t,t).fd},doReadv:function(e,r,t,n){for(var o=0,a=0;a<t;a++){var i=A[r+8*a>>2],s=A[r+(8*a+4)>>2],i=ue.read(e,D,i,s,n);if(i<0)return-1;if(o+=i,i<s)break}return o},doWritev:function(e,r,t,n){for(var o=0,a=0;a<t;a++){var i=A[r+8*a>>2],s=A[r+(8*a+4)>>2],s=ue.write(e,D,i,s,n);if(s<0)return-1;o+=s}return o},varargs:void 0,get:function(){return ce.varargs+=4,A[ce.varargs-4>>2]},getStr:function(e){return x(e)},getStreamFromFD:function(e){e=ue.getStream(e);if(!e)throw new ue.ErrnoError(8);return e},get64:function(e,r){return e}};ie=function(){return performance.now()};var le={};function fe(){if(!fe.strings){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:u||"./this.program"};for(r in le)e[r]=le[r];var r,t=[];for(r in e)t.push(r+"="+e[r]);fe.strings=t}return fe.strings}function de(e,r,t,n){e=e||this,this.parent=e,this.mount=e.mount,this.mounted=null,this.id=ue.nextInode++,this.name=r,this.mode=t,this.node_ops={},this.stream_ops={},this.rdev=n}function me(e,r,t){t=0<t?t:O(e)+1,t=new Array(t),e=T(e,t,0,t.length);return r&&(t.length=e),t}Object.defineProperties(de.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(e){e?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(e){e?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return ue.isDir(this.mode)}},isDevice:{get:function(){return ue.isChrdev(this.mode)}}}),ue.FSNode=de,ue.staticInit(),h.FS_createPath=ue.createPath,h.FS_createDataFile=ue.createDataFile,h.FS_createPreloadedFile=ue.createPreloadedFile,h.FS_createLazyFile=ue.createLazyFile,h.FS_createDevice=ue.createDevice,h.FS_unlink=ue.unlink;var he,pe={v:function(e,r){try{var t=ce.getStreamFromFD(e);return ce.doStat(ue.stat,t.path,r)}catch(e){return void 0!==ue&&e instanceof ue.ErrnoError||V(e),-e.errno}},t:function(e,r,t,n,o,a){try{return function(e,r,t,n,o,a){a<<=12;var i=!1;if(0!=(16&n)&&e%16384!=0)return-28;if(0!=(32&n)){if(!(u=De(16384,r)))return-48;ge(u,0,r),i=!0}else{var s=ue.getStream(o);if(!s)return-8;var e=ue.mmap(s,e,r,a,t,n),u=e.ptr,i=e.allocated}return ce.mappings[u]={malloc:u,len:r,allocated:i,fd:o,prot:t,flags:n,offset:a},u}(e,r,t,n,o,a)}catch(e){return void 0!==ue&&e instanceof ue.ErrnoError||V(e),-e.errno}},s:function(e,r){try{return function(e,r){if(-1==(0|e)||0===r)return-28;var t,n=ce.mappings[e];return n&&r===n.len&&((t=ue.getStream(n.fd))&&(2&n.prot&&ce.doMsync(e,t,r,n.flags,n.offset),ue.munmap(t)),ce.mappings[e]=null,n.allocated&&ve(n.malloc)),0}(e,r)}catch(e){return void 0!==ue&&e instanceof ue.ErrnoError||V(e),-e.errno}},i:function(e,r,t){ce.varargs=t;try{var n=ce.getStr(e),o=t?ce.get():0;return ue.open(n,r,o).fd}catch(e){return void 0!==ue&&e instanceof ue.ErrnoError||V(e),-e.errno}},u:function(e,r){try{return e=ce.getStr(e),ce.doStat(ue.stat,e,r)}catch(e){return void 0!==ue&&e instanceof ue.ErrnoError||V(e),-e.errno}},a:function(){V()},n:function(e,r){var t;if(0===e)t=Date.now();else{if(1!==e&&4!==e)return re(28),-1;t=ie()}return A[r>>2]=t/1e3|0,A[r+4>>2]=t%1e3*1e3*1e3|0,0},j:function(e,r){V("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},g:function(e,r){V("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},l:function(e,r,t){S.copyWithin(e,r,r+t)},m:function(e){V("OOM")},o:function(e){for(var r=ie();ie()-r<e;);},q:function(n,o){try{var a=0;return fe().forEach(function(e,r){var t=o+a;(function(e,r,t){for(var n=0;n<e.length;++n)D[r++>>0]=e.charCodeAt(n);t||(D[r>>0]=0)})(e,A[n+4*r>>2]=t),a+=e.length+1}),0}catch(e){return void 0!==ue&&e instanceof ue.ErrnoError||V(e),e.errno}},r:function(e,r){try{var t=fe();A[e>>2]=t.length;var n=0;return t.forEach(function(e){n+=e.length+1}),A[r>>2]=n,0}catch(e){return void 0!==ue&&e instanceof ue.ErrnoError||V(e),e.errno}},e:function(e){Pe(e)},f:function(e){try{var r=ce.getStreamFromFD(e);return ue.close(r),0}catch(e){return void 0!==ue&&e instanceof ue.ErrnoError||V(e),e.errno}},p:function(e,r){try{var t=ce.getStreamFromFD(e),t=t.tty?2:ue.isDir(t.mode)?3:ue.isLink(t.mode)?7:4;return D[r>>0]=t,0}catch(e){return void 0!==ue&&e instanceof ue.ErrnoError||V(e),e.errno}},w:function(e,r,t,n){try{var o=ce.getStreamFromFD(e),o=ce.doReadv(o,r,t);return A[n>>2]=o,0}catch(e){return void 0!==ue&&e instanceof ue.ErrnoError||V(e),e.errno}},k:function(e,r,t,n,o){try{var a=ce.getStreamFromFD(e),i=4294967296*t+(r>>>0),s=9007199254740992;return i<=-s||s<=i?-61:(ue.llseek(a,i,n),$=[a.position>>>0,(Y=a.position,1<=+Math.abs(Y)?0<Y?(0|Math.min(+Math.floor(Y/4294967296),4294967295))>>>0:~~+Math.ceil((Y-(~~Y>>>0))/4294967296)>>>0:0)],A[o>>2]=$[0],A[o+4>>2]=$[1],a.getdents&&0==i&&0===n&&(a.getdents=null),0)}catch(e){return void 0!==ue&&e instanceof ue.ErrnoError||V(e),e.errno}},c:function(e,r,t,n){try{var o=ce.getStreamFromFD(e),o=ce.doWritev(o,r,t);return A[n>>2]=o,0}catch(e){return void 0!==ue&&e instanceof ue.ErrnoError||V(e),e.errno}},d:function(){return 6},h:function(){return 28},b:function(e){switch(e){case 30:return 16384;case 85:return S.length/16384;case 132:case 133:case 12:case 137:case 138:case 15:case 235:case 16:case 17:case 18:case 19:case 20:case 149:case 13:case 10:case 236:case 153:case 9:case 21:case 22:case 159:case 154:case 14:case 77:case 78:case 139:case 82:case 68:case 67:case 164:case 11:case 29:case 47:case 48:case 95:case 52:case 51:case 46:return 200809;case 27:case 246:case 127:case 128:case 23:case 24:case 160:case 161:case 181:case 182:case 242:case 183:case 184:case 243:case 244:case 245:case 165:case 178:case 179:case 49:case 50:case 168:case 169:case 175:case 170:case 171:case 172:case 97:case 76:case 32:case 173:case 35:case 80:case 81:case 79:return-1;case 176:case 177:case 7:case 155:case 8:case 157:case 125:case 126:case 92:case 93:case 129:case 130:case 131:case 94:case 91:return 1;case 74:case 60:case 69:case 70:case 4:return 1024;case 31:case 42:case 72:return 32;case 87:case 26:case 33:return 2147483647;case 34:case 1:return 47839;case 38:case 36:return 99;case 43:case 37:return 2048;case 0:return 2097152;case 3:return 65536;case 28:return 32768;case 44:return 32767;case 75:return 16384;case 39:return 1e3;case 89:return 700;case 71:return 256;case 40:return 255;case 2:return 100;case 180:return 64;case 25:return 20;case 5:return 16;case 6:return 6;case 73:return 4;case 84:return"object"==typeof navigator&&navigator.hardwareConcurrency||1}return re(28),-1}},we=(function(){var r={a:pe};function t(e,r){e=e.exports;h.asm=e,E=h.asm.x,e=E.buffer,b=e,h.HEAP8=D=new Int8Array(e),h.HEAP16=new Int16Array(e),h.HEAP32=A=new Int32Array(e),h.HEAPU8=S=new Uint8Array(e),h.HEAPU16=new Uint16Array(e),h.HEAPU32=new Uint32Array(e),h.HEAPF32=new Float32Array(e),h.HEAPF64=new Float64Array(e),N=h.asm.C,q()}function n(e){t(e.instance)}function o(e){return(w||!l&&!f||"function"!=typeof fetch?Promise.resolve().then(function(){return Z(J)}):fetch(J,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+J+"'";return e.arrayBuffer()}).catch(function(){return Z(J)})).then(function(e){return WebAssembly.instantiate(e,r)}).then(e,function(e){p("failed to asynchronously prepare wasm: "+e),V(e)})}if(G(),h.instantiateWasm)try{return h.instantiateWasm(r,t)}catch(e){return p("Module.instantiateWasm callback failed with error: "+e)}(w||"function"!=typeof WebAssembly.instantiateStreaming||K(J)||"function"!=typeof fetch?o(n):fetch(J,{credentials:"same-origin"}).then(function(e){return WebAssembly.instantiateStreaming(e,r).then(n,function(e){return p("wasm streaming compile failed: "+e),p("falling back to ArrayBuffer instantiation"),o(n)})})).catch(a)}(),h.___wasm_call_ctors=function(){return(we=h.___wasm_call_ctors=h.asm.y).apply(null,arguments)}),ge=(h._run_inference=function(){return(h._run_inference=h.asm.z).apply(null,arguments)},h._load_model=function(){return(h._load_model=h.asm.A).apply(null,arguments)},h._main=function(){return(h._main=h.asm.B).apply(null,arguments)},h._memset=function(){return(ge=h._memset=h.asm.D).apply(null,arguments)}),Ee=h._malloc=function(){return(Ee=h._malloc=h.asm.E).apply(null,arguments)},ve=h._free=function(){return(ve=h._free=h.asm.F).apply(null,arguments)},ye=h.___errno_location=function(){return(ye=h.___errno_location=h.asm.G).apply(null,arguments)},_e=h.stackSave=function(){return(_e=h.stackSave=h.asm.H).apply(null,arguments)},ke=h.stackRestore=function(){return(ke=h.stackRestore=h.asm.I).apply(null,arguments)},be=h.stackAlloc=function(){return(be=h.stackAlloc=h.asm.J).apply(null,arguments)},De=h._memalign=function(){return(De=h._memalign=h.asm.K).apply(null,arguments)};function Se(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}h.cwrap=function(e,r,t,n){var o=(t=t||[]).every(function(e){return"number"===e});return"string"!==r&&o&&!n?_(e):function(){return k(e,r,t,arguments)}},h.addRunDependency=G,h.removeRunDependency=q,h.FS_createPath=ue.createPath,h.FS_createDataFile=ue.createDataFile,h.FS_createPreloadedFile=ue.createPreloadedFile,h.FS_createLazyFile=ue.createLazyFile,h.FS_createDevice=ue.createDevice,h.FS_unlink=ue.unlink;function Ae(e){function r(){he||(he=!0,h.calledRun=!0,y||(h.noFSInit||ue.init.initialized||ue.init(),oe.init(),ee(C),ue.ignorePermissions=!1,ee(I),t(h),h.onRuntimeInitialized&&h.onRuntimeInitialized(),Fe&&function(e){var r=h._main,t=(e=e||[]).length+1,n=be(4*(t+1));A[n>>2]=R(u);for(var o=1;o<t;o++)A[(n>>2)+o]=R(e[o-1]);A[(n>>2)+t]=0;try{Pe(r(t,n),!0)}catch(e){if(e instanceof Se)return;if("unwind"==e)return v=!0;var a=e;e&&"object"==typeof e&&e.stack&&(a=[e,e.stack]),p("exception thrown: "+a),c(1,e)}finally{0}}(e),j()))}e=e||s,0<H||(z(),0<H||(h.setStatus?(h.setStatus("Running..."),setTimeout(function(){setTimeout(function(){h.setStatus("")},1),r()},1)):r()))}function Pe(e,r){r&&v&&0===e||(v||(h.onExit&&h.onExit(e),y=!0),c(e,new Se(e)))}if(U=function e(){he||Ae(),he||(U=e)},h.run=Ae,h.preInit)for("function"==typeof h.preInit&&(h.preInit=[h.preInit]);0<h.preInit.length;)h.preInit.pop()();var Fe=!0;return h.noInitialRun&&(Fe=!1),Ae(),e.ready});e.exports=r}},n={};function o(e){if(n[e])return n[e].exports;var r=n[e]={exports:{}};return t[e].call(r.exports,r,r.exports,o),r.exports}o.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return o.d(r,{a:r}),r},o.d=(e,r)=>{for(var t in r)o.o(r,t)&&!o.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},o.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),(()=>{"use strict";var e=o(221),r=o.n(e),t=(e,r)=>{const t=location.href;var n=t.indexOf("/static/js/");return 0<=n?t.substring(0,n)+"/tflite-wasm/"+e:"./tflite-wasm/"+e};let i=null,s=null,u=null;self.addEventListener("message",function(e){var{eventType:e,eventData:o,eventID:a}=e.data;"INITIALISE"===e?(i=new(r())(o.arguments[0],t),void 0!==self.OffscreenCanvas&&(s=new OffscreenCanvas(r().getWidth(),r().getHeight()),s.ctx=s.getContext("2d"),u=new OffscreenCanvas(r().getWidth(),r().getHeight()),u.ctx=u.getContext("2d")),i.initDone.then(()=>{self.postMessage({eventType:"INITIALISED"})})):"CALL"===e&&i.initDone.then(()=>{if("RUN_INFERENCE"===o.method){var r=o.arguments[1],t=o.arguments[2];let e=null;if(o.arguments[0]instanceof ImageBitmap&&s){var n=o.arguments[0];s.ctx.drawImage(n,0,0,n.width,n.height,0,0,r,t);n=s.ctx.getImageData(0,0,r,t);e=i.runInference(n)}else{n=new ImageData(new Uint8ClampedArray(o.arguments[0]),o.arguments[3],o.arguments[4]);if(n.width===r&&n.height===t)e=i.runInference(n);else{if(!u)throw Error("TfLiteWorker doesn't support OffscreenCanvas");u.width=n.width,u.height=n.height,u.ctx.putImageData(n,0,0),s.ctx.drawImage(u,0,0,u.width,u.height,0,0,r,t);n=s.ctx.getImageData(0,0,r,t);e=i.runInference(n)}}self.postMessage({eventType:"INFERENCE_RESULT",eventData:[e.buffer,r,t],eventID:a},[e.buffer])}}).catch(e=>{self.postMessage({eventType:"ERROR",eventData:"An error occured executing WASM instance function: "+e.toString(),eventID:a})})},!1)})()})();
//# sourceMappingURL=TfLiteWorker.worker.js.map